<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CommonMark Spec</title>
<style type="text/css">
  body { font-family: Helvetica, arial, freesans, clean, sans-serif;
    line-height: 1.4;
    max-width: 48em;
    margin: auto;
    color: #333333;
    background-color: #fff;
    font-size: 13pt;
  }
div#TOC ul { list-style: none; }
h1 { font-size: 140%; font-weight: bold; border-top: 1px solid gray; padding-top: 0.5em; }
h2 { font-size: 120%; font-weight: bold; }
h3 { font-size: 110%; font-weight: bold; }
h4 { font-size: 100%; font-weight: bold; }
a.definition { font-weight: bold; }
span.space { position: relative; }
span.space:after {
  content: "·";
  position: absolute;
  /* create a mark that indicates a space (trick from D. Greenspan) */
  top: 0px; bottom: 7px; left: 1px; right: 1px;
  color: #AAA;
}
div.example { overflow: hidden; }
p { text-align: justify; }
pre { padding: 0.5em; margin-left: 0; margin-right: 0; margin-top: 0.2em;
  margin-bottom: 0.5em; font-size: 88%; }
pre {
 white-space: pre-wrap;       /* css-3 */
 white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
 white-space: -pre-wrap;      /* Opera 4-6 */
 white-space: -o-pre-wrap;    /* Opera 7 */
 word-wrap: break-word;       /* Internet Explorer 5.5+ */
}
code { font-family: monospace; background-color: #D3E1E4; }
pre > code { background-color: transparent; }
div.example > pre { float:left; width: 48%; }
div.example > pre:nth-child(2) { clear:left; background-color: #D3E1E4; }
div.example > pre:nth-child(3) { clear:right; background-color: #C9CaCE; }
#watermark {
 position:fixed;
 bottom:0px;
 left:0px;
 padding: 1em;
 width: 100%;
 font-size: 120%;
 opacity:0.7;
 z-index:99;
 color: white;
}
#watermark a { color: white; }
div.examplenum { font-size: 82%; text-align: left; }
a.dingus { color: red; cursor: pointer; }
a.footnoteRef > sup:before {
  content: "[";
}
a.footnoteRef > sup:after {
  content: "]";
}
a.footnoteRef > sup {
  vertical-align: baseline;
  font-size: 100%;
}
</style>
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function() {
  $("div.example").each(function(e) {
    var t = $(this).find('code.language-markdown').text();
    $(this).find('a.dingus').click(function(f) {
      window.open('/dingus/?text=' +
        encodeURIComponent(t.replace(/→/g,"\t")));
    });
  });
  $("code.language-markdown").dblclick(function(e) { window.open('/dingus/?text=' +
      encodeURIComponent($(this).find('code').text()));
  });
});
</script>
</head>
<body>
<h1 class="title">CommonMark Spec</h1>
<div class="version">Version 0.18 (2015-03-03)</div>
<div class="authors">
    <span class="author">John MacFarlane</span>
</div>
<div class="license">
<a rel="license"
   href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative
   Commons BY-SA" style="border-width:0"
   src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
   /></a><br/><span style="display:none"><span xmlns:dct="http://purl.org/dc/terms/"
   href="http://purl.org/dc/dcmitype/Text" property="dct:title"
   rel="dct:type">CommonMark Spec</span> by
   <a xmlns:cc="http://creativecommons.org/ns#"
   href="http://spec.commonmark.org" property="cc:attributionName"
   rel="cc:attributionURL">John MacFarlane</a> is licensed under a
   <a rel="license"
   href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
   Commons Attribution-ShareAlike 4.0 International License</a>.</span>
</div>
<div id="watermark"></div>
<div id="TOC">
<ul>
<li><a href="#%E5%89%8D%E8%A8%80">1 前言</a>
<ul>
<li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF-markdown-">1.1 什么是 Markdown?</a></li>
<li><a href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E8%A7%84%E8%8C%83-">1.2 为什么需要规范?</a></li>
<li><a href="#%E5%85%B3%E4%BA%8E%E6%9C%AC%E6%96%87%E6%A1%A3">1.3 关于本文档</a></li>
</ul>
</li>
<li><a href="#%E9%A2%84%E5%A4%87">2 预备</a>
<ul>
<li><a href="#%E5%AD%97%E7%AC%A6%E4%B8%8E%E8%A1%8C">2.1 字符与行</a></li>
<li><a href="#%E5%88%B6%E8%A1%A8%E7%AC%A6">2.2 制表符</a></li>
</ul>
</li>
<li><a href="#%E5%9D%97%E4%B8%8E%E5%86%85%E8%81%94%E5%85%83%E7%B4%A0">3 块与内联元素</a>
<ul>
<li><a href="#%E4%BC%98%E5%85%88%E7%BA%A7">3.1 优先级</a></li>
<li><a href="#%E5%AE%B9%E5%99%A8%E5%9D%97%E5%92%8C%E5%8F%B6%E5%9D%97">3.2 容器块和叶块</a></li>
</ul>
</li>
<li><a href="#%E5%8F%B6%E5%9D%97">4 叶块</a>
<ul>
<li><a href="#%E6%B0%B4%E5%B9%B3%E7%BA%BF">4.1 水平线</a></li>
<li><a href="#atx-%E5%BC%8F%E6%A0%87%E9%A2%98">4.2 ATX 式标题</a></li>
<li><a href="#setext-%E5%BC%8F%E6%A0%87%E9%A2%98">4.3 Setext 式标题</a></li>
<li><a href="#%E7%BC%A9%E8%BF%9B%E5%BC%8F%E4%BB%A3%E7%A0%81%E5%9D%97">4.4 缩进式代码块</a></li>
<li><a href="#%E5%9B%B4%E6%A0%8F%E5%BC%8F%E4%BB%A3%E7%A0%81%E5%9D%97">4.5 围栏式代码块</a></li>
<li><a href="#html-%E5%9D%97">4.6 HTML 块</a></li>
<li><a href="#%E9%93%BE%E6%8E%A5%E5%BC%95%E7%94%A8%E5%AE%9A%E4%B9%89">4.7 链接引用定义</a></li>
<li><a href="#%E6%AE%B5%E8%90%BD">4.8 段落</a></li>
<li><a href="#%E7%A9%BA%E8%A1%8C">4.9 空行</a></li>
</ul>
</li>
<li><a href="#%E5%AE%B9%E5%99%A8%E5%9D%97">5 容器块</a>
<ul>
<li><a href="#%E5%9D%97%E5%BC%95%E7%94%A8">5.1 块引用</a></li>
<li><a href="#%E5%88%97%E8%A1%A8%E9%A1%B9">5.2 列表项</a>
<ul>
<li><a href="#%E8%AE%A8%E8%AE%BA">5.2.1 讨论</a></li>
</ul>
</li>
<li><a href="#%E5%88%97%E8%A1%A8">5.3 列表</a></li>
</ul>
</li>
<li><a href="#%E5%86%85%E8%81%94%E5%85%83%E7%B4%A0">6 内联元素</a>
<ul>
<li><a href="#%E7%94%A8%E5%8F%8D%E6%96%9C%E6%9D%A0%E8%BD%AC%E4%B9%89">6.1 用反斜杠转义</a></li>
<li><a href="#%E5%AE%9E%E4%BD%93">6.2 实体</a></li>
<li><a href="#%E5%86%85%E8%81%94%E4%BB%A3%E7%A0%81">6.3 内联代码</a></li>
<li><a href="#%E5%BC%BA%E8%B0%83%E4%B8%8E%E7%9D%80%E9%87%8D%E5%BC%BA%E8%B0%83">6.4 强调与着重强调</a></li>
<li><a href="#%E9%93%BE%E6%8E%A5">6.5 链接</a></li>
<li><a href="#%E5%9B%BE%E5%83%8F">6.6 图像</a></li>
<li><a href="#%E8%87%AA%E5%8A%A8%E9%93%BE%E6%8E%A5">6.7 自动链接</a></li>
<li><a href="#%E5%8E%9F%E7%94%9F-html">6.8 原生 HTML</a></li>
<li><a href="#%E7%A1%AC%E6%8D%A2%E8%A1%8C">6.9 硬换行</a></li>
<li><a href="#%E8%BD%AF%E6%8D%A2%E8%A1%8C">6.10 软换行</a></li>
<li><a href="#%E6%96%87%E6%9C%AC%E5%86%85%E5%AE%B9">6.11 文本内容</a></li>
</ul>
</li>
<li><a href="#%E9%99%84%E5%BD%95-a-%E8%A7%A3%E6%9E%90%E7%AD%96%E7%95%A5"> 附录 A: 解析策略</a>
<ul>
<li><a href="#%E6%A6%82%E8%BF%B0"> 概述</a></li>
<li><a href="#%E6%96%87%E6%A1%A3%E6%A0%91"> 文档树</a></li>
<li><a href="#%E8%BE%93%E5%85%A5%E8%A1%8C%E6%80%8E%E6%A0%B7%E6%94%B9%E5%8F%98%E6%96%87%E6%A1%A3%E6%A0%91"> 输入行怎样改变文档树</a></li>
<li><a href="#%E4%BB%8E%E5%9D%97%E7%BB%93%E6%9E%84%E5%88%B0%E6%9C%80%E7%BB%88%E6%96%87%E6%A1%A3"> 从块结构到最终文档</a></li>
</ul>
</li>
</ul>
</div>
<p>中文翻译：<a href="https://github.com/yanxyz/commonmark-spec">Ivan Yan</a></p>
<h1 id="前言">1 前言</h1>
<h2 id="什么是-markdown-">1.1 什么是 Markdown?</h2>
<p>Markdown 是一种纯文本格式，用来撰写结构化文档。它基于 email 和 usenet
的格式化标记，由 John Gruber 在 2004 年创造。他用 perl
实现了第一个 Markdown 到 HTML 的转换器，迅速地在网络上普及开来。
到 2014 年已有几十种不同语言的实现。
一些扩展了 Markdown 语法，比如脚注、定义列表、表格等，
一些可以将 Markdown 转换到 LaTeX 等多种格式。</p>
<h2 id="为什么需要规范-">1.2 为什么需要规范?</h2>
<p>John Gruber 的
<a href="http://daringfireball.net/projects/markdown/syntax">Markdown 语法说明</a>
没有清晰的定义 Markdown 语法，下面列举一些问题：</p>
<ol>
<li>
<p>子列表需要缩进多少？语法说明指出列表项内的段落需要缩进四个空格，
但是对于子列表没有明确说明。我们自然地以为子列表也需要缩进，可是
<code>Markdown.pl</code> 不需要。这不是极端情况，
而且各实现在这个上面的分歧常常让用户惊奇。
见 <a href="http://article.gmane.org/gmane.text.markdown.general/1997">John Gruber 的评论</a>。</p>
</li>
<li>
<p>块级引用或标题前是否需要空行？多数实现不要求。但是对于硬换行的文本
可能会导致问题，解析也模棱两可。注意一些实现可以将标题放到块级引用内，
其它则不行。John Gruber 曾提到
<a href="http://article.gmane.org/gmane.text.markdown.general/2146">倾向于需要空行</a>。</p>
</li>
<li>
<p>缩进式代码块前是否需要空行？<code>Markdown.pl</code> 需要，
但是语法说明没有提到，而一些实现不需要。</p>
<pre><code class="language-markdown">paragraph
    code?
</code></pre>
</li>
<li>
<p>如何确定列表项包含在 <code>&lt;p&gt;</code> 标签内？列表可以半紧半松吗？
这样的列表怎么做？</p>
<pre><code class="language-markdown">1. one

2. two
3. three
</code></pre>
<p>或这样？</p>
<pre><code class="language-markdown">1.  one
    - a

    - b
2.  two
</code></pre>
<p>John Gruber 的相关评论见
<a href="http://article.gmane.org/gmane.text.markdown.general/2554">这里</a>。</p>
</li>
<li>
<p>列表标记可以缩进吗？有序列表的标记可以右对齐吗？</p>
<pre><code class="language-markdown"> 8. item 1
 9. item 2
10. item 2a
</code></pre>
</li>
<li>
<p>下面是一个列表，它的第二项包含水平线，还是被水平线隔开的两个列表？</p>
<pre><code class="language-markdown">* a
* * * * *
* b
</code></pre>
</li>
<li>
<p>当列表标记从数字变成无序标记时，结果是一个还是两个列表？
语法说明说是两个，而 <code>Markdown.pl</code> 及许多其它的实现只生成一个。</p>
<pre><code class="language-markdown">1. fee
2. fie
-  foe
-  fum
</code></pre>
</li>
<li>
<p>内联元素标记的优先级？例如下面是链接还是行内代码？</p>
<pre><code class="language-markdown">[a backtick (`)](/url) and [another backtick (`)](/url).
</code></pre>
</li>
<li>
<p>强调与着重强调的优先级？例如下面如何解析？</p>
<pre><code class="language-markdown">*foo *bar* baz*
</code></pre>
</li>
<li>
<p>块与内联结构的优先级？例如下面如何解析？</p>
<pre><code class="language-markdown">- `a long code span can contain a hyphen like this
  - and it can screw things up`
</code></pre>
</li>
<li>
<p>列表项可以包含标题吗？<code>Markdown.pl</code> 不允许这样，
但是允许块引用可以包含标题。</p>
<pre><code class="language-markdown">- # Heading
</code></pre>
</li>
<li>
<p>列表项可以为空吗?</p>
<pre><code class="language-markdown">* a
*
* b
</code></pre>
</li>
<li>
<p>块引用或列表项可以包含链接引用吗？</p>
<pre><code class="language-markdown">&gt; Blockquote [foo].
&gt;
&gt; [foo]: /url
</code></pre>
</li>
<li>
<p>如果一个链接引用有多个定义，那么该用哪个？</p>
<pre><code class="language-markdown">[foo]: /url1
[foo]: /url2

[foo][]
</code></pre>
</li>
</ol>
<p>在缺少规范的情况下，早期的实现大都参考 <code>Markdown.pl</code> 来处理这些含糊的地方。
但是 <code>Markdown.pl</code> 有较多缺陷，许多情况下的结果明显不好，因此它不足以为范本。</p>
<p>由于没有清晰的规范，各种实现之间有分歧，结果用户常常惊奇的发现文档在一个
系统上是这样的（比如说 github wiki），在另一个系统上又是另样的（比如说
用 pandoc 转换到 docbook）。更糟的是，由于 Markdown 没有定义语法错误，
常常不能立即发现这些分歧。</p>
<h2 id="关于本文档">1.3 关于本文档</h2>
<p>本文档尝试清晰的定义 Markdown 语法。文档包含许多示例，Markdown 与 HTML
并排对照，也用作一致性测试。可以运行 <code>spec_tests.py</code> 来对比测试各
Markdown 实现：</p>
<pre><code>python test/spec_tests.py --spec spec.txt --program PROGRAM
</code></pre>
<p>本文档描述了 Markdown 如何解析为一个抽象语法树，可以用 HTML 之外
的语法树表示法，不过 HTML 能够呈现结构差异，并且选择 HTML 后，
测试时便不用写抽象语法树渲染器。</p>
<p>本文档由一个纯文本文件 <code>spec.txt</code> 生成，用 Markdown 写成，有个小的扩展：
并排比较。可以用脚本 <code>tools/makespec.py</code> 把它转换为 HTML 或者 CommonMark，
CommonMark 可以再转换成其它格式。</p>
<p>示例中字符 <code>→</code> 代表制表符。</p>
<h1 id="预备">2 预备</h1>
<h2 id="字符与行">2.1 字符与行</h2>
<p>任意一串<a href="#character">字符</a>都是有效的 CommonMark 文档。</p>
<p>一个 <a id="character" href="#character" class="definition">字符</a> 是一个 unicode 代码点。本规范不指定编码，
行视为由字符而不是字节组成。某个解析器可能只处理某个编码。</p>
<p>一个<a id="line" href="#line" class="definition">行</a>是一串零或多个的<a href="#character">字符</a>，以及<a href="#line-ending">行结束符</a>或文档结尾。</p>
<p><a id="line-ending" href="#line-ending" class="definition">行结束符</a> 是换行(<code>U+000A</code>)、回车(<code>U+000D</code>) 或回车换行，
取决于操作系统。</p>
<p>出于安全原因，解析器需要删除或替换字符 <code>U+0000</code>。</p>
<p>不包含字符，或者只包含空格(<code>U+0020</code>) 或制表符(<code>U+0009</code>) 的行称为
<a id="blank-line" href="#blank-line" class="definition">空行</a>。</p>
<p>本规范使用下面字符类定义：</p>
<p><a id="whitespace-character" href="#whitespace-character" class="definition">空白字符</a> 是空格(<code>U+0020</code>),
制表符(<code>U+0009</code>), 换行 (<code>U+000A</code>), 竖向制表符(<code>U+000B</code>),
换页(<code>U+000C</code>), 或回车(<code>U+000D</code>)。</p>
<p><a id="whitespace" href="#whitespace" class="definition">空白</a> 是一串一或多个<a href="#whitespace-character">空白字符</a>。</p>
<p><a id="unicode-whitespace-character" href="#unicode-whitespace-character" class="definition">unicode 空白字符</a> 是一个 unicode <code>Zs</code>
类中的代码点，或制表符(<code>U+0009</code>), 回车(<code>U+000D</code>), 换行(<code>U+000A</code>)
或换页(<code>U+000C</code>)。</p>
<p><a id="unicode-whitespace" href="#unicode-whitespace" class="definition">Unicode 空白</a>是一串一或多个<a href="#unicode-whitespace-character">unicode 空白字符</a>。</p>
<p><a id="non-space-character" href="#non-space-character" class="definition">非空白字符</a>是除 <code>U+0020</code> 之外的字符。</p>
<p><a id="ascii-punctuation-character" href="#ascii-punctuation-character" class="definition">ASCII 标点符号</a>是
<code>!</code>, <code>&quot;</code>, <code>#</code>, <code>$</code>, <code>%</code>, <code>&amp;</code>, <code>'</code>, <code>(</code>, <code>)</code>,
<code>*</code>, <code>+</code>, <code>,</code>, <code>-</code>, <code>.</code>, <code>/</code>, <code>:</code>, <code>;</code>, <code>&lt;</code>, <code>=</code>, <code>&gt;</code>, <code>?</code>, <code>@</code>,
<code>[</code>, <code>\</code>, <code>]</code>, <code>^</code>, <code>_</code>, <code>`</code>, <code>{</code>, <code>|</code>, <code>}</code>, 或 <code>~</code>。</p>
<p><a id="punctuation-character" href="#punctuation-character" class="definition">标点符号</a> 是 <a href="#ascii-punctuation-character">ASCII 标点符号</a>或 unicode 类
<code>Pc</code>, <code>Pd</code>, <code>Pe</code>, <code>Pf</code>, <code>Pi</code>, <code>Po</code>, 或 <code>Ps</code> 中的代码点。</p>
<h2 id="制表符">2.2 制表符</h2>
<p>行内的制表符转为四个空格，制表位为四个字符宽度：</p>
<div class="example" id="example-1" data-section="制表符">
<div class="examplenum"><a href="#example-1">Example 1</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">→foo→baz→→bim
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;foo<span class="space"> </span>baz<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>bim
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<div class="example" id="example-2" data-section="制表符">
<div class="examplenum"><a href="#example-2">Example 2</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>a→a
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>ὐ→a
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;a<span class="space"> </span><span class="space"> </span><span class="space"> </span>a
ὐ<span class="space"> </span><span class="space"> </span><span class="space"> </span>a
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<h1 id="块与内联元素">3 块与内联元素</h1>
<p>文档可视为连续的<a id="block" href="#block" class="definition">块</a>，比如：段落、块引用、标题、水平线、
代码块。块可以包含其它块或<a id="inline" href="#inline" class="definition">内联元素</a>：单词、空格、链接、
强调、图片、内联代码。</p>
<h2 id="优先级">3.1 优先级</h2>
<p>块始终优先于内联元素。例如下面列表，包含两个列表项，而不是一个包含
内联代码的列表项：</p>
<div class="example" id="example-3" data-section="优先级">
<div class="examplenum"><a href="#example-3">Example 3</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>`one
-<span class="space"> </span>two`
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;`one&lt;/li&gt;
&lt;li&gt;two`&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>这意味着解析过程可分为两步：一，块结构；二，段落、标题及其它块内的
文本行，解析出内联元素。第二步的引用链接定义，需要等到第一步解析完成。
注意第一步只能串行解析行，但是第二步可并行，因为解析一个块内的内联元素不
影响解析其它块内的内联元素。</p>
<h2 id="容器块和叶块">3.2 容器块和叶块</h2>
<p>块分为两类：<a id="container-block" href="#container-block" class="definition">容器块</a>和 <a id="leaf-block" href="#leaf-block" class="definition">叶块</a>。
前者可以包含其它块，后者不能。</p>
<h1 id="叶块">4 叶块</h1>
<p>这节描述各类叶块。</p>
<h2 id="水平线">4.1 水平线</h2>
<p>由0-3 个空格的缩进及三或多个 <code>-</code>, <code>_</code>, <code>*</code> 字符组成的行，形成
<a id="horizontal-rule" href="#horizontal-rule" class="definition">水平线</a>。几个字符一样，每个字符后面可以有任意的空格。</p>
<div class="example" id="example-4" data-section="水平线">
<div class="examplenum"><a href="#example-4">Example 4</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">***
---
___
</code></pre>
<pre><code class="language-html">&lt;hr<span class="space"> </span>/&gt;
&lt;hr<span class="space"> </span>/&gt;
&lt;hr<span class="space"> </span>/&gt;
</code></pre>
</div>
<p>字符错误：</p>
<div class="example" id="example-5" data-section="水平线">
<div class="examplenum"><a href="#example-5">Example 5</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">+++
</code></pre>
<pre><code class="language-html">&lt;p&gt;+++&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-6" data-section="水平线">
<div class="examplenum"><a href="#example-6">Example 6</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">===
</code></pre>
<pre><code class="language-html">&lt;p&gt;===&lt;/p&gt;
</code></pre>
</div>
<p>字符不够：</p>
<div class="example" id="example-7" data-section="水平线">
<div class="examplenum"><a href="#example-7">Example 7</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">--
**
__
</code></pre>
<pre><code class="language-html">&lt;p&gt;--
**
__&lt;/p&gt;
</code></pre>
</div>
<p>可以缩进 1-3 个空格：</p>
<div class="example" id="example-8" data-section="水平线">
<div class="examplenum"><a href="#example-8">Example 8</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span>***
<span class="space"> </span><span class="space"> </span>***
<span class="space"> </span><span class="space"> </span><span class="space"> </span>***
</code></pre>
<pre><code class="language-html">&lt;hr<span class="space"> </span>/&gt;
&lt;hr<span class="space"> </span>/&gt;
&lt;hr<span class="space"> </span>/&gt;
</code></pre>
</div>
<p>缩进四个空格就多了：</p>
<div class="example" id="example-9" data-section="水平线">
<div class="examplenum"><a href="#example-9">Example 9</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>***
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;***
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<div class="example" id="example-10" data-section="水平线">
<div class="examplenum"><a href="#example-10">Example 10</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">Foo
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>***
</code></pre>
<pre><code class="language-html">&lt;p&gt;Foo
***&lt;/p&gt;
</code></pre>
</div>
<p>可以用三个以上的字符：</p>
<div class="example" id="example-11" data-section="水平线">
<div class="examplenum"><a href="#example-11">Example 11</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_____________________________________
</code></pre>
<pre><code class="language-html">&lt;hr<span class="space"> </span>/&gt;
</code></pre>
</div>
<p>字符之间可以有空格：</p>
<div class="example" id="example-12" data-section="水平线">
<div class="examplenum"><a href="#example-12">Example 12</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span>-<span class="space"> </span>-<span class="space"> </span>-
</code></pre>
<pre><code class="language-html">&lt;hr<span class="space"> </span>/&gt;
</code></pre>
</div>
<div class="example" id="example-13" data-section="水平线">
<div class="examplenum"><a href="#example-13">Example 13</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span>**<span class="space"> </span><span class="space"> </span>*<span class="space"> </span>**<span class="space"> </span>*<span class="space"> </span>**<span class="space"> </span>*<span class="space"> </span>**
</code></pre>
<pre><code class="language-html">&lt;hr<span class="space"> </span>/&gt;
</code></pre>
</div>
<div class="example" id="example-14" data-section="水平线">
<div class="examplenum"><a href="#example-14">Example 14</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>-<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>-<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>-
</code></pre>
<pre><code class="language-html">&lt;hr<span class="space"> </span>/&gt;
</code></pre>
</div>
<p>末尾可以有空格：</p>
<div class="example" id="example-15" data-section="水平线">
<div class="examplenum"><a href="#example-15">Example 15</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>-<span class="space"> </span>-<span class="space"> </span>-
</code></pre>
<pre><code class="language-html">&lt;hr<span class="space"> </span>/&gt;
</code></pre>
</div>
<p>但是开头或末尾不能有其它的字符：</p>
<div class="example" id="example-16" data-section="水平线">
<div class="examplenum"><a href="#example-16">Example 16</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_<span class="space"> </span>_<span class="space"> </span>_<span class="space"> </span>_<span class="space"> </span>a

a------
</code></pre>
<pre><code class="language-html">&lt;p&gt;_<span class="space"> </span>_<span class="space"> </span>_<span class="space"> </span>_<span class="space"> </span>a&lt;/p&gt;
&lt;p&gt;a------&lt;/p&gt;
</code></pre>
</div>
<p>[非空格字符]要求一样，下面便不是水平线：</p>
<div class="example" id="example-17" data-section="水平线">
<div class="examplenum"><a href="#example-17">Example 17</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span>*-*
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;-&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<p>水平线前后不需要空行：</p>
<div class="example" id="example-18" data-section="水平线">
<div class="examplenum"><a href="#example-18">Example 18</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>foo
***
-<span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;/ul&gt;
&lt;hr<span class="space"> </span>/&gt;
&lt;ul&gt;
&lt;li&gt;bar&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>水平线可以中断段落：</p>
<div class="example" id="example-19" data-section="水平线">
<div class="examplenum"><a href="#example-19">Example 19</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">Foo
***
bar
</code></pre>
<pre><code class="language-html">&lt;p&gt;Foo&lt;/p&gt;
&lt;hr<span class="space"> </span>/&gt;
&lt;p&gt;bar&lt;/p&gt;
</code></pre>
</div>
<p>如果一行 <code>-</code> 可以为水平线，也可以为<a href="#setext-%E5%BC%8F%E6%A0%87%E9%A2%98">Setext 式标题</a>的底线，则优先考虑
<a href="#setext-%E5%BC%8F%E6%A0%87%E9%A2%98">Setext 式标题</a>。因此，下面是<a href="#setext-%E5%BC%8F%E6%A0%87%E9%A2%98">Setext 式标题</a>，而不是跟着水平线
的段落：</p>
<div class="example" id="example-20" data-section="水平线">
<div class="examplenum"><a href="#example-20">Example 20</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">Foo
---
bar
</code></pre>
<pre><code class="language-html">&lt;h2&gt;Foo&lt;/h2&gt;
&lt;p&gt;bar&lt;/p&gt;
</code></pre>
</div>
<p>水平线优先于列表项：</p>
<div class="example" id="example-21" data-section="水平线">
<div class="examplenum"><a href="#example-21">Example 21</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*<span class="space"> </span>Foo
*<span class="space"> </span>*<span class="space"> </span>*
*<span class="space"> </span>Bar
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;Foo&lt;/li&gt;
&lt;/ul&gt;
&lt;hr<span class="space"> </span>/&gt;
&lt;ul&gt;
&lt;li&gt;Bar&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>如果想在列表项中插入水平线，那么使用不同的项目符号：</p>
<div class="example" id="example-22" data-section="水平线">
<div class="examplenum"><a href="#example-22">Example 22</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>Foo
-<span class="space"> </span>*<span class="space"> </span>*<span class="space"> </span>*
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;Foo&lt;/li&gt;
&lt;li&gt;&lt;hr<span class="space"> </span>/&gt;&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<h2 id="atx-式标题">4.2 ATX 式标题</h2>
<p><a id="atx-header" href="#atx-header" class="definition">ATX 式标题</a>由开始序列、标题内容、关闭序列组成。
开始序列为 1-6 个 <code>#</code>， 可以缩进 1-3个空格。
它的后面不能直接跟着<a href="#non-space-character">非空白字符</a>。
关闭序列可选，为任意个 <code>#</code>，它的前面必须有一个空格，后面只能是空格。
标题的原生内容在解析前删除首尾空格。标题的级别等于开始序列 <code>#</code> 的个数。</p>
<p>简单标题:</p>
<div class="example" id="example-23" data-section="ATX 式标题">
<div class="examplenum"><a href="#example-23">Example 23</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">#<span class="space"> </span>foo
##<span class="space"> </span>foo
###<span class="space"> </span>foo
####<span class="space"> </span>foo
#####<span class="space"> </span>foo
######<span class="space"> </span>foo
</code></pre>
<pre><code class="language-html">&lt;h1&gt;foo&lt;/h1&gt;
&lt;h2&gt;foo&lt;/h2&gt;
&lt;h3&gt;foo&lt;/h3&gt;
&lt;h4&gt;foo&lt;/h4&gt;
&lt;h5&gt;foo&lt;/h5&gt;
&lt;h6&gt;foo&lt;/h6&gt;
</code></pre>
</div>
<p>超过六个 <code>#</code> 不是标题:</p>
<div class="example" id="example-24" data-section="ATX 式标题">
<div class="examplenum"><a href="#example-24">Example 24</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">#######<span class="space"> </span>foo
</code></pre>
<pre><code class="language-html">&lt;p&gt;#######<span class="space"> </span>foo&lt;/p&gt;
</code></pre>
</div>
<p><code>#</code> 字符与标题内容之间需要一个空格。注意目前许多实现不要求这样。
不过 <a href="http://www.aaronsw.com/2002/atx/atx.py">ATX 实现</a>需要，并且
可以避免下面情形被解析为标题：</p>
<div class="example" id="example-25" data-section="ATX 式标题">
<div class="examplenum"><a href="#example-25">Example 25</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">#5<span class="space"> </span>bolt
</code></pre>
<pre><code class="language-html">&lt;p&gt;#5<span class="space"> </span>bolt&lt;/p&gt;
</code></pre>
</div>
<p>下例不是标题，因为第一个 <code>#</code> 被转义:</p>
<div class="example" id="example-26" data-section="ATX 式标题">
<div class="examplenum"><a href="#example-26">Example 26</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">\##<span class="space"> </span>foo
</code></pre>
<pre><code class="language-html">&lt;p&gt;##<span class="space"> </span>foo&lt;/p&gt;
</code></pre>
</div>
<p>标题内容解析为内联元素：</p>
<div class="example" id="example-27" data-section="ATX 式标题">
<div class="examplenum"><a href="#example-27">Example 27</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">#<span class="space"> </span>foo<span class="space"> </span>*bar*<span class="space"> </span>\*baz\*
</code></pre>
<pre><code class="language-html">&lt;h1&gt;foo<span class="space"> </span>&lt;em&gt;bar&lt;/em&gt;<span class="space"> </span>*baz*&lt;/h1&gt;
</code></pre>
</div>
<p>解析时忽略内容的首尾空白：</p>
<div class="example" id="example-28" data-section="ATX 式标题">
<div class="examplenum"><a href="#example-28">Example 28</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">#<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>foo
</code></pre>
<pre><code class="language-html">&lt;h1&gt;foo&lt;/h1&gt;
</code></pre>
</div>
<p>可以缩进 1-3 个空格：</p>
<div class="example" id="example-29" data-section="ATX 式标题">
<div class="examplenum"><a href="#example-29">Example 29</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span>###<span class="space"> </span>foo
<span class="space"> </span><span class="space"> </span>##<span class="space"> </span>foo
<span class="space"> </span><span class="space"> </span><span class="space"> </span>#<span class="space"> </span>foo
</code></pre>
<pre><code class="language-html">&lt;h3&gt;foo&lt;/h3&gt;
&lt;h2&gt;foo&lt;/h2&gt;
&lt;h1&gt;foo&lt;/h1&gt;
</code></pre>
</div>
<p>缩进四个空格就多了：</p>
<div class="example" id="example-30" data-section="ATX 式标题">
<div class="examplenum"><a href="#example-30">Example 30</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>#<span class="space"> </span>foo
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;#<span class="space"> </span>foo
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<div class="example" id="example-31" data-section="ATX 式标题">
<div class="examplenum"><a href="#example-31">Example 31</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>#<span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo
#<span class="space"> </span>bar&lt;/p&gt;
</code></pre>
</div>
<p>关闭序列可选：</p>
<div class="example" id="example-32" data-section="ATX 式标题">
<div class="examplenum"><a href="#example-32">Example 32</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">##<span class="space"> </span>foo<span class="space"> </span>##
<span class="space"> </span><span class="space"> </span>###<span class="space"> </span><span class="space"> </span><span class="space"> </span>bar<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>###
</code></pre>
<pre><code class="language-html">&lt;h2&gt;foo&lt;/h2&gt;
&lt;h3&gt;bar&lt;/h3&gt;
</code></pre>
</div>
<p>它的长度不需要与开始序列一致:</p>
<div class="example" id="example-33" data-section="ATX 式标题">
<div class="examplenum"><a href="#example-33">Example 33</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">#<span class="space"> </span>foo<span class="space"> </span>##################################
#####<span class="space"> </span>foo<span class="space"> </span>##
</code></pre>
<pre><code class="language-html">&lt;h1&gt;foo&lt;/h1&gt;
&lt;h5&gt;foo&lt;/h5&gt;
</code></pre>
</div>
<p>关闭序列后面可以有空格：</p>
<div class="example" id="example-34" data-section="ATX 式标题">
<div class="examplenum"><a href="#example-34">Example 34</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">###<span class="space"> </span>foo<span class="space"> </span>###
</code></pre>
<pre><code class="language-html">&lt;h3&gt;foo&lt;/h3&gt;
</code></pre>
</div>
<p>后面跟着<a href="#non-space-character">非空白字符</a>的 <code>#</code> 序列不是关闭序列，视为标题内容的一部分：</p>
<div class="example" id="example-35" data-section="ATX 式标题">
<div class="examplenum"><a href="#example-35">Example 35</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">###<span class="space"> </span>foo<span class="space"> </span>###<span class="space"> </span>b
</code></pre>
<pre><code class="language-html">&lt;h3&gt;foo<span class="space"> </span>###<span class="space"> </span>b&lt;/h3&gt;
</code></pre>
</div>
<p>被反斜杠转义的 <code>#</code> 字符计入关闭序列：</p>
<div class="example" id="example-36" data-section="ATX 式标题">
<div class="examplenum"><a href="#example-36">Example 36</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">###<span class="space"> </span>foo<span class="space"> </span>\###
##<span class="space"> </span>foo<span class="space"> </span>\#\##
#<span class="space"> </span>foo<span class="space"> </span>\#
</code></pre>
<pre><code class="language-html">&lt;h3&gt;foo<span class="space"> </span>#&lt;/h3&gt;
&lt;h2&gt;foo<span class="space"> </span>##&lt;/h2&gt;
&lt;h1&gt;foo<span class="space"> </span>#&lt;/h1&gt;
</code></pre>
</div>
<p>ATX 式标题前后不需要空行，它可以中断段落：</p>
<div class="example" id="example-37" data-section="ATX 式标题">
<div class="examplenum"><a href="#example-37">Example 37</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">****
##<span class="space"> </span>foo
****
</code></pre>
<pre><code class="language-html">&lt;hr<span class="space"> </span>/&gt;
&lt;h2&gt;foo&lt;/h2&gt;
&lt;hr<span class="space"> </span>/&gt;
</code></pre>
</div>
<div class="example" id="example-38" data-section="ATX 式标题">
<div class="examplenum"><a href="#example-38">Example 38</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">Foo<span class="space"> </span>bar
#<span class="space"> </span>baz
Bar<span class="space"> </span>foo
</code></pre>
<pre><code class="language-html">&lt;p&gt;Foo<span class="space"> </span>bar&lt;/p&gt;
&lt;h1&gt;baz&lt;/h1&gt;
&lt;p&gt;Bar<span class="space"> </span>foo&lt;/p&gt;
</code></pre>
</div>
<p>ATX 式标题可以为空：</p>
<div class="example" id="example-39" data-section="ATX 式标题">
<div class="examplenum"><a href="#example-39">Example 39</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">##
#
###<span class="space"> </span>###
</code></pre>
<pre><code class="language-html">&lt;h2&gt;&lt;/h2&gt;
&lt;h1&gt;&lt;/h1&gt;
&lt;h3&gt;&lt;/h3&gt;
</code></pre>
</div>
<h2 id="setext-式标题">4.3 Setext 式标题</h2>
<p><a id="setext-header" href="#setext-header" class="definition">Setext 式标题</a>由一行文本（至少有一个<a href="#non-space-character">非空白字符</a>，
至多缩进三个空格）及 <a href="#setext-header-underline">setext 式标题底线</a>组成。</p>
<p><a id="setext-header-underline" href="#setext-header-underline" class="definition">setext 式标题底线</a>是一串 <code>=</code> 或 <code>-</code> 字符，
至多缩进三个空格，末尾可以有任意个空格。如果一个包含单个 <code>-</code> 行
能解析为列表项，则不能解析为标题底线。</p>
<p><a href="#setext-header-underline">setext 式标题底线</a>使用 <code>=</code> 则是第一级标题，使用 <code>-</code> 字符则是第二级
标题。第一行按内联元素解析的结果是标题的内容。</p>
<p>通常 Setext 式标题前后不需要空行。不过它不能中断段落，所以当它后面跟着
段落时，它们之间需要空行。</p>
<p>简单示例：</p>
<div class="example" id="example-40" data-section="Setext 式标题">
<div class="examplenum"><a href="#example-40">Example 40</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">Foo<span class="space"> </span>*bar*
=========

Foo<span class="space"> </span>*bar*
---------
</code></pre>
<pre><code class="language-html">&lt;h1&gt;Foo<span class="space"> </span>&lt;em&gt;bar&lt;/em&gt;&lt;/h1&gt;
&lt;h2&gt;Foo<span class="space"> </span>&lt;em&gt;bar&lt;/em&gt;&lt;/h2&gt;
</code></pre>
</div>
<p>底线长度任意：</p>
<div class="example" id="example-41" data-section="Setext 式标题">
<div class="examplenum"><a href="#example-41">Example 41</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">Foo
-------------------------

Foo
=
</code></pre>
<pre><code class="language-html">&lt;h2&gt;Foo&lt;/h2&gt;
&lt;h1&gt;Foo&lt;/h1&gt;
</code></pre>
</div>
<p>标题内容可以缩进 1-3 个空格，并且不需要与底线对齐：</p>
<div class="example" id="example-42" data-section="Setext 式标题">
<div class="examplenum"><a href="#example-42">Example 42</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span>Foo
---

<span class="space"> </span><span class="space"> </span>Foo
-----

<span class="space"> </span><span class="space"> </span>Foo
<span class="space"> </span><span class="space"> </span>===
</code></pre>
<pre><code class="language-html">&lt;h2&gt;Foo&lt;/h2&gt;
&lt;h2&gt;Foo&lt;/h2&gt;
&lt;h1&gt;Foo&lt;/h1&gt;
</code></pre>
</div>
<p>缩进四个空格就多了：</p>
<div class="example" id="example-43" data-section="Setext 式标题">
<div class="examplenum"><a href="#example-43">Example 43</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>Foo
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>---

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>Foo
---
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;Foo
---

Foo
&lt;/code&gt;&lt;/pre&gt;
&lt;hr<span class="space"> </span>/&gt;
</code></pre>
</div>
<p>底线可以缩进 1-3 个空格，并且末尾可以有空格：</p>
<div class="example" id="example-44" data-section="Setext 式标题">
<div class="examplenum"><a href="#example-44">Example 44</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">Foo
<span class="space"> </span><span class="space"> </span><span class="space"> </span>----
</code></pre>
<pre><code class="language-html">&lt;h2&gt;Foo&lt;/h2&gt;
</code></pre>
</div>
<p>缩进四个空格就多了：</p>
<div class="example" id="example-45" data-section="Setext 式标题">
<div class="examplenum"><a href="#example-45">Example 45</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">Foo
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>---
</code></pre>
<pre><code class="language-html">&lt;p&gt;Foo
---&lt;/p&gt;
</code></pre>
</div>
<p>底线内部不能有空格：</p>
<div class="example" id="example-46" data-section="Setext 式标题">
<div class="examplenum"><a href="#example-46">Example 46</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">Foo
=<span class="space"> </span>=

Foo
---<span class="space"> </span>-
</code></pre>
<pre><code class="language-html">&lt;p&gt;Foo
=<span class="space"> </span>=&lt;/p&gt;
&lt;p&gt;Foo&lt;/p&gt;
&lt;hr<span class="space"> </span>/&gt;
</code></pre>
</div>
<p>内容行末尾的空格不会导致换行：</p>
<div class="example" id="example-47" data-section="Setext 式标题">
<div class="examplenum"><a href="#example-47">Example 47</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">Foo
-----
</code></pre>
<pre><code class="language-html">&lt;h2&gt;Foo&lt;/h2&gt;
</code></pre>
</div>
<p>反斜杠也不会：</p>
<div class="example" id="example-48" data-section="Setext 式标题">
<div class="examplenum"><a href="#example-48">Example 48</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">Foo\
----
</code></pre>
<pre><code class="language-html">&lt;h2&gt;Foo\&lt;/h2&gt;
</code></pre>
</div>
<p>因为块结构优先于内联结构，所以下面的是 Setext 式标题：</p>
<div class="example" id="example-49" data-section="Setext 式标题">
<div class="examplenum"><a href="#example-49">Example 49</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">`Foo
----
`

&lt;a<span class="space"> </span>title=&quot;a<span class="space"> </span>lot
---
of<span class="space"> </span>dashes&quot;/&gt;
</code></pre>
<pre><code class="language-html">&lt;h2&gt;`Foo&lt;/h2&gt;
&lt;p&gt;`&lt;/p&gt;
&lt;h2&gt;&amp;lt;a<span class="space"> </span>title=&amp;quot;a<span class="space"> </span>lot&lt;/h2&gt;
&lt;p&gt;of<span class="space"> </span>dashes&amp;quot;/&amp;gt;&lt;/p&gt;
</code></pre>
</div>
<p>底线不能是列表黄或块引用的<a href="#lazy-continuation-line">懒惰连续行</a>：</p>
<div class="example" id="example-50" data-section="Setext 式标题">
<div class="examplenum"><a href="#example-50">Example 50</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span>Foo
---
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;p&gt;Foo&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr<span class="space"> </span>/&gt;
</code></pre>
</div>
<p>Setext 式标题不能中断段落：</p>
<div class="example" id="example-51" data-section="Setext 式标题">
<div class="examplenum"><a href="#example-51">Example 51</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">Foo
Bar
---

Foo
Bar
===
</code></pre>
<pre><code class="language-html">&lt;p&gt;Foo
Bar&lt;/p&gt;
&lt;hr<span class="space"> </span>/&gt;
&lt;p&gt;Foo
Bar
===&lt;/p&gt;
</code></pre>
</div>
<p>不过通过前后不需要空行：</p>
<div class="example" id="example-52" data-section="Setext 式标题">
<div class="examplenum"><a href="#example-52">Example 52</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">---
Foo
---
Bar
---
Baz
</code></pre>
<pre><code class="language-html">&lt;hr<span class="space"> </span>/&gt;
&lt;h2&gt;Foo&lt;/h2&gt;
&lt;h2&gt;Bar&lt;/h2&gt;
&lt;p&gt;Baz&lt;/p&gt;
</code></pre>
</div>
<p>Setext 式标题不能为空：</p>
<div class="example" id="example-53" data-section="Setext 式标题">
<div class="examplenum"><a href="#example-53">Example 53</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">
====
</code></pre>
<pre><code class="language-html">&lt;p&gt;====&lt;/p&gt;
</code></pre>
</div>
<p>内容行不能解析为段落之外的块结构。故下例虚线行解析为水平线：</p>
<div class="example" id="example-54" data-section="Setext 式标题">
<div class="examplenum"><a href="#example-54">Example 54</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">---
---
</code></pre>
<pre><code class="language-html">&lt;hr<span class="space"> </span>/&gt;
&lt;hr<span class="space"> </span>/&gt;
</code></pre>
</div>
<div class="example" id="example-55" data-section="Setext 式标题">
<div class="examplenum"><a href="#example-55">Example 55</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>foo
-----
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;/ul&gt;
&lt;hr<span class="space"> </span>/&gt;
</code></pre>
</div>
<div class="example" id="example-56" data-section="Setext 式标题">
<div class="examplenum"><a href="#example-56">Example 56</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>foo
---
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;foo
&lt;/code&gt;&lt;/pre&gt;
&lt;hr<span class="space"> </span>/&gt;
</code></pre>
</div>
<div class="example" id="example-57" data-section="Setext 式标题">
<div class="examplenum"><a href="#example-57">Example 57</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span>foo
-----
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr<span class="space"> </span>/&gt;
</code></pre>
</div>
<p>内容行想包含 <code>&gt; foo</code>，使用反斜杠转义：</p>
<div class="example" id="example-58" data-section="Setext 式标题">
<div class="examplenum"><a href="#example-58">Example 58</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">\&gt;<span class="space"> </span>foo
------
</code></pre>
<pre><code class="language-html">&lt;h2&gt;&amp;gt;<span class="space"> </span>foo&lt;/h2&gt;
</code></pre>
</div>
<h2 id="缩进式代码块">4.4 缩进式代码块</h2>
<p><a id="indented-code-block" href="#indented-code-block" class="definition">缩进式代码块</a>由空行隔开的数个<a href="#indented-chunk">缩进块</a>组成。
<a id="indented-chunk" href="#indented-chunk" class="definition">缩进块</a>是数个非空行，每行缩进四个或多个空格。代码块的内容
是这些行的字面内容，包含末尾的<a href="#line-ending">行结束符</a>，不包含四个空格的缩进。
缩进式代码块没有<a href="#info-string">信息字符串</a>。</p>
<p>缩进式代码块不能中断段落，当它跟在段落后面时，两者之间需要空行。
不过，当它在段落前面时，两者之间不需要用空行。</p>
<div class="example" id="example-59" data-section="缩进式代码块">
<div class="examplenum"><a href="#example-59">Example 59</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>a<span class="space"> </span>simple
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>indented<span class="space"> </span>code<span class="space"> </span>block
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;a<span class="space"> </span>simple
<span class="space"> </span><span class="space"> </span>indented<span class="space"> </span>code<span class="space"> </span>block
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>内容是字面上的，不会以 Markdown 语法解析：</p>
<div class="example" id="example-60" data-section="缩进式代码块">
<div class="examplenum"><a href="#example-60">Example 60</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>&lt;a/&gt;
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>*hi*

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>-<span class="space"> </span>one
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;&amp;lt;a/&amp;gt;
*hi*

-<span class="space"> </span>one
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>下面三块以空行隔开：</p>
<div class="example" id="example-61" data-section="缩进式代码块">
<div class="examplenum"><a href="#example-61">Example 61</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>chunk1

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>chunk2




<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>chunk3
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;chunk1

chunk2



chunk3
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>头部四个空格之后的空格，甚至是内部的空行，计入代码块的内容：</p>
<div class="example" id="example-62" data-section="缩进式代码块">
<div class="examplenum"><a href="#example-62">Example 62</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>chunk1

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>chunk2
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;chunk1

<span class="space"> </span><span class="space"> </span>chunk2
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>缩进式代码块不能中断段落，这样可以悬挂缩进等等。</p>
<div class="example" id="example-63" data-section="缩进式代码块">
<div class="examplenum"><a href="#example-63">Example 63</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">Foo
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>bar

</code></pre>
<pre><code class="language-html">&lt;p&gt;Foo
bar&lt;/p&gt;
</code></pre>
</div>
<p>不过，头部少于四个空格的非空行将直接结束代码块。故段落可以紧跟在它后面：</p>
<div class="example" id="example-64" data-section="缩进式代码块">
<div class="examplenum"><a href="#example-64">Example 64</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>foo
bar
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;foo
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;bar&lt;/p&gt;
</code></pre>
</div>
<p>缩进式代码块可直接位于其它类型块的前后：</p>
<div class="example" id="example-65" data-section="缩进式代码块">
<div class="examplenum"><a href="#example-65">Example 65</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">#<span class="space"> </span>Header
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>foo
Header
------
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>foo
----
</code></pre>
<pre><code class="language-html">&lt;h1&gt;Header&lt;/h1&gt;
&lt;pre&gt;&lt;code&gt;foo
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Header&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;foo
&lt;/code&gt;&lt;/pre&gt;
&lt;hr<span class="space"> </span>/&gt;
</code></pre>
</div>
<p>第一行可以缩进四个以上空格：</p>
<div class="example" id="example-66" data-section="缩进式代码块">
<div class="examplenum"><a href="#example-66">Example 66</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>foo
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>foo
bar
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>缩进式代码块前后的空行不计入它的内容：</p>
<div class="example" id="example-67" data-section="缩进式代码块">
<div class="examplenum"><a href="#example-67">Example 67</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>foo


</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;foo
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>尾部空格计入代码块内容：</p>
<div class="example" id="example-68" data-section="缩进式代码块">
<div class="examplenum"><a href="#example-68">Example 68</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>foo
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;foo
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<h2 id="围栏式代码块">4.5 围栏式代码块</h2>
<p><a id="code-fence" href="#code-fence" class="definition">代码栅栏</a>由至少三个连续的反引号(<code>`</code>)或波浪号(<code>~</code>)组成。
两者不能混合。
<a id="fenced-code-block" href="#fenced-code-block" class="definition">围栏式代码块</a>以代码栅栏开始，最多可缩进三个空格。</p>
<p>开始栅栏行可以包含一些文本，去掉它的前后空白后称为
<a id="info-string" href="#info-string" class="definition">信息字符串</a>。信息字符串不包含反引号，防止
内联代码被解析为围栏式代码块的开始。</p>
<p>代码块的内容为开始栅栏之后的行，直到结束栅栏。结束栅栏与开始栅栏的字符一致，
至少相同个数。如果开始栅栏缩进 N 个空格，则每个内容行会删除 N 个空格缩进，
没有缩进则保持不变，少于 N 个则删除所有缩进。</p>
<p>结束栅栏最多可以缩进三个空格，后面可以跟空格，不过将忽略。如果到了包含块
或文档的结尾没有结束栅栏，则代码块包含开始栅栏与包含块或文档的结尾之间
所有的行。备选规范可能要求在没有结束栅栏的情况下回溯，不过这将降低解析
的效率。而且本规范在这里似乎没有实际的不妥。</p>
<p>围栏式代码块可中断段落，它的前后不需要空行。</p>
<p>栅栏行的内容按字面对待，而不会解析为内联元素。<a href="#info-string">信息字符串</a>的第一个单词
用于指定代码的语言，并作为 <code>code</code> 标签的 <code>class</code> 值。本规范不指定如何处理
<a href="#info-string">信息字符串</a>的办法。</p>
<p>下面示例使用反引号:</p>
<div class="example" id="example-69" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-69">Example 69</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">```
&lt;
<span class="space"> </span>&gt;
```
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;&amp;lt;
<span class="space"> </span>&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>使用波浪号:</p>
<div class="example" id="example-70" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-70">Example 70</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">~~~
&lt;
<span class="space"> </span>&gt;
~~~
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;&amp;lt;
<span class="space"> </span>&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>结束栅栏必须使用与开始栅栏一样的字符：</p>
<div class="example" id="example-71" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-71">Example 71</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">```
aaa
~~~
```
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;aaa
~~~
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<div class="example" id="example-72" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-72">Example 72</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">~~~
aaa
```
~~~
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;aaa
```
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>结束栅栏必须与开始栅栏一样长：</p>
<div class="example" id="example-73" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-73">Example 73</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">````
aaa
```
``````
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;aaa
```
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<div class="example" id="example-74" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-74">Example 74</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">~~~~
aaa
~~~
~~~~
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;aaa
~~~
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>没有关闭的代码块由文档结尾关闭：</p>
<div class="example" id="example-75" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-75">Example 75</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">```
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<div class="example" id="example-76" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-76">Example 76</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">`````

```
aaa
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;
```
aaa
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>代码块的内容可以全部是空行：</p>
<div class="example" id="example-77" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-77">Example 77</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">```


```
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;

&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>代码块可以为空：</p>
<div class="example" id="example-78" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-78">Example 78</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">```
```
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>栅栏可缩进。如果开始栅栏缩进，内容行会删除相同数量的缩进：</p>
<div class="example" id="example-79" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-79">Example 79</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span>```
<span class="space"> </span>aaa
aaa
```
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;aaa
aaa
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<div class="example" id="example-80" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-80">Example 80</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span>```
aaa
<span class="space"> </span><span class="space"> </span>aaa
aaa
<span class="space"> </span><span class="space"> </span>```
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;aaa
aaa
aaa
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<div class="example" id="example-81" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-81">Example 81</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span>```
<span class="space"> </span><span class="space"> </span><span class="space"> </span>aaa
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>aaa
<span class="space"> </span><span class="space"> </span>aaa
<span class="space"> </span><span class="space"> </span><span class="space"> </span>```
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;aaa
<span class="space"> </span>aaa
aaa
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>四个空格缩进生成缩进式代码块：</p>
<div class="example" id="example-82" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-82">Example 82</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>```
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>aaa
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>```
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;```
aaa
```
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>结束栅栏可缩进 0-3 个空格，不必与开始栅栏缩进一致：</p>
<div class="example" id="example-83" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-83">Example 83</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">```
aaa
<span class="space"> </span><span class="space"> </span>```
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;aaa
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<div class="example" id="example-84" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-84">Example 84</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span>```
aaa
<span class="space"> </span><span class="space"> </span>```
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;aaa
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>下例不是结束栅栏，因为缩进了四个空格：</p>
<div class="example" id="example-85" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-85">Example 85</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">```
aaa
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>```
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;aaa
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>```
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>栅栏内部不能有空格：</p>
<div class="example" id="example-86" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-86">Example 86</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">```<span class="space"> </span>```
aaa
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;code&gt;&lt;/code&gt;
aaa&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-87" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-87">Example 87</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">~~~~~~
aaa
~~~<span class="space"> </span>~~
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;aaa
~~~<span class="space"> </span>~~
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>围栏式代码块可中断段落。直接跟在段落后，不需要用空行隔开：</p>
<div class="example" id="example-88" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-88">Example 88</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo
```
bar
```
baz
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bar
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;baz&lt;/p&gt;
</code></pre>
</div>
<p>其它块也可以直接出现在围栏式代码块前后，不需要用空行隔开：</p>
<div class="example" id="example-89" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-89">Example 89</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo
---
~~~
bar
~~~
#<span class="space"> </span>baz
</code></pre>
<pre><code class="language-html">&lt;h2&gt;foo&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;bar
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;baz&lt;/h1&gt;
</code></pre>
</div>
<p>开始栅栏后可以放<a href="#info-string">信息字符串</a>，它的前后空格将被删除，第一个单词将加上前缀
<code>language-</code>，用作标签 <code>pre</code> 内 <code>code</code> 的 <code>class</code> 值。</p>
<div class="example" id="example-90" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-90">Example 90</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">```ruby
def<span class="space"> </span>foo(x)
<span class="space"> </span><span class="space"> </span>return<span class="space"> </span>3
end
```
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code<span class="space"> </span>class=&quot;language-ruby&quot;&gt;def<span class="space"> </span>foo(x)
<span class="space"> </span><span class="space"> </span>return<span class="space"> </span>3
end
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<div class="example" id="example-91" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-91">Example 91</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">~~~~<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>ruby<span class="space"> </span>startline=3<span class="space"> </span>$%@#$
def<span class="space"> </span>foo(x)
<span class="space"> </span><span class="space"> </span>return<span class="space"> </span>3
end
~~~~~~~
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code<span class="space"> </span>class=&quot;language-ruby&quot;&gt;def<span class="space"> </span>foo(x)
<span class="space"> </span><span class="space"> </span>return<span class="space"> </span>3
end
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<div class="example" id="example-92" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-92">Example 92</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">````;
````
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code<span class="space"> </span>class=&quot;language-;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>使用反引号的代码块，<a href="#info-string">信息字符串</a>不能包含反引号：</p>
<div class="example" id="example-93" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-93">Example 93</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">```<span class="space"> </span>aa<span class="space"> </span>```
foo
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;code&gt;aa&lt;/code&gt;
foo&lt;/p&gt;
</code></pre>
</div>
<p>结束栅栏不能有<a href="#info-string">信息字符串</a>：</p>
<div class="example" id="example-94" data-section="围栏式代码块">
<div class="examplenum"><a href="#example-94">Example 94</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">```
```<span class="space"> </span>aaa
```
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;```<span class="space"> </span>aaa
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<h2 id="html-块">4.6 HTML 块</h2>
<p><a id="html-block-tag" href="#html-block-tag" class="definition">HTML 块标签</a>是<a href="#open-tag">开始标签</a>或<a href="#closing-tag">结束标签</a>，标签名字不区分
大小写，有这些：
<code>article</code>, <code>header</code>, <code>aside</code>, <code>hgroup</code>, <code>blockquote</code>, <code>hr</code>, <code>iframe</code>,
<code>body</code>, <code>li</code>, <code>map</code>, <code>button</code>, <code>object</code>, <code>canvas</code>, <code>ol</code>, <code>caption</code>,
<code>output</code>, <code>col</code>, <code>p</code>, <code>colgroup</code>, <code>pre</code>, <code>dd</code>, <code>progress</code>, <code>div</code>,
<code>section</code>, <code>dl</code>, <code>table</code>, <code>td</code>, <code>dt</code>, <code>tbody</code>, <code>embed</code>, <code>textarea</code>,
<code>fieldset</code>, <code>tfoot</code>, <code>figcaption</code>, <code>th</code>, <code>figure</code>, <code>thead</code>, <code>footer</code>,
<code>tr</code>, <code>form</code>, <code>ul</code>, <code>h1</code>, <code>h2</code>, <code>h3</code>, <code>h4</code>, <code>h5</code>, <code>h6</code>, <code>video</code>,
<code>script</code>, <code>style</code>.</p>
<p><a id="html-block" href="#html-block" class="definition">HTML 块</a> 以<a href="#html-block-tag">HTML 块标签</a>、<a href="#html-comment">HTML 注释</a>、<a href="#processing-instruction">处理指令</a>、
<a href="#declaration">声明</a>或<a href="#cdata-section">CDATA</a>开始，结束于<a href="#blank-line">空行</a>或输入结束。开始行最多可缩进三个空格，
后续行可任意缩进。HTML 块的内容按原生 HTML 处理，输出时不会转义。</p>
<p>示例：</p>
<div class="example" id="example-95" data-section="HTML 块">
<div class="examplenum"><a href="#example-95">Example 95</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;table&gt;
<span class="space"> </span><span class="space"> </span>&lt;tr&gt;
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>&lt;td&gt;
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>hi
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>&lt;/td&gt;
<span class="space"> </span><span class="space"> </span>&lt;/tr&gt;
&lt;/table&gt;

okay.
</code></pre>
<pre><code class="language-html">&lt;table&gt;
<span class="space"> </span><span class="space"> </span>&lt;tr&gt;
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>&lt;td&gt;
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>hi
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>&lt;/td&gt;
<span class="space"> </span><span class="space"> </span>&lt;/tr&gt;
&lt;/table&gt;
&lt;p&gt;okay.&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-96" data-section="HTML 块">
<div class="examplenum"><a href="#example-96">Example 96</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span>&lt;div&gt;
<span class="space"> </span><span class="space"> </span>*hello*
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>&lt;foo&gt;&lt;a&gt;
</code></pre>
<pre><code class="language-html"><span class="space"> </span>&lt;div&gt;
<span class="space"> </span><span class="space"> </span>*hello*
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>&lt;foo&gt;&lt;a&gt;
</code></pre>
</div>
<p>下面两个 HTML 块之间有一个 Markdown 段落：</p>
<div class="example" id="example-97" data-section="HTML 块">
<div class="examplenum"><a href="#example-97">Example 97</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;DIV<span class="space"> </span>CLASS=&quot;foo&quot;&gt;

*Markdown*

&lt;/DIV&gt;
</code></pre>
<pre><code class="language-html">&lt;DIV<span class="space"> </span>CLASS=&quot;foo&quot;&gt;
&lt;p&gt;&lt;em&gt;Markdown&lt;/em&gt;&lt;/p&gt;
&lt;/DIV&gt;
</code></pre>
</div>
<p>下面似乎是 Markdown 代码块，实际上是 HTML 块的一部分，一直到
空行或文档结束：</p>
<div class="example" id="example-98" data-section="HTML 块">
<div class="examplenum"><a href="#example-98">Example 98</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;div&gt;&lt;/div&gt;
```<span class="space"> </span>c
int<span class="space"> </span>x<span class="space"> </span>=<span class="space"> </span>33;
```
</code></pre>
<pre><code class="language-html">&lt;div&gt;&lt;/div&gt;
```<span class="space"> </span>c
int<span class="space"> </span>x<span class="space"> </span>=<span class="space"> </span>33;
```
</code></pre>
</div>
<p>注释：</p>
<div class="example" id="example-99" data-section="HTML 块">
<div class="examplenum"><a href="#example-99">Example 99</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;!--<span class="space"> </span>Foo
bar
<span class="space"> </span><span class="space"> </span><span class="space"> </span>baz<span class="space"> </span>--&gt;
</code></pre>
<pre><code class="language-html">&lt;!--<span class="space"> </span>Foo
bar
<span class="space"> </span><span class="space"> </span><span class="space"> </span>baz<span class="space"> </span>--&gt;
</code></pre>
</div>
<p>处理指令：</p>
<div class="example" id="example-100" data-section="HTML 块">
<div class="examplenum"><a href="#example-100">Example 100</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;?php
<span class="space"> </span><span class="space"> </span>echo<span class="space"> </span>'&gt;';
?&gt;
</code></pre>
<pre><code class="language-html">&lt;?php
<span class="space"> </span><span class="space"> </span>echo<span class="space"> </span>'&gt;';
?&gt;
</code></pre>
</div>
<p>CDATA:</p>
<div class="example" id="example-101" data-section="HTML 块">
<div class="examplenum"><a href="#example-101">Example 101</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;![CDATA[
function<span class="space"> </span>matchwo(a,b)
{
if<span class="space"> </span>(a<span class="space"> </span>&lt;<span class="space"> </span>b<span class="space"> </span>&amp;&amp;<span class="space"> </span>a<span class="space"> </span>&lt;<span class="space"> </span>0)<span class="space"> </span>then
<span class="space"> </span><span class="space"> </span>{
<span class="space"> </span><span class="space"> </span>return<span class="space"> </span>1;
<span class="space"> </span><span class="space"> </span>}
else
<span class="space"> </span><span class="space"> </span>{
<span class="space"> </span><span class="space"> </span>return<span class="space"> </span>0;
<span class="space"> </span><span class="space"> </span>}
}
]]&gt;
</code></pre>
<pre><code class="language-html">&lt;![CDATA[
function<span class="space"> </span>matchwo(a,b)
{
if<span class="space"> </span>(a<span class="space"> </span>&lt;<span class="space"> </span>b<span class="space"> </span>&amp;&amp;<span class="space"> </span>a<span class="space"> </span>&lt;<span class="space"> </span>0)<span class="space"> </span>then
<span class="space"> </span><span class="space"> </span>{
<span class="space"> </span><span class="space"> </span>return<span class="space"> </span>1;
<span class="space"> </span><span class="space"> </span>}
else
<span class="space"> </span><span class="space"> </span>{
<span class="space"> </span><span class="space"> </span>return<span class="space"> </span>0;
<span class="space"> </span><span class="space"> </span>}
}
]]&gt;
</code></pre>
</div>
<p>开始标签可以缩进 1-3 个空格，不能是 4 个：</p>
<div class="example" id="example-102" data-section="HTML 块">
<div class="examplenum"><a href="#example-102">Example 102</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span>&lt;!--<span class="space"> </span>foo<span class="space"> </span>--&gt;

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>&lt;!--<span class="space"> </span>foo<span class="space"> </span>--&gt;
</code></pre>
<pre><code class="language-html"><span class="space"> </span><span class="space"> </span>&lt;!--<span class="space"> </span>foo<span class="space"> </span>--&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;!--<span class="space"> </span>foo<span class="space"> </span>--&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>HTML 块可中断段落，前面不需要空行：</p>
<div class="example" id="example-103" data-section="HTML 块">
<div class="examplenum"><a href="#example-103">Example 103</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">Foo
&lt;div&gt;
bar
&lt;/div&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;Foo&lt;/p&gt;
&lt;div&gt;
bar
&lt;/div&gt;
</code></pre>
</div>
<p>不过后面的空行始终需要，除非是在文档末尾：</p>
<div class="example" id="example-104" data-section="HTML 块">
<div class="examplenum"><a href="#example-104">Example 104</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;div&gt;
bar
&lt;/div&gt;
*foo*
</code></pre>
<pre><code class="language-html">&lt;div&gt;
bar
&lt;/div&gt;
*foo*
</code></pre>
</div>
<p>不完整的 HTML 块标签也可开始一个 HTML 块：</p>
<div class="example" id="example-105" data-section="HTML 块">
<div class="examplenum"><a href="#example-105">Example 105</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;div<span class="space"> </span>class
foo
</code></pre>
<pre><code class="language-html">&lt;div<span class="space"> </span>class
foo
</code></pre>
</div>
<p>本规则不同于 John Gruber 的 Markdown 语法：</p>
<blockquote>
<p>唯一的限制是块级 HTML元素，例如 <code>&lt;div&gt;</code>, <code>&lt;table&gt;</code>, <code>&lt;pre&gt;</code>, <code>&lt;p&gt;</code> 等，
必须用空行与周围内容隔开，并且开始与结束标签不能缩进。</p>
</blockquote>
<p>Gruber 的规则在某种程度上限制更严：</p>
<ul>
<li>HTML 块前面需要空行。</li>
<li>开始标签不能缩进。</li>
<li>需要对应的结束标签，且不能缩进。</li>
</ul>
<p>实际上多数 Markdown 实现，包括 Gruber 自己的 perl 实现，没有遵守这些限制。</p>
<p>不过，Gruber 的规则在一点上较宽松，允许 HTML 块内有空行，而本文档禁止。
有两个原因。一，不需要解析结束标签，不然代价高，需要从文档末尾反溯。
二，在 HTML 标签内插入 Markdown 内容将变得简单且灵活，只需用空行隔开：</p>
<div class="example" id="example-106" data-section="HTML 块">
<div class="examplenum"><a href="#example-106">Example 106</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;div&gt;

*Emphasized*<span class="space"> </span>text.

&lt;/div&gt;
</code></pre>
<pre><code class="language-html">&lt;div&gt;
&lt;p&gt;&lt;em&gt;Emphasized&lt;/em&gt;<span class="space"> </span>text.&lt;/p&gt;
&lt;/div&gt;
</code></pre>
</div>
<p>对比：</p>
<div class="example" id="example-107" data-section="HTML 块">
<div class="examplenum"><a href="#example-107">Example 107</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;div&gt;
*Emphasized*<span class="space"> </span>text.
&lt;/div&gt;
</code></pre>
<pre><code class="language-html">&lt;div&gt;
*Emphasized*<span class="space"> </span>text.
&lt;/div&gt;
</code></pre>
</div>
<p>有些 Markdown 实现制定了一种规则，若开始标签有属性 <code>markdown=1</code>，
则解析标签内部的文本。同样的效果比起来，本规范似乎更简单优雅，
也更容易解析。</p>
<p>主要的潜在缺点是不能 100% 的粘贴 HTML 到 Markdown 文档中。不过，
在多数情况下不会有问题，因为 HTML 中的空行后面通常跟着的是 HTML
标签。例如：</p>
<div class="example" id="example-108" data-section="HTML 块">
<div class="examplenum"><a href="#example-108">Example 108</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;table&gt;

&lt;tr&gt;

&lt;td&gt;
Hi
&lt;/td&gt;

&lt;/tr&gt;

&lt;/table&gt;
</code></pre>
<pre><code class="language-html">&lt;table&gt;
&lt;tr&gt;
&lt;td&gt;
Hi
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
</code></pre>
</div>
<p>而且空行通常不必要，可以删除，<code>&lt;pre&gt;</code> 标签内除外，可用 <code>&amp;#10;</code>
替换空行。</p>
<p>因此本规则没有重大的损失。</p>
<h2 id="链接引用定义">4.7 链接引用定义</h2>
<p><a id="link-reference-definition" href="#link-reference-definition" class="definition">链接引用定义</a>由<a href="#link-label">链接标签</a>、冒号(<code>:</code>)、可选的
<a href="#whitespace">空白</a>、<a href="#link-destination">链接目标</a>、可选的<a href="#whitespace">空白</a>及可选的<a href="#link-title">链接标题</a>组成。空白可包括
<a href="#line-ending">行结束符</a>。链接标题与目标必须用空白隔开。<a href="#non-space-character">非空白字符</a>不可出现。</p>
<p>链接引用定义不对应于某个结构元素。实际上它定义了一个标签，以用于在文档
其它地方的<a href="#reference-link">引用链接</a>及引用类型<a href="#%E5%9B%BE%E5%83%8F">图像</a>。它可以出现在引用链接的前面或后面。</p>
<div class="example" id="example-109" data-section="链接引用定义">
<div class="examplenum"><a href="#example-109">Example 109</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;

[foo]
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;title&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-110" data-section="链接引用定义">
<div class="examplenum"><a href="#example-110">Example 110</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span>[foo]:
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>/url
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>'the<span class="space"> </span>title'

[foo]
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;the<span class="space"> </span>title&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-111" data-section="链接引用定义">
<div class="examplenum"><a href="#example-111">Example 111</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[Foo*bar\]]:my_(url)<span class="space"> </span>'title<span class="space"> </span>(with<span class="space"> </span>parens)'

[Foo*bar\]]
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;my_(url)&quot;<span class="space"> </span>title=&quot;title<span class="space"> </span>(with<span class="space"> </span>parens)&quot;&gt;Foo*bar]&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-112" data-section="链接引用定义">
<div class="examplenum"><a href="#example-112">Example 112</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[Foo<span class="space"> </span>bar]:
&lt;my<span class="space"> </span>url&gt;
'title'

[Foo<span class="space"> </span>bar]
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;my%20url&quot;<span class="space"> </span>title=&quot;title&quot;&gt;Foo<span class="space"> </span>bar&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>标题可多行：</p>
<div class="example" id="example-113" data-section="链接引用定义">
<div class="examplenum"><a href="#example-113">Example 113</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo]:<span class="space"> </span>/url<span class="space"> </span>'
title
line1
line2
'

[foo]
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;
title
line1
line2
&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>但是不能包含<a href="#blank-line">空行</a>：</p>
<div class="example" id="example-114" data-section="链接引用定义">
<div class="examplenum"><a href="#example-114">Example 114</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo]:<span class="space"> </span>/url<span class="space"> </span>'title

with<span class="space"> </span>blank<span class="space"> </span>line'

[foo]
</code></pre>
<pre><code class="language-html">&lt;p&gt;[foo]:<span class="space"> </span>/url<span class="space"> </span>'title&lt;/p&gt;
&lt;p&gt;with<span class="space"> </span>blank<span class="space"> </span>line'&lt;/p&gt;
&lt;p&gt;[foo]&lt;/p&gt;
</code></pre>
</div>
<p>标题可省略：</p>
<div class="example" id="example-115" data-section="链接引用定义">
<div class="examplenum"><a href="#example-115">Example 115</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo]:
/url

[foo]
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>链接目标不可省略：</p>
<div class="example" id="example-116" data-section="链接引用定义">
<div class="examplenum"><a href="#example-116">Example 116</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo]:

[foo]
</code></pre>
<pre><code class="language-html">&lt;p&gt;[foo]:&lt;/p&gt;
&lt;p&gt;[foo]&lt;/p&gt;
</code></pre>
</div>
<p>链接可出现在其定义之前：</p>
<div class="example" id="example-117" data-section="链接引用定义">
<div class="examplenum"><a href="#example-117">Example 117</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo]

[foo]:<span class="space"> </span>url
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;url&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>如果匹配到多个定义，使用第一个：</p>
<div class="example" id="example-118" data-section="链接引用定义">
<div class="examplenum"><a href="#example-118">Example 118</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo]

[foo]:<span class="space"> </span>first
[foo]:<span class="space"> </span>second
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;first&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>标签匹配不区分大小写，见<a href="#matches">匹配</a>。</p>
<div class="example" id="example-119" data-section="链接引用定义">
<div class="examplenum"><a href="#example-119">Example 119</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[FOO]:<span class="space"> </span>/url

[Foo]
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;&gt;Foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-120" data-section="链接引用定义">
<div class="examplenum"><a href="#example-120">Example 120</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[ΑΓΩ]:<span class="space"> </span>/φου

[αγω]
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/%CF%86%CE%BF%CF%85&quot;&gt;αγω&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>下面链接引用定义没有相应的链接，对文档无作用：</p>
<div class="example" id="example-121" data-section="链接引用定义">
<div class="examplenum"><a href="#example-121">Example 121</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo]:<span class="space"> </span>/url
</code></pre>
<pre><code class="language-html"></code></pre>
</div>
<p>再如:</p>
<div class="example" id="example-122" data-section="链接引用定义">
<div class="examplenum"><a href="#example-122">Example 122</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[
foo
]:<span class="space"> </span>/url
bar
</code></pre>
<pre><code class="language-html">&lt;p&gt;bar&lt;/p&gt;
</code></pre>
</div>
<p>下面不是链接引用定义，因为标题后面有<a href="#non-space-character">非空白字符</a>：</p>
<div class="example" id="example-123" data-section="链接引用定义">
<div class="examplenum"><a href="#example-123">Example 123</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;<span class="space"> </span>ok
</code></pre>
<pre><code class="language-html">&lt;p&gt;[foo]:<span class="space"> </span>/url<span class="space"> </span>&amp;quot;title&amp;quot;<span class="space"> </span>ok&lt;/p&gt;
</code></pre>
</div>
<p>下面不是链接引用定义，因为它缩进了四个空格：</p>
<div class="example" id="example-124" data-section="链接引用定义">
<div class="examplenum"><a href="#example-124">Example 124</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>[foo]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;

[foo]
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;[foo]:<span class="space"> </span>/url<span class="space"> </span>&amp;quot;title&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[foo]&lt;/p&gt;
</code></pre>
</div>
<p>下面不是链接引用定义，因为它出现在代码块内：</p>
<div class="example" id="example-125" data-section="链接引用定义">
<div class="examplenum"><a href="#example-125">Example 125</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">```
[foo]:<span class="space"> </span>/url
```

[foo]
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;[foo]:<span class="space"> </span>/url
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[foo]&lt;/p&gt;
</code></pre>
</div>
<p>链接引用定义不能中断段落：</p>
<div class="example" id="example-126" data-section="链接引用定义">
<div class="examplenum"><a href="#example-126">Example 126</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">Foo
[bar]:<span class="space"> </span>/baz

[bar]
</code></pre>
<pre><code class="language-html">&lt;p&gt;Foo
[bar]:<span class="space"> </span>/baz&lt;/p&gt;
&lt;p&gt;[bar]&lt;/p&gt;
</code></pre>
</div>
<p>但是它能直接跟在其它块后面，比如标题与水平线，且后面不需要空行。</p>
<div class="example" id="example-127" data-section="链接引用定义">
<div class="examplenum"><a href="#example-127">Example 127</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">#<span class="space"> </span>[Foo]
[foo]:<span class="space"> </span>/url
&gt;<span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;h1&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;&gt;Foo&lt;/a&gt;&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;bar&lt;/p&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<p>几个链接引用定义可放在一起，不需要用空行隔开。</p>
<div class="example" id="example-128" data-section="链接引用定义">
<div class="examplenum"><a href="#example-128">Example 128</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo]:<span class="space"> </span>/foo-url<span class="space"> </span>&quot;foo&quot;
[bar]:<span class="space"> </span>/bar-url
<span class="space"> </span><span class="space"> </span>&quot;bar&quot;
[baz]:<span class="space"> </span>/baz-url

[foo],
[bar],
[baz]
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/foo-url&quot;<span class="space"> </span>title=&quot;foo&quot;&gt;foo&lt;/a&gt;,
&lt;a<span class="space"> </span>href=&quot;/bar-url&quot;<span class="space"> </span>title=&quot;bar&quot;&gt;bar&lt;/a&gt;,
&lt;a<span class="space"> </span>href=&quot;/baz-url&quot;&gt;baz&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p><a href="#%E9%93%BE%E6%8E%A5%E5%BC%95%E7%94%A8%E5%AE%9A%E4%B9%89">链接引用定义</a>可出现在块容器内，比如列表与块引用，在整个文档内有作用，
而不是只限于所在的块容器。</p>
<div class="example" id="example-129" data-section="链接引用定义">
<div class="examplenum"><a href="#example-129">Example 129</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo]

&gt;<span class="space"> </span>[foo]:<span class="space"> </span>/url
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<h2 id="段落">4.8 段落</h2>
<p>连续的非空行，不能解析为其它块时便是<a id="paragraph" href="#paragraph" class="definition">段落</a>。合并行并删除首尾
<a href="#whitespace">空白</a>得到段落的原生内容，再解析为内联元素，结果便是段落的内容。</p>
<p>两个段落：</p>
<div class="example" id="example-130" data-section="段落">
<div class="examplenum"><a href="#example-130">Example 130</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">aaa

bbb
</code></pre>
<pre><code class="language-html">&lt;p&gt;aaa&lt;/p&gt;
&lt;p&gt;bbb&lt;/p&gt;
</code></pre>
</div>
<p>段落可以包含多行，但是不能有空行：</p>
<div class="example" id="example-131" data-section="段落">
<div class="examplenum"><a href="#example-131">Example 131</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">aaa
bbb

ccc
ddd
</code></pre>
<pre><code class="language-html">&lt;p&gt;aaa
bbb&lt;/p&gt;
&lt;p&gt;ccc
ddd&lt;/p&gt;
</code></pre>
</div>
<p>段落之间的多个空行没有效果：</p>
<div class="example" id="example-132" data-section="段落">
<div class="examplenum"><a href="#example-132">Example 132</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">aaa


bbb
</code></pre>
<pre><code class="language-html">&lt;p&gt;aaa&lt;/p&gt;
&lt;p&gt;bbb&lt;/p&gt;
</code></pre>
</div>
<p>行首的空格删除：</p>
<div class="example" id="example-133" data-section="段落">
<div class="examplenum"><a href="#example-133">Example 133</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span>aaa
<span class="space"> </span>bbb
</code></pre>
<pre><code class="language-html">&lt;p&gt;aaa
bbb&lt;/p&gt;
</code></pre>
</div>
<p>第一行之后的行可以缩进任意宽度，因为缩进式代码块不能中断段落：</p>
<div class="example" id="example-134" data-section="段落">
<div class="examplenum"><a href="#example-134">Example 134</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">aaa
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>bbb
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>ccc
</code></pre>
<pre><code class="language-html">&lt;p&gt;aaa
bbb
ccc&lt;/p&gt;
</code></pre>
</div>
<p>不过第一行最多可缩进三个空格，不然将生成缩进式代码块：</p>
<div class="example" id="example-135" data-section="段落">
<div class="examplenum"><a href="#example-135">Example 135</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span>aaayan
bbb
</code></pre>
<pre><code class="language-html">&lt;p&gt;aaayan
bbb&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-136" data-section="段落">
<div class="examplenum"><a href="#example-136">Example 136</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>aaa
bbb
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;aaa
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;bbb&lt;/p&gt;
</code></pre>
</div>
<p>最后的空格在解析前删掉，故以两或多个空格结尾的段落不会以
[硬换行符]结束。</p>
<div class="example" id="example-137" data-section="段落">
<div class="examplenum"><a href="#example-137">Example 137</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">aaa
bbb
</code></pre>
<pre><code class="language-html">&lt;p&gt;aaa&lt;br<span class="space"> </span>/&gt;
bbb&lt;/p&gt;
</code></pre>
</div>
<h2 id="空行">4.9 空行</h2>
<p>块之间的<a href="#blank-line">空行</a>被忽略，除非需要用它们来判断<a href="#%E5%88%97%E8%A1%A8">列表</a>是<a href="#tight">紧</a>还是<a href="#loose">松</a>。</p>
<p>在文档开始及末尾的空行同样被忽略。</p>
<div class="example" id="example-138" data-section="空行">
<div class="examplenum"><a href="#example-138">Example 138</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">

aaa


#<span class="space"> </span>aaa


</code></pre>
<pre><code class="language-html">&lt;p&gt;aaa&lt;/p&gt;
&lt;h1&gt;aaa&lt;/h1&gt;
</code></pre>
</div>
<h1 id="容器块">5 容器块</h1>
<p><a href="#container-block">容器块</a>是可以包含其它块的块。有两种基本类型：<a href="#%E5%9D%97%E5%BC%95%E7%94%A8">块引用</a>及<a href="#%E5%88%97%E8%A1%A8%E9%A1%B9">列表项</a>。
<a href="#%E5%88%97%E8%A1%A8">列表</a>是列表项的元容器。</p>
<p>我们递归地定义容器块的语法。定义的一般形式是：</p>
<blockquote>
<p>若 X 是一系列块，则 X 如此这般地转换后的结果是容器 Y 的内容。</p>
</blockquote>
<p>因此，我们通过解释块引用或列表项如何从它们的内容生成，解释了什么是它们。
这用于定义语法足够，尽管没有给出解析这些结构的方法，方法见
<a href="#%E9%99%84%E5%BD%95-a-%E8%A7%A3%E6%9E%90%E7%AD%96%E7%95%A5">附录 A: 解析策略</a>。</p>
<h2 id="块引用">5.1 块引用</h2>
<p><a id="block-quote-marker" href="#block-quote-marker" class="definition">块引用标记</a>由 0-3 个空格缩进，<code>&gt;</code>，可选的空白组成。</p>
<p>下面规则定义<a id="block-quotes" href="#block-quotes" class="definition">块引用</a>:</p>
<ol>
<li>
<p><strong>基本</strong>  如果一系列行 <em>Ls</em> 组成一系列块 <em>Bs</em>, 那么 <em>Ls</em> 每行前加上
<a href="#block-quote-marker">块引用标记</a>后的结果是一个包含 <em>Bs</em> 的块引用。</p>
</li>
<li>
<p><strong>懒惰</strong>  如果一系列行 <em>Ls</em> 组成一个包含 <em>Bs</em> 的块引用，对于这些行，
块引用标记之后的<a href="#non-space-character">非空白字符</a>是段落连续文本，删除块引用标记之后的结果是
一个包含 <em>Bs</em> 的块引用。<a id="paragraph-continuation-text" href="#paragraph-continuation-text" class="definition">段落连续文本</a>是
段落的一部分内容，但是不出现在段落的开始。</p>
</li>
<li>
<p><strong>连续</strong>  文档不能包含两个连续的<a href="#%E5%9D%97%E5%BC%95%E7%94%A8">块引用</a>，除非用空行隔开。</p>
</li>
</ol>
<p>其它的不是块引用。</p>
<p>示例：</p>
<div class="example" id="example-139" data-section="块引用">
<div class="examplenum"><a href="#example-139">Example 139</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span>#<span class="space"> </span>Foo
&gt;<span class="space"> </span>bar
&gt;<span class="space"> </span>baz
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;h1&gt;Foo&lt;/h1&gt;
&lt;p&gt;bar
baz&lt;/p&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<p>字符 <code>&gt;</code> 后面的空格可省略：</p>
<div class="example" id="example-140" data-section="块引用">
<div class="examplenum"><a href="#example-140">Example 140</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;#<span class="space"> </span>Foo
&gt;bar
&gt;<span class="space"> </span>baz
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;h1&gt;Foo&lt;/h1&gt;
&lt;p&gt;bar
baz&lt;/p&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<p>字符 <code>&gt;</code> 可缩进 1-3 个空格：</p>
<div class="example" id="example-141" data-section="块引用">
<div class="examplenum"><a href="#example-141">Example 141</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span>&gt;<span class="space"> </span>#<span class="space"> </span>Foo
<span class="space"> </span><span class="space"> </span><span class="space"> </span>&gt;<span class="space"> </span>bar
<span class="space"> </span>&gt;<span class="space"> </span>baz
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;h1&gt;Foo&lt;/h1&gt;
&lt;p&gt;bar
baz&lt;/p&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<p>缩进 4 个空格就是代码块了：</p>
<div class="example" id="example-142" data-section="块引用">
<div class="examplenum"><a href="#example-142">Example 142</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>&gt;<span class="space"> </span>#<span class="space"> </span>Foo
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>&gt;<span class="space"> </span>bar
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>&gt;<span class="space"> </span>baz
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;&amp;gt;<span class="space"> </span>#<span class="space"> </span>Foo
&amp;gt;<span class="space"> </span>bar
&amp;gt;<span class="space"> </span>baz
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>懒惰模式下可省略段落连续行前的字符 <code>&gt;</code>：</p>
<div class="example" id="example-143" data-section="块引用">
<div class="examplenum"><a href="#example-143">Example 143</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span>#<span class="space"> </span>Foo
&gt;<span class="space"> </span>bar
baz
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;h1&gt;Foo&lt;/h1&gt;
&lt;p&gt;bar
baz&lt;/p&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<p>块引用可以同时包含懒惰、非懒惰行：</p>
<div class="example" id="example-144" data-section="块引用">
<div class="examplenum"><a href="#example-144">Example 144</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span>bar
baz
&gt;<span class="space"> </span>foo
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;p&gt;bar
baz
foo&lt;/p&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<p>懒惰模式只能用于段落的连续行，不能用于判定块结构的行。</p>
<div class="example" id="example-145" data-section="块引用">
<div class="examplenum"><a href="#example-145">Example 145</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span>foo
---
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr<span class="space"> </span>/&gt;
</code></pre>
</div>
<div class="example" id="example-146" data-section="块引用">
<div class="examplenum"><a href="#example-146">Example 146</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span>-<span class="space"> </span>foo
-<span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;bar&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<div class="example" id="example-147" data-section="块引用">
<div class="examplenum"><a href="#example-147">Example 147</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>foo
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;pre&gt;&lt;code&gt;foo
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;bar
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<div class="example" id="example-148" data-section="块引用">
<div class="examplenum"><a href="#example-148">Example 148</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span>```
foo
```
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>块引用可以为空：</p>
<div class="example" id="example-149" data-section="块引用">
<div class="examplenum"><a href="#example-149">Example 149</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<div class="example" id="example-150" data-section="块引用">
<div class="examplenum"><a href="#example-150">Example 150</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;
&gt;
&gt;
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<p>块引用的开始或结束可以是空行：</p>
<div class="example" id="example-151" data-section="块引用">
<div class="examplenum"><a href="#example-151">Example 151</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;
&gt;<span class="space"> </span>foo
&gt;
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<p>空行始终会中断块引用：</p>
<div class="example" id="example-152" data-section="块引用">
<div class="examplenum"><a href="#example-152">Example 152</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span>foo

&gt;<span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;bar&lt;/p&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<p>目前多数 Markdown 实现，包括 John Gruber 的 <code>Markdown.pl</code>，将上例解析为
一个包含两个段落的块引用。但是让作者决定是两个还是一个块引用似乎更好。</p>
<p>连续意味着，若将这些块引用放一起，将得到一个块引用：</p>
<div class="example" id="example-153" data-section="块引用">
<div class="examplenum"><a href="#example-153">Example 153</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span>foo
&gt;<span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;p&gt;foo
bar&lt;/p&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<p>想得到一个包含两个段落的块引用，这样做：</p>
<div class="example" id="example-154" data-section="块引用">
<div class="examplenum"><a href="#example-154">Example 154</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span>foo
&gt;
&gt;<span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;p&gt;bar&lt;/p&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<p>块引用可以中断段落：</p>
<div class="example" id="example-155" data-section="块引用">
<div class="examplenum"><a href="#example-155">Example 155</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo
&gt;<span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;bar&lt;/p&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<p>通常块引用前后不需要空行：</p>
<div class="example" id="example-156" data-section="块引用">
<div class="examplenum"><a href="#example-156">Example 156</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span>aaa
***
&gt;<span class="space"> </span>bbb
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;p&gt;aaa&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr<span class="space"> </span>/&gt;
&lt;blockquote&gt;
&lt;p&gt;bbb&lt;/p&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<p>不过因为懒惰模式，块引用与其后段落之间需要空行：</p>
<div class="example" id="example-157" data-section="块引用">
<div class="examplenum"><a href="#example-157">Example 157</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span>bar
baz
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;p&gt;bar
baz&lt;/p&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<div class="example" id="example-158" data-section="块引用">
<div class="examplenum"><a href="#example-158">Example 158</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span>bar

baz
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;p&gt;bar&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;baz&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-159" data-section="块引用">
<div class="examplenum"><a href="#example-159">Example 159</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span>bar
&gt;
baz
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;p&gt;bar&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;baz&lt;/p&gt;
</code></pre>
</div>
<p>懒惰模式的一个效果是嵌套块引用的连续行可以省略字符 <code>&gt;</code> ：</p>
<div class="example" id="example-160" data-section="块引用">
<div class="examplenum"><a href="#example-160">Example 160</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span>&gt;<span class="space"> </span>&gt;<span class="space"> </span>foo
bar
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;foo
bar&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<div class="example" id="example-161" data-section="块引用">
<div class="examplenum"><a href="#example-161">Example 161</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;&gt;&gt;<span class="space"> </span>foo
&gt;<span class="space"> </span>bar
&gt;&gt;baz
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;foo
bar
baz&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<p>当在块引用中包含缩进式代码块时，记住<a href="#block-quote-marker">块引用标记</a>同时包含
<code>&gt;</code> 与空格，故 <code>&gt;</code> 之后需要 5 个空格：</p>
<div class="example" id="example-162" data-section="块引用">
<div class="examplenum"><a href="#example-162">Example 162</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>code

&gt;<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>not<span class="space"> </span>code
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;pre&gt;&lt;code&gt;code
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;not<span class="space"> </span>code&lt;/p&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<h2 id="列表项">5.2 列表项</h2>
<p><a id="list-marker" href="#list-marker" class="definition">列表标记</a>是一个<a href="#bullet-list-marker">无序列表标记</a>或<a href="#ordered-list-marker">有序列表标记</a>。</p>
<p><a id="bullet-list-marker" href="#bullet-list-marker" class="definition">无序列表标记</a>是一个 <code>-</code>, <code>+</code> 或 <code>*</code> 字符。</p>
<p><a id="ordered-list-marker" href="#ordered-list-marker" class="definition">有序列表标记</a>由数字加上一个 <code>.</code> 或 <code>)</code> 字符组成。</p>
<p>下面规则定义<a href="#%E5%88%97%E8%A1%A8%E9%A1%B9">列表项</a>:</p>
<ol>
<li><strong>基本</strong>
一组行 <em>Ls</em> 构成一组块 <em>Bs</em>，以<a href="#non-space-character">非空白字符</a>开始，且之间没有多于一个的
空行，<em>M</em> 是列表标记，<em>M</em> 的宽度为 <em>W</em>，<em>M</em> 后面一个空格，然后将 <em>M</em>
及空格加到 <em>Ls</em> 第一行的头部，<em>Ls</em> 后面的行缩进 <em>W + N</em> 个空格，
这样将得到一个列表项，以 <em>Bs</em> 为它的内容。
列表项的类型（有序或无序）由列表标记的类型决定。如果列表项是有序的，
则由有序列表标记给它一个序号。</li>
</ol>
<p>例如，让 <em>Ls</em> 为下面这几行</p>
<div class="example" id="example-163" data-section="列表项">
<div class="examplenum"><a href="#example-163">Example 163</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">A<span class="space"> </span>paragraph
with<span class="space"> </span>two<span class="space"> </span>lines.

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>indented<span class="space"> </span>code

&gt;<span class="space"> </span>A<span class="space"> </span>block<span class="space"> </span>quote.
</code></pre>
<pre><code class="language-html">&lt;p&gt;A<span class="space"> </span>paragraph
with<span class="space"> </span>two<span class="space"> </span>lines.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;indented<span class="space"> </span>code
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;A<span class="space"> </span>block<span class="space"> </span>quote.&lt;/p&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<p>让 <em>M</em> 为标记 <code>1.</code>，<em>N</em> = 2，那么根据规则 #1 ，下面是一个有序列表项，
起始数为 1， 它的内容同 <em>Ls</em>：</p>
<div class="example" id="example-164" data-section="列表项">
<div class="examplenum"><a href="#example-164">Example 164</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">1.<span class="space"> </span><span class="space"> </span>A<span class="space"> </span>paragraph
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>with<span class="space"> </span>two<span class="space"> </span>lines.

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>indented<span class="space"> </span>code

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>&gt;<span class="space"> </span>A<span class="space"> </span>block<span class="space"> </span>quote.
</code></pre>
<pre><code class="language-html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;A<span class="space"> </span>paragraph
with<span class="space"> </span>two<span class="space"> </span>lines.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;indented<span class="space"> </span>code
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;A<span class="space"> </span>block<span class="space"> </span>quote.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
</code></pre>
</div>
<p>最重要的是注意，列表标记后面的文本的位置决定列表项内后面的块需要缩进多少。
若列表标记占 2 个空格，与<a href="#non-space-character">非空白字符</a>文本之间有 3 个空格，则块需要缩进
5 个空格才能放到列表项内。</p>
<p>下面例子演示内容需要缩进多少才能放到列表项内：</p>
<div class="example" id="example-165" data-section="列表项">
<div class="examplenum"><a href="#example-165">Example 165</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>one

<span class="space"> </span>two
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;one&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;two&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-166" data-section="列表项">
<div class="examplenum"><a href="#example-166">Example 166</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>one

<span class="space"> </span><span class="space"> </span>two
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;one&lt;/p&gt;
&lt;p&gt;two&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<div class="example" id="example-167" data-section="列表项">
<div class="examplenum"><a href="#example-167">Example 167</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span>-<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>one

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>two
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;one&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;<span class="space"> </span>two
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<div class="example" id="example-168" data-section="列表项">
<div class="examplenum"><a href="#example-168">Example 168</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span>-<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>one

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>two
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;one&lt;/p&gt;
&lt;p&gt;two&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>这容易让人想到“列”：后续块必须缩进到列表标记后的第一个<a href="#non-space-character">非空白字符</a>所在列。
不过这不一定对。列表标记后的空格决定需要相对缩进多少。缩进到哪列决定于
列表项如何插入到其它结构中，如下例：</p>
<div class="example" id="example-169" data-section="列表项">
<div class="examplenum"><a href="#example-169">Example 169</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span>&gt;<span class="space"> </span>&gt;<span class="space"> </span>1.<span class="space"> </span><span class="space"> </span>one
&gt;&gt;
&gt;&gt;<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>two
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;one&lt;/p&gt;
&lt;p&gt;two&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<p>这里 <code>two</code> 与列表标记 <code>1.</code> 同列，但是它包含在列表项中，因为在最后的
块引用标记后面足够缩进了。</p>
<p>反过来也可能。在下例中，<code>two</code> 在 <code>one</code> 右边较远处，但是它不是列表项的
一部分，因为它没有足够缩进，以超过块引用标记：</p>
<div class="example" id="example-170" data-section="列表项">
<div class="examplenum"><a href="#example-170">Example 170</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;&gt;-<span class="space"> </span>one
&gt;&gt;
<span class="space"> </span><span class="space"> </span>&gt;<span class="space"> </span><span class="space"> </span>&gt;<span class="space"> </span>two
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;one&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;two&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<p>注意列表标记与后面内容之间至少要有一个空格，下面不是列表项：</p>
<div class="example" id="example-171" data-section="列表项">
<div class="examplenum"><a href="#example-171">Example 171</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-one

2.two
</code></pre>
<pre><code class="language-html">&lt;p&gt;-one&lt;/p&gt;
&lt;p&gt;2.two&lt;/p&gt;
</code></pre>
</div>
<p>列表项内的块不可用一个以上的空行隔开。两个空行结束一个列表，除非空行
包含在<a href="#%E5%9B%B4%E6%A0%8F%E5%BC%8F%E4%BB%A3%E7%A0%81%E5%9D%97">围栏式代码块</a>中。</p>
<div class="example" id="example-172" data-section="列表项">
<div class="examplenum"><a href="#example-172">Example 172</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>foo

<span class="space"> </span><span class="space"> </span>bar

-<span class="space"> </span>foo


<span class="space"> </span><span class="space"> </span>bar

-<span class="space"> </span>```
<span class="space"> </span><span class="space"> </span>foo


<span class="space"> </span><span class="space"> </span>bar
<span class="space"> </span><span class="space"> </span>```

-<span class="space"> </span>baz

<span class="space"> </span><span class="space"> </span>+<span class="space"> </span>```
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>foo


<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>bar
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>```
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;p&gt;bar&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;bar&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;foo


bar
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;baz&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;foo


bar
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>列表项可以包含任意类型的块：</p>
<div class="example" id="example-173" data-section="列表项">
<div class="examplenum"><a href="#example-173">Example 173</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">1.<span class="space"> </span><span class="space"> </span>foo

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>```
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>bar
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>```

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>baz

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>&gt;<span class="space"> </span>bam
</code></pre>
<pre><code class="language-html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bar
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;baz&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;bam&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
</code></pre>
</div>
<ol start="2">
<li><strong>以缩进式代码块开始的列表项</strong>
一组行 <em>Ls</em> 构成一组块 <em>Bs</em>，以<a href="#non-space-character">非空白字符</a>开始，且之间没有多于一个的
空行，<em>M</em> 是列表标记，<em>M</em> 的宽度为 <em>W</em>，<em>M</em> 后面有一个空格，然后将 <em>M</em>
及空格加到 <em>Ls</em> 第一行的头部，<em>Ls</em> 后面的行缩进 <em>W + 1</em> 个空格，
这样将得到一个列表项，以 <em>Bs</em> 为它的内容。
列表项的类型（有序或无序）由列表标记的类型决定。如果列表项是有序的，
则由有序列表标记给它一个序号。</li>
</ol>
<p>缩进式代码块必须在列表项的开始位置再缩进 4 个空格。下面是缩进 6 个空格：</p>
<div class="example" id="example-174" data-section="列表项">
<div class="examplenum"><a href="#example-174">Example 174</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>foo

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bar
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>下面是缩进 11 个空格：</p>
<div class="example" id="example-175" data-section="列表项">
<div class="examplenum"><a href="#example-175">Example 175</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span>10.<span class="space"> </span><span class="space"> </span>foo

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;ol<span class="space"> </span>start=&quot;10&quot;&gt;
&lt;li&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bar
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
</code></pre>
</div>
<p>若列表项的第一个块是缩进式代码块，根据规则 #2，需要在列表标记后缩进
一个空格：</p>
<div class="example" id="example-176" data-section="列表项">
<div class="examplenum"><a href="#example-176">Example 176</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>indented<span class="space"> </span>code

paragraph

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>more<span class="space"> </span>code
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;indented<span class="space"> </span>code
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;paragraph&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;more<span class="space"> </span>code
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<div class="example" id="example-177" data-section="列表项">
<div class="examplenum"><a href="#example-177">Example 177</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">1.<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>indented<span class="space"> </span>code

<span class="space"> </span><span class="space"> </span><span class="space"> </span>paragraph

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>more<span class="space"> </span>code
</code></pre>
<pre><code class="language-html">&lt;ol&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;indented<span class="space"> </span>code
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;paragraph&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;more<span class="space"> </span>code
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
</code></pre>
</div>
<p>注意多余的空格缩进将放在代码块内:</p>
<div class="example" id="example-178" data-section="列表项">
<div class="examplenum"><a href="#example-178">Example 178</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">1.<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>indented<span class="space"> </span>code

<span class="space"> </span><span class="space"> </span><span class="space"> </span>paragraph

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>more<span class="space"> </span>code
</code></pre>
<pre><code class="language-html">&lt;ol&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;<span class="space"> </span>indented<span class="space"> </span>code
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;paragraph&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;more<span class="space"> </span>code
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
</code></pre>
</div>
<p>注意规则 #1 与 #2 只适用于两种情况：一，以<a href="#non-space-character">非空白字符</a>开始；二，以缩进式
代码块开始。在下面情况中，第一个块缩进 3 个空格，不能生成一个列表项：</p>
<div class="example" id="example-179" data-section="列表项">
<div class="examplenum"><a href="#example-179">Example 179</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span>foo

bar
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo&lt;/p&gt;
&lt;p&gt;bar&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-180" data-section="列表项">
<div class="examplenum"><a href="#example-180">Example 180</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>foo

<span class="space"> </span><span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;bar&lt;/p&gt;
</code></pre>
</div>
<p>这不是重要的限制，因为当块缩进 1-3 个空格时，在解析时可以删除而不引起改变，
从而适用于规则 #1。因此对于上面情况：</p>
<div class="example" id="example-181" data-section="列表项">
<div class="examplenum"><a href="#example-181">Example 181</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span><span class="space"> </span>foo

<span class="space"> </span><span class="space"> </span><span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;p&gt;bar&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<ol start="3">
<li><strong>以空行开始的列表项</strong>
一组行且它们的第一行是空行 <em>Ls</em> 构成一组块 <em>Bs</em>，块可能为空，之间没有
多于一个的空行，<em>M</em> 是列表标记，<em>M</em> 的宽度为 <em>W</em>，然后将 <em>M</em>
加到 <em>Ls</em> 第一行的头部，<em>Ls</em> 后面的行缩进 <em>W + 1</em> 个空格，
这样将得到一个列表项，以 <em>Bs</em> 为它的内容。
空行不需要缩进。
列表项的类型（有序或无序）由列表标记的类型决定。如果列表项是有序的，
则由有序列表标记给它一个序号。</li>
</ol>
<p>下面列表项以空行开始，但是不为空：</p>
<div class="example" id="example-182" data-section="列表项">
<div class="examplenum"><a href="#example-182">Example 182</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-
<span class="space"> </span><span class="space"> </span>foo
-
<span class="space"> </span><span class="space"> </span>```
<span class="space"> </span><span class="space"> </span>bar
<span class="space"> </span><span class="space"> </span>```
-
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>baz
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;bar
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;baz
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>一个空的无序列表项：</p>
<div class="example" id="example-183" data-section="列表项">
<div class="examplenum"><a href="#example-183">Example 183</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>foo
-
-<span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;bar&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p><a href="#list-marker">列表标记</a>后是否有空格不重要：</p>
<div class="example" id="example-184" data-section="列表项">
<div class="examplenum"><a href="#example-184">Example 184</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>foo
-
-<span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;bar&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>一个空的有序列表项：</p>
<div class="example" id="example-185" data-section="列表项">
<div class="examplenum"><a href="#example-185">Example 185</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">1.<span class="space"> </span>foo
2.
3.<span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;ol&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;bar&lt;/li&gt;
&lt;/ol&gt;
</code></pre>
</div>
<p>列表可以空列表项开始或结束：</p>
<div class="example" id="example-186" data-section="列表项">
<div class="examplenum"><a href="#example-186">Example 186</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<ol start="4">
<li><strong>缩进</strong>
根据规则 #1, #2 或 #3，一组行 <em>Ls</em> 构成一个列表项，如果将 <em>Ls</em> 每行缩进
1-3 个空格，每行缩进宽度一致，得到的列表项一样。
空行不需要缩进。</li>
</ol>
<p>缩进一个空格：</p>
<div class="example" id="example-187" data-section="列表项">
<div class="examplenum"><a href="#example-187">Example 187</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span>1.<span class="space"> </span><span class="space"> </span>A<span class="space"> </span>paragraph
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>with<span class="space"> </span>two<span class="space"> </span>lines.

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>indented<span class="space"> </span>code

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>&gt;<span class="space"> </span>A<span class="space"> </span>block<span class="space"> </span>quote.
</code></pre>
<pre><code class="language-html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;A<span class="space"> </span>paragraph
with<span class="space"> </span>two<span class="space"> </span>lines.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;indented<span class="space"> </span>code
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;A<span class="space"> </span>block<span class="space"> </span>quote.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
</code></pre>
</div>
<p>缩进两个空格：</p>
<div class="example" id="example-188" data-section="列表项">
<div class="examplenum"><a href="#example-188">Example 188</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span>1.<span class="space"> </span><span class="space"> </span>A<span class="space"> </span>paragraph
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>with<span class="space"> </span>two<span class="space"> </span>lines.

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>indented<span class="space"> </span>code

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>&gt;<span class="space"> </span>A<span class="space"> </span>block<span class="space"> </span>quote.
</code></pre>
<pre><code class="language-html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;A<span class="space"> </span>paragraph
with<span class="space"> </span>two<span class="space"> </span>lines.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;indented<span class="space"> </span>code
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;A<span class="space"> </span>block<span class="space"> </span>quote.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
</code></pre>
</div>
<p>缩进三个空格：</p>
<div class="example" id="example-189" data-section="列表项">
<div class="examplenum"><a href="#example-189">Example 189</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span>1.<span class="space"> </span><span class="space"> </span>A<span class="space"> </span>paragraph
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>with<span class="space"> </span>two<span class="space"> </span>lines.

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>indented<span class="space"> </span>code

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>&gt;<span class="space"> </span>A<span class="space"> </span>block<span class="space"> </span>quote.
</code></pre>
<pre><code class="language-html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;A<span class="space"> </span>paragraph
with<span class="space"> </span>two<span class="space"> </span>lines.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;indented<span class="space"> </span>code
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;A<span class="space"> </span>block<span class="space"> </span>quote.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
</code></pre>
</div>
<p>缩进四个空格便是代码块了：</p>
<div class="example" id="example-190" data-section="列表项">
<div class="examplenum"><a href="#example-190">Example 190</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>1.<span class="space"> </span><span class="space"> </span>A<span class="space"> </span>paragraph
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>with<span class="space"> </span>two<span class="space"> </span>lines.

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>indented<span class="space"> </span>code

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>&gt;<span class="space"> </span>A<span class="space"> </span>block<span class="space"> </span>quote.
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;1.<span class="space"> </span><span class="space"> </span>A<span class="space"> </span>paragraph
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>with<span class="space"> </span>two<span class="space"> </span>lines.

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>indented<span class="space"> </span>code

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>&amp;gt;<span class="space"> </span>A<span class="space"> </span>block<span class="space"> </span>quote.
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<ol start="5">
<li><strong>懒惰</strong>
一组行 <em>Ls</em> 构成一个列表项，如果从这样的行——它的缩进后面的<a href="#non-space-character">非空白字符</a>是
<a href="#paragraph-continuation-text">段落连续文本</a>，删除一些或全部的缩进，得到的列表项一样。
没有缩进的行称作<a id="lazy-continuation-line" href="#lazy-continuation-line" class="definition">懒惰连续行</a>。</li>
</ol>
<p>懒惰连续行示例：</p>
<div class="example" id="example-191" data-section="列表项">
<div class="examplenum"><a href="#example-191">Example 191</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span>1.<span class="space"> </span><span class="space"> </span>A<span class="space"> </span>paragraph
with<span class="space"> </span>two<span class="space"> </span>lines.

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>indented<span class="space"> </span>code

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>&gt;<span class="space"> </span>A<span class="space"> </span>block<span class="space"> </span>quote.
</code></pre>
<pre><code class="language-html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;A<span class="space"> </span>paragraph
with<span class="space"> </span>two<span class="space"> </span>lines.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;indented<span class="space"> </span>code
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;A<span class="space"> </span>block<span class="space"> </span>quote.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
</code></pre>
</div>
<p>缩进可部分删除：</p>
<div class="example" id="example-192" data-section="列表项">
<div class="examplenum"><a href="#example-192">Example 192</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span>1.<span class="space"> </span><span class="space"> </span>A<span class="space"> </span>paragraph
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>with<span class="space"> </span>two<span class="space"> </span>lines.
</code></pre>
<pre><code class="language-html">&lt;ol&gt;
&lt;li&gt;A<span class="space"> </span>paragraph
with<span class="space"> </span>two<span class="space"> </span>lines.&lt;/li&gt;
&lt;/ol&gt;
</code></pre>
</div>
<p>下例演示在嵌套结构中懒惰模式怎么做：</p>
<div class="example" id="example-193" data-section="列表项">
<div class="examplenum"><a href="#example-193">Example 193</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span>1.<span class="space"> </span>&gt;<span class="space"> </span>Blockquote
continued<span class="space"> </span>here.
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;blockquote&gt;
&lt;p&gt;Blockquote
continued<span class="space"> </span>here.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<div class="example" id="example-194" data-section="列表项">
<div class="examplenum"><a href="#example-194">Example 194</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&gt;<span class="space"> </span>1.<span class="space"> </span>&gt;<span class="space"> </span>Blockquote
&gt;<span class="space"> </span>continued<span class="space"> </span>here.
</code></pre>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;blockquote&gt;
&lt;p&gt;Blockquote
continued<span class="space"> </span>here.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
</code></pre>
</div>
<ol start="6">
<li><strong>就是这样</strong>
按规则 #1–5 不能视为列表项的不是列表项。</li>
</ol>
<p>子列表遵循上面的规则。跟列表项内段落一样，子列表需要缩进相同的宽度。</p>
<p>下例需要缩进两个空格：</p>
<div class="example" id="example-195" data-section="列表项">
<div class="examplenum"><a href="#example-195">Example 195</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>foo
<span class="space"> </span><span class="space"> </span>-<span class="space"> </span>bar
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>-<span class="space"> </span>baz
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;foo
&lt;ul&gt;
&lt;li&gt;bar
&lt;ul&gt;
&lt;li&gt;baz&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>一个不够：</p>
<div class="example" id="example-196" data-section="列表项">
<div class="examplenum"><a href="#example-196">Example 196</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>foo
<span class="space"> </span>-<span class="space"> </span>bar
<span class="space"> </span><span class="space"> </span>-<span class="space"> </span>baz
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;li&gt;bar&lt;/li&gt;
&lt;li&gt;baz&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>下例需要缩进四个空格，因为列表标记较宽：</p>
<div class="example" id="example-197" data-section="列表项">
<div class="examplenum"><a href="#example-197">Example 197</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">10)<span class="space"> </span>foo
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>-<span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;ol<span class="space"> </span>start=&quot;10&quot;&gt;
&lt;li&gt;foo
&lt;ul&gt;
&lt;li&gt;bar&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
</code></pre>
</div>
<p>三个不够：</p>
<div class="example" id="example-198" data-section="列表项">
<div class="examplenum"><a href="#example-198">Example 198</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">10)<span class="space"> </span>foo
<span class="space"> </span><span class="space"> </span><span class="space"> </span>-<span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;ol<span class="space"> </span>start=&quot;10&quot;&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;bar&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>列表可以是列表项的第一个块：</p>
<div class="example" id="example-199" data-section="列表项">
<div class="examplenum"><a href="#example-199">Example 199</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>-<span class="space"> </span>foo
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<div class="example" id="example-200" data-section="列表项">
<div class="examplenum"><a href="#example-200">Example 200</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">1.<span class="space"> </span>-<span class="space"> </span>2.<span class="space"> </span>foo
</code></pre>
<pre><code class="language-html">&lt;ol&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ol<span class="space"> </span>start=&quot;2&quot;&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
</code></pre>
</div>
<p>列表项可以包含标题：</p>
<div class="example" id="example-201" data-section="列表项">
<div class="examplenum"><a href="#example-201">Example 201</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>#<span class="space"> </span>Foo
-<span class="space"> </span>Bar
<span class="space"> </span><span class="space"> </span>---
<span class="space"> </span><span class="space"> </span>baz
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;
&lt;h1&gt;Foo&lt;/h1&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;h2&gt;Bar&lt;/h2&gt;
baz&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<h3 id="讨论">5.2.1 讨论</h3>
<p>对于列表项，John Gruber 的 Markdown 语法这么说：</p>
<ol>
<li>
<p>列表标记从左边距开始，不过最多可缩进三个空格。列表标记后必须有一或
多个空格或制表符。</p>
</li>
<li>
<p>为了看着舒心，可以悬挂缩进列表项…… 不过不想做的话可不做。</p>
</li>
<li>
<p>列表项可包含多个段落。后续段落必须缩进四个空格或一个制表符。</p>
</li>
<li>
<p>缩进后续段落会看着舒心，不过再说一遍，可以偷懒不做。</p>
</li>
<li>
<p>将块引用放到列表项内时，列表项标记 <code>&gt;</code> 需要缩进。</p>
</li>
<li>
<p>将代码块放到列表项内时，代码块需要缩进两次—— 八个空格或两个制表符。</p>
</li>
</ol>
<p>这些规则规定了列表项内的段落必须缩进四个空格。大概是从左边距而不是列表标记
开始，没有明确说明。并且列表项内的代码块必须缩进八个空格而不是常见的四个。
另外块引用也必须缩进，却没有说缩进多少，不过给出的例子是缩进四个空格。尽管
没提到其它类型块，不过可合理的推测列表项内的块，包括列表，必须缩进四个空格。
此之为<strong>四空格规则</strong>。</p>
<p>四空格规则清晰且有原则，如果 <code>Markdown.pl</code> 遵守了，这将成为标准。但是
<code>Markdown.pl</code> 允许段落及子列表只缩进两个空格，至少是在外部列表。更糟的是，
它的处理不一致：外部列表的子列表需要缩进两个空格，而这个子列表的子列表
需要缩进三个空格。接下来就不奇怪了，不同的 Markdown 实现就列表项的内容发展
了迥异的规则。例如 Pandoc 和 python-Markdown 遵守 Gruber 的语法说明，
而 discount, redcarpet, marked, PHP Markdown等其它实现比较接近 <code>Markdown.pl</code>。</p>
<p>遗憾的是，考虑到各实现的分歧，无法为列表项给出一个规范，确保不会破坏已有
文档。不过，本规范能正确处理四空格规则及更宽松的 <code>Markdown.pl</code> 规则，如果它们的排版阅读起来自然的话。</p>
<p>这里的策略是让列表标记的宽度与缩进决定块如何缩进才能放到列表项内，而不是
指定固定而武断的数。作者可将列表项的内容作为一个单元，向右足够缩进以适合
列表标记及标记前的缩进。不过懒惰规则 #5 允许连续行不缩进。</p>
<p>我们认为，比起其它要求缩进固定宽度的规则，本规则更胜一筹。四空格规则
清晰但不自然。</p>
<pre><code class="language-markdown">- foo

  bar

  - baz
</code></pre>
<p>按四空格规则，上面将解析为夹着一个段落的两个列表，</p>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;bar&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;baz&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p>而不是一个列表，</p>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;p&gt;bar&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;baz&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p>这有违直观。</p>
<p>选择四个空格是武断的。人们可以学会，但是结果不大直观，将时不时地绊倒初学者。</p>
<p>换成两个空格是否有用呢？问题是，这样的规则，加上允许列表标记缩进 1-3 个
空格，可以使列表项内文本缩进小于列表标记。例如 <code>Markdown.pl</code> 将</p>
<pre><code class="language-markdown">   - one

  two
</code></pre>
<p>解析为一个列表项，包含两个段落：</p>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;one&lt;/p&gt;
&lt;p&gt;two&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p>类似的，</p>
<pre><code class="language-markdown">&gt;   - one
&gt;
&gt;  two
</code></pre>
<p>结果为：</p>
<pre><code class="language-html">&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;one&lt;/p&gt;
&lt;p&gt;two&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
</code></pre>
<p>很违直观。</p>
<p>不从左边距，而从列表标记开始缩进固定宽度，比如说两个空格甚至一个
空格，列表标记也可缩进。这个方案可避开上面的异常。按这个方案，
下面将是一个包含一个段落的列表项，即使段落 <code>bar</code> 缩进不如第一个
段落 <code>foo</code>：</p>
<pre><code class="language-markdown"> 10. foo

   bar
</code></pre>
<p>这样的结果有利于支持这个方案。
但是，在这个方案下缩进式代码需要在列表标记后面缩进 6 个空格。
这将破坏大量已有的像下面这样的 Markdown：</p>
<pre><code class="language-markdown">1.  foo

        indented code
</code></pre>
<p>代码块缩进 8 个空格。按本规范的解析结果符合预期，因为代码块的缩进从
<code>foo</code> 的首字符算起。</p>
<p>有个需要特别考虑的情况：列表项以缩进式代码块开始。既然没有第一个段落作为
参考，那么需要缩进多少呢？规则 #2 简单地规定了这种情况，需要在列表标记后
缩进一个空格，然后缩进式代码块如常地缩进四个空格。这是四空格规则的一种
常见情况：列表标记加上它的缩进占四个空格，但是不同于其它情况。</p>
<h2 id="列表">5.3 列表</h2>
<p><a id="list" href="#list" class="definition">列表</a>由数个同类列表项组成。列表项可用单个<a href="#blank-line">空行</a>隔开，但是两个空行
会结束所有嵌套列表。</p>
<p><a id="of-the-same-type" href="#of-the-same-type" class="definition">同类</a>列表项的<a href="#list-marker">列表标记</a>同类，即无序
列表标记使用相同的字符，<code>-</code>, <code>+</code> 或 <code>*</code>；有序列表序号使用相同的定界符，<code>.</code>
或 <code>)</code>。</p>
<p><a id="ordered-list" href="#ordered-list" class="definition">有序列表</a>的列表项以<a href="#ordered-list-marker">有序列表标记</a>开始，
<a id="bullet-list" href="#bullet-list" class="definition">无序列表</a>的列表项以<a href="#bullet-list-marker">无序列表标记</a>开始。</p>
<p>有序列表的<a id="start-number" href="#start-number" class="definition">开始数字</a>由第一个列表项的数字决定，而不考虑
后面的列表项。</p>
<p>列表的列表项以空行隔开，或者任意列表项包括两个块元素，并且以空行隔开，
此列表为<a id="loose" href="#loose" class="definition">松</a>，其它的则为<a id="tight" href="#tight" class="definition">紧</a>。区别是输出 HTML 时
松列表的内容由 <code>&lt;p&gt;</code> 标签包裹，而紧列表不会。</p>
<p>改变列表标记则开始另一个列表：</p>
<div class="example" id="example-202" data-section="列表">
<div class="examplenum"><a href="#example-202">Example 202</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>foo
-<span class="space"> </span>bar
+<span class="space"> </span>baz
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;li&gt;bar&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;baz&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<div class="example" id="example-203" data-section="列表">
<div class="examplenum"><a href="#example-203">Example 203</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">1.<span class="space"> </span>foo
2.<span class="space"> </span>bar
3)<span class="space"> </span>baz
</code></pre>
<pre><code class="language-html">&lt;ol&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;li&gt;bar&lt;/li&gt;
&lt;/ol&gt;
&lt;ol<span class="space"> </span>start=&quot;3&quot;&gt;
&lt;li&gt;baz&lt;/li&gt;
&lt;/ol&gt;
</code></pre>
</div>
<p>列表可中断段落，即段落后跟着列表时不需要用空行隔开：</p>
<div class="example" id="example-204" data-section="列表">
<div class="examplenum"><a href="#example-204">Example 204</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">Foo
-<span class="space"> </span>bar
-<span class="space"> </span>baz
</code></pre>
<pre><code class="language-html">&lt;p&gt;Foo&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;bar&lt;/li&gt;
&lt;li&gt;baz&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p><code>Markdown.pl</code> 则不能，这是担心在硬换行后的数字会触发一个列表：</p>
<div class="example" id="example-205" data-section="列表">
<div class="examplenum"><a href="#example-205">Example 205</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">The<span class="space"> </span>number<span class="space"> </span>of<span class="space"> </span>windows<span class="space"> </span>in<span class="space"> </span>my<span class="space"> </span>house<span class="space"> </span>is
14.<span class="space"> </span><span class="space"> </span>The<span class="space"> </span>number<span class="space"> </span>of<span class="space"> </span>doors<span class="space"> </span>is<span class="space"> </span>6.
</code></pre>
<pre><code class="language-html">&lt;p&gt;The<span class="space"> </span>number<span class="space"> </span>of<span class="space"> </span>windows<span class="space"> </span>in<span class="space"> </span>my<span class="space"> </span>house<span class="space"> </span>is&lt;/p&gt;
&lt;ol<span class="space"> </span>start=&quot;14&quot;&gt;
&lt;li&gt;The<span class="space"> </span>number<span class="space"> </span>of<span class="space"> </span>doors<span class="space"> </span>is<span class="space"> </span>6.&lt;/li&gt;
&lt;/ol&gt;
</code></pre>
</div>
<p>奇怪的是，<code>Markdown.pl</code> 却允许块引用中断段落，即使会遇到同样的情况。
我们认为两者的处理应当一致，允许中断段落，原因有二：</p>
<p>一，人们习惯不用空行来开始列表：</p>
<pre><code>I need to buy
- new shoes
- a coat
- a plane ticket
</code></pre>
<p>二，我们倾向于</p>
<blockquote>
<p><a id="principle-of-uniformity" href="#principle-of-uniformity" class="definition">一致原则</a>:
若一段文本有特定意义，当放到容器块中，比如列表项或块引用，
也应有同样的意义。</p>
</blockquote>
<p>实际上，<a href="#%E5%88%97%E8%A1%A8%E9%A1%B9">列表项</a>与<a href="#%E5%9D%97%E5%BC%95%E7%94%A8">块引用</a>的规则预示了这个原则。</p>
<pre><code>  * I need to buy
    - new shoes
    - a coat
    - a plane ticket
</code></pre>
<p>如果上面是一个列表项，包含一个段落，其后跟着一个子列表。所有 Markdown 实现
均如此，尽管段落可能没用 <code>&lt;p&gt;</code> 标签包裹，因为列表为“紧”。</p>
<pre><code>I need to buy
- new shoes
- a coat
- a plane ticket
</code></pre>
<p>那么上面是一个段落，其后跟着一个子列表。</p>
<p>我们遵守<a href="#principle-of-uniformity">一致原则</a>，有两种方案：</p>
<ol>
<li>
<p>所有的列表与块引用前都需要空行，包括嵌套列表中的子列表。</p>
</li>
<li>
<p>这些地方不需要空行</p>
</li>
</ol>
<p><a href="http://docutils.sourceforge.net/rst.html">reStructuredText</a> 采用第一种
方案，这话要是说起来就多了。但是第二种方案似乎更贴近 Markdown 实践。</p>
<p>列表项之间可以放空行，但是两个空行会结束列表：</p>
<div class="example" id="example-206" data-section="列表">
<div class="examplenum"><a href="#example-206">Example 206</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>foo

-<span class="space"> </span>bar


-<span class="space"> </span>baz
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;bar&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;baz&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>如<a href="#%E5%88%97%E8%A1%A8%E9%A1%B9">列表项</a>一节所示，列表项内块之间放两个空行也会结束列表：</p>
<div class="example" id="example-207" data-section="列表">
<div class="examplenum"><a href="#example-207">Example 207</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>foo


<span class="space"> </span><span class="space"> </span>bar
-<span class="space"> </span>baz
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;bar&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;baz&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>实际上两个空行会结束所有嵌套列表：</p>
<div class="example" id="example-208" data-section="列表">
<div class="examplenum"><a href="#example-208">Example 208</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>foo
<span class="space"> </span><span class="space"> </span>-<span class="space"> </span>bar
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>-<span class="space"> </span>baz


<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>bim
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;foo
&lt;ul&gt;
&lt;li&gt;bar
&lt;ul&gt;
&lt;li&gt;baz&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;<span class="space"> </span><span class="space"> </span>bim
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>因此，两个空行可用于分隔两个连续的同类列表，或分隔列表与缩进式代码块，
以防解析为最后一个列表项的段落：</p>
<div class="example" id="example-209" data-section="列表">
<div class="examplenum"><a href="#example-209">Example 209</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>foo
-<span class="space"> </span>bar


-<span class="space"> </span>baz
-<span class="space"> </span>bim
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;li&gt;bar&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;baz&lt;/li&gt;
&lt;li&gt;bim&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<div class="example" id="example-210" data-section="列表">
<div class="examplenum"><a href="#example-210">Example 210</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span><span class="space"> </span><span class="space"> </span>foo

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>notcode

-<span class="space"> </span><span class="space"> </span><span class="space"> </span>foo


<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>code
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;p&gt;notcode&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;code
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>列表项不需要缩进一致。下面列表项同级，因为没有哪项足够缩进到可以放到前
一个列表项内：</p>
<div class="example" id="example-211" data-section="列表">
<div class="examplenum"><a href="#example-211">Example 211</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>a
<span class="space"> </span>-<span class="space"> </span>b
<span class="space"> </span><span class="space"> </span>-<span class="space"> </span>c
<span class="space"> </span><span class="space"> </span><span class="space"> </span>-<span class="space"> </span>d
<span class="space"> </span><span class="space"> </span>-<span class="space"> </span>e
<span class="space"> </span>-<span class="space"> </span>f
-<span class="space"> </span>g
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;a&lt;/li&gt;
&lt;li&gt;b&lt;/li&gt;
&lt;li&gt;c&lt;/li&gt;
&lt;li&gt;d&lt;/li&gt;
&lt;li&gt;e&lt;/li&gt;
&lt;li&gt;f&lt;/li&gt;
&lt;li&gt;g&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>下面列表为松，因为两个列表项之间有一个空行：</p>
<div class="example" id="example-212" data-section="列表">
<div class="examplenum"><a href="#example-212">Example 212</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>a
-<span class="space"> </span>b

-<span class="space"> </span>c
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;a&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;b&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;c&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>下面也是，第二项为空：</p>
<div class="example" id="example-213" data-section="列表">
<div class="examplenum"><a href="#example-213">Example 213</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*<span class="space"> </span>a
*

*<span class="space"> </span>c
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;a&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;c&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>下面列表为松，尽管列表项之间没有空行，但是有个列表项直接包含两个块级元素，
两者间有一个空行：</p>
<div class="example" id="example-214" data-section="列表">
<div class="examplenum"><a href="#example-214">Example 214</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>a
-<span class="space"> </span>b

<span class="space"> </span><span class="space"> </span>c
-<span class="space"> </span>d
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;a&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;b&lt;/p&gt;
&lt;p&gt;c&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;d&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<div class="example" id="example-215" data-section="列表">
<div class="examplenum"><a href="#example-215">Example 215</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>a
-<span class="space"> </span>b

<span class="space"> </span><span class="space"> </span>[ref]:<span class="space"> </span>/url
-<span class="space"> </span>d
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;a&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;b&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;d&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>下面列表为紧，因为空行在代码块中：</p>
<div class="example" id="example-216" data-section="列表">
<div class="examplenum"><a href="#example-216">Example 216</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>a
-<span class="space"> </span>```
<span class="space"> </span><span class="space"> </span>b


<span class="space"> </span><span class="space"> </span>```
-<span class="space"> </span>c
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;a&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;b


&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;c&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>下面列表为紧，因为空行是在子列表中。里面列表松，外面列表紧：
：</p>
<div class="example" id="example-217" data-section="列表">
<div class="examplenum"><a href="#example-217">Example 217</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>a
<span class="space"> </span><span class="space"> </span>-<span class="space"> </span>b

<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>c
-<span class="space"> </span>d
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;a
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;b&lt;/p&gt;
&lt;p&gt;c&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;d&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>下面列表为紧，因为空行是在块引用中：</p>
<div class="example" id="example-218" data-section="列表">
<div class="examplenum"><a href="#example-218">Example 218</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*<span class="space"> </span>a
<span class="space"> </span><span class="space"> </span>&gt;<span class="space"> </span>b
<span class="space"> </span><span class="space"> </span>&gt;
*<span class="space"> </span>c
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;a
&lt;blockquote&gt;
&lt;p&gt;b&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;c&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>下面列表为紧，因为相邻两个块元素之间没用空行隔开：</p>
<div class="example" id="example-219" data-section="列表">
<div class="examplenum"><a href="#example-219">Example 219</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>a
<span class="space"> </span><span class="space"> </span>&gt;<span class="space"> </span>b
<span class="space"> </span><span class="space"> </span>```
<span class="space"> </span><span class="space"> </span>c
<span class="space"> </span><span class="space"> </span>```
-<span class="space"> </span>d
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;a
&lt;blockquote&gt;
&lt;p&gt;b&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;c
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;d&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>单项列表为紧：</p>
<div class="example" id="example-220" data-section="列表">
<div class="examplenum"><a href="#example-220">Example 220</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>a
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;a&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<div class="example" id="example-221" data-section="列表">
<div class="examplenum"><a href="#example-221">Example 221</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>a
<span class="space"> </span><span class="space"> </span>-<span class="space"> </span>b
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;a
&lt;ul&gt;
&lt;li&gt;b&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>下面列表为松，因为列表项内两个块元素间有空行：</p>
<div class="example" id="example-222" data-section="列表">
<div class="examplenum"><a href="#example-222">Example 222</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">1.<span class="space"> </span>```
<span class="space"> </span><span class="space"> </span><span class="space"> </span>foo
<span class="space"> </span><span class="space"> </span><span class="space"> </span>```

<span class="space"> </span><span class="space"> </span><span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;ol&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;foo
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;bar&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</code></pre>
</div>
<p>外面列表松，里面列表紧：</p>
<div class="example" id="example-223" data-section="列表">
<div class="examplenum"><a href="#example-223">Example 223</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*<span class="space"> </span>foo
<span class="space"> </span><span class="space"> </span>*<span class="space"> </span>bar

<span class="space"> </span><span class="space"> </span>baz
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;bar&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;baz&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<div class="example" id="example-224" data-section="列表">
<div class="examplenum"><a href="#example-224">Example 224</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">-<span class="space"> </span>a
<span class="space"> </span><span class="space"> </span>-<span class="space"> </span>b
<span class="space"> </span><span class="space"> </span>-<span class="space"> </span>c

-<span class="space"> </span>d
<span class="space"> </span><span class="space"> </span>-<span class="space"> </span>e
<span class="space"> </span><span class="space"> </span>-<span class="space"> </span>f
</code></pre>
<pre><code class="language-html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;a&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;b&lt;/li&gt;
&lt;li&gt;c&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;d&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;e&lt;/li&gt;
&lt;li&gt;f&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<h1 id="内联元素">6 内联元素</h1>
<p>内联元素从字符流的开始到结尾连续解析（对于从左至右书写的语言是从左至右）。
例如：</p>
<div class="example" id="example-225" data-section="内联元素">
<div class="examplenum"><a href="#example-225">Example 225</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">`hi`lo`
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;code&gt;hi&lt;/code&gt;lo`&lt;/p&gt;
</code></pre>
</div>
<p><code>hi</code> 解析为代码，最后的反引号是字面反引号。</p>
<h2 id="用反斜杠转义">6.1 用反斜杠转义</h2>
<p>任意 ASCII 标点符号都可以用反斜杠转义：</p>
<div class="example" id="example-226" data-section="用反斜杠转义">
<div class="examplenum"><a href="#example-226">Example 226</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">\!\&quot;\#\$\%\&amp;\'\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\`\{\|\}\~
</code></pre>
<pre><code class="language-html">&lt;p&gt;!&amp;quot;#$%&amp;amp;'()*+,-./:;&amp;lt;=&amp;gt;?@[\]^_`{|}~&lt;/p&gt;
</code></pre>
</div>
<p>其它字符前的反斜杠视为字面反斜杠：</p>
<div class="example" id="example-227" data-section="用反斜杠转义">
<div class="examplenum"><a href="#example-227">Example 227</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">\→\A\a\<span class="space"> </span>\3\φ\«
</code></pre>
<pre><code class="language-html">&lt;p&gt;\<span class="space"> </span><span class="space"> </span><span class="space"> </span>\A\a\<span class="space"> </span>\3\φ\«&lt;/p&gt;
</code></pre>
</div>
<p>转义后的字符如同普通字符，不再有语法意义：</p>
<div class="example" id="example-228" data-section="用反斜杠转义">
<div class="examplenum"><a href="#example-228">Example 228</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">\*not<span class="space"> </span>emphasized*
\&lt;br/&gt;<span class="space"> </span>not<span class="space"> </span>a<span class="space"> </span>tag
\[not<span class="space"> </span>a<span class="space"> </span>link](/foo)
\`not<span class="space"> </span>code`
1\.<span class="space"> </span>not<span class="space"> </span>a<span class="space"> </span>list
\*<span class="space"> </span>not<span class="space"> </span>a<span class="space"> </span>list
\#<span class="space"> </span>not<span class="space"> </span>a<span class="space"> </span>header
\[foo]:<span class="space"> </span>/url<span class="space"> </span>&quot;not<span class="space"> </span>a<span class="space"> </span>reference&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;*not<span class="space"> </span>emphasized*
&amp;lt;br/&amp;gt;<span class="space"> </span>not<span class="space"> </span>a<span class="space"> </span>tag
[not<span class="space"> </span>a<span class="space"> </span>link](/foo)
`not<span class="space"> </span>code`
1.<span class="space"> </span>not<span class="space"> </span>a<span class="space"> </span>list
*<span class="space"> </span>not<span class="space"> </span>a<span class="space"> </span>list
#<span class="space"> </span>not<span class="space"> </span>a<span class="space"> </span>header
[foo]:<span class="space"> </span>/url<span class="space"> </span>&amp;quot;not<span class="space"> </span>a<span class="space"> </span>reference&amp;quot;&lt;/p&gt;
</code></pre>
</div>
<p>如果反斜杠自己被转义，它后面的字符便不会被转义：</p>
<div class="example" id="example-229" data-section="用反斜杠转义">
<div class="examplenum"><a href="#example-229">Example 229</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">\\*emphasis*
</code></pre>
<pre><code class="language-html">&lt;p&gt;\&lt;em&gt;emphasis&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<p>在行尾的反斜杠是 [硬换行符]：</p>
<div class="example" id="example-230" data-section="用反斜杠转义">
<div class="examplenum"><a href="#example-230">Example 230</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo\
bar
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo&lt;br<span class="space"> </span>/&gt;
bar&lt;/p&gt;
</code></pre>
</div>
<p>在代码块、内联代码、自动链接及原生 HTML 中不能转义：</p>
<div class="example" id="example-231" data-section="用反斜杠转义">
<div class="examplenum"><a href="#example-231">Example 231</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">``<span class="space"> </span>\[\`<span class="space"> </span>``
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;code&gt;\[\`&lt;/code&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-232" data-section="用反斜杠转义">
<div class="examplenum"><a href="#example-232">Example 232</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>\[\]
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;\[\]
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<div class="example" id="example-233" data-section="用反斜杠转义">
<div class="examplenum"><a href="#example-233">Example 233</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">~~~
\[\]
~~~
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;\[\]
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<div class="example" id="example-234" data-section="用反斜杠转义">
<div class="examplenum"><a href="#example-234">Example 234</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;http://example.com?find=\*&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;http://example.com?find=%5C*&quot;&gt;http://example.com?find=\*&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-235" data-section="用反斜杠转义">
<div class="examplenum"><a href="#example-235">Example 235</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;a<span class="space"> </span>href=&quot;/bar\/)&quot;&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/bar\/)&quot;&gt;&lt;/p&gt;
</code></pre>
</div>
<p>但是可以用在其它情况下，比如链接地址、链接标题、链接引用及
<a href="#%E5%9B%B4%E6%A0%8F%E5%BC%8F%E4%BB%A3%E7%A0%81%E5%9D%97">围栏式代码块</a>的<a href="#info-string">信息字符串</a>。</p>
<div class="example" id="example-236" data-section="用反斜杠转义">
<div class="examplenum"><a href="#example-236">Example 236</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo](/bar\*<span class="space"> </span>&quot;ti\*tle&quot;)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/bar*&quot;<span class="space"> </span>title=&quot;ti*tle&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-237" data-section="用反斜杠转义">
<div class="examplenum"><a href="#example-237">Example 237</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo]

[foo]:<span class="space"> </span>/bar\*<span class="space"> </span>&quot;ti\*tle&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/bar*&quot;<span class="space"> </span>title=&quot;ti*tle&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-238" data-section="用反斜杠转义">
<div class="examplenum"><a href="#example-238">Example 238</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">```<span class="space"> </span>foo\+bar
foo
```
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code<span class="space"> </span>class=&quot;language-foo+bar&quot;&gt;foo
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<h2 id="实体">6.2 实体</h2>
<p>为了尽可能与 HTML 一样标准，所有的有效的 HTML 实体，在代码块与内联代码内
的除外，原样识别，并在保存到 AST 之前转换为 Unicode 字符。
这意味着渲染器在处理非 HTML 时不需要知道 HTML 实体。
HTML 渲染器或者将 Unicode 字符转为实体，或者保持不变。
不过 <code>&quot;</code>, <code>&amp;</code>, <code>&lt;</code> 与 <code>&gt;</code> 必须渲染为实体。</p>
<p><a id="name-entities" href="#name-entities" class="definition">命名实体</a>由 <code>&amp;</code> 、任意 HTML5 有效的实体名字、<code>;</code> 组成。
实体的名字与相应的代码点
参考<a href="https://html.spec.whatwg.org/multipage/entities.json">这个文档</a></p>
<div class="example" id="example-239" data-section="实体">
<div class="examplenum"><a href="#example-239">Example 239</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&amp;nbsp;<span class="space"> </span>&amp;amp;<span class="space"> </span>&amp;copy;<span class="space"> </span>&amp;AElig;<span class="space"> </span>&amp;Dcaron;<span class="space"> </span>&amp;frac34;<span class="space"> </span>&amp;HilbertSpace;<span class="space"> </span>&amp;DifferentialD;<span class="space"> </span>&amp;ClockwiseContourIntegral;
</code></pre>
<pre><code class="language-html">&lt;p&gt; <span class="space"> </span>&amp;amp;<span class="space"> </span>©<span class="space"> </span>Æ<span class="space"> </span>Ď<span class="space"> </span>¾<span class="space"> </span>ℋ<span class="space"> </span>ⅆ<span class="space"> </span>∲&lt;/p&gt;
</code></pre>
</div>
<p><a id="decimal-entities" href="#decimal-entities" class="definition">十进制实体</a>由 <code>&amp;#</code> 、一串 1-8 个阿拉伯数字、<code>;</code> 组成。
这些实体识别后转为相应的 UTF8 代码点。无效的 Unicode 代码点将写作
“未知代码点”字符(<code>0xFFFD</code>)。</p>
<div class="example" id="example-240" data-section="实体">
<div class="examplenum"><a href="#example-240">Example 240</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&amp;#35;<span class="space"> </span>&amp;#1234;<span class="space"> </span>&amp;#992;<span class="space"> </span>&amp;#98765432;
</code></pre>
<pre><code class="language-html">&lt;p&gt;#<span class="space"> </span>Ӓ<span class="space"> </span>Ϡ<span class="space"> </span>�&lt;/p&gt;
</code></pre>
</div>
<p><a id="hexadecimal-entities" href="#hexadecimal-entities" class="definition">十六进制实体</a>由 <code>&amp;#</code> 、<code>X</code> 或 <code>x</code>、一串 1-8 个
十六进制数字、<code>;</code> 组成。它们也是识别后转为相应的 UTF8 代码点。</p>
<div class="example" id="example-241" data-section="实体">
<div class="examplenum"><a href="#example-241">Example 241</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&amp;#X22;<span class="space"> </span>&amp;#XD06;<span class="space"> </span>&amp;#xcab;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&amp;quot;<span class="space"> </span>ആ<span class="space"> </span>ಫ&lt;/p&gt;
</code></pre>
</div>
<p>下面这些不是实体：</p>
<div class="example" id="example-242" data-section="实体">
<div class="examplenum"><a href="#example-242">Example 242</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&amp;nbsp<span class="space"> </span>&amp;x;<span class="space"> </span>&amp;#;<span class="space"> </span>&amp;#x;<span class="space"> </span>&amp;ThisIsWayTooLongToBeAnEntityIsntIt;<span class="space"> </span>&amp;hi?;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&amp;amp;nbsp<span class="space"> </span>&amp;amp;x;<span class="space"> </span>&amp;amp;#;<span class="space"> </span>&amp;amp;#x;<span class="space"> </span>&amp;amp;ThisIsWayTooLongToBeAnEntityIsntIt;<span class="space"> </span>&amp;amp;hi?;&lt;/p&gt;
</code></pre>
</div>
<p>尽管 HTML5 接受一些实体末尾没有分号，比如 <code>&amp;copy</code>。这里不会识别为实体，
因为这让语法出现歧义：</p>
<div class="example" id="example-243" data-section="实体">
<div class="examplenum"><a href="#example-243">Example 243</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&amp;copy
</code></pre>
<pre><code class="language-html">&lt;p&gt;&amp;amp;copy&lt;/p&gt;
</code></pre>
</div>
<p>不在 HTML5 命名实体列表上的字符串也不会识别为实体：</p>
<div class="example" id="example-244" data-section="实体">
<div class="examplenum"><a href="#example-244">Example 244</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&amp;MadeUpEntity;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&amp;amp;MadeUpEntity;&lt;/p&gt;
</code></pre>
</div>
<p>除内联代码与代码块之外，在其它地方会识别实体，比如原生 HTML、URL、
<a href="#link-title">链接标题</a>及<a href="#%E5%9B%B4%E6%A0%8F%E5%BC%8F%E4%BB%A3%E7%A0%81%E5%9D%97">围栏式代码块</a>的<a href="#info-string">信息字符串</a>：</p>
<div class="example" id="example-245" data-section="实体">
<div class="examplenum"><a href="#example-245">Example 245</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;a<span class="space"> </span>href=&quot;&amp;ouml;&amp;ouml;.html&quot;&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;&amp;ouml;&amp;ouml;.html&quot;&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-246" data-section="实体">
<div class="examplenum"><a href="#example-246">Example 246</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo](/f&amp;ouml;&amp;ouml;<span class="space"> </span>&quot;f&amp;ouml;&amp;ouml;&quot;)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/f%C3%B6%C3%B6&quot;<span class="space"> </span>title=&quot;föö&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-247" data-section="实体">
<div class="examplenum"><a href="#example-247">Example 247</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo]

[foo]:<span class="space"> </span>/f&amp;ouml;&amp;ouml;<span class="space"> </span>&quot;f&amp;ouml;&amp;ouml;&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/f%C3%B6%C3%B6&quot;<span class="space"> </span>title=&quot;föö&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-248" data-section="实体">
<div class="examplenum"><a href="#example-248">Example 248</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">```<span class="space"> </span>f&amp;ouml;&amp;ouml;
foo
```
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code<span class="space"> </span>class=&quot;language-föö&quot;&gt;foo
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<p>在内联代码与代码块内的实体按字面文本处理：</p>
<div class="example" id="example-249" data-section="实体">
<div class="examplenum"><a href="#example-249">Example 249</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">`f&amp;ouml;&amp;ouml;`
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;code&gt;f&amp;amp;ouml;&amp;amp;ouml;&lt;/code&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-250" data-section="实体">
<div class="examplenum"><a href="#example-250">Example 250</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>f&amp;ouml;f&amp;ouml;
</code></pre>
<pre><code class="language-html">&lt;pre&gt;&lt;code&gt;f&amp;amp;ouml;f&amp;amp;ouml;
&lt;/code&gt;&lt;/pre&gt;
</code></pre>
</div>
<h2 id="内联代码">6.3 内联代码</h2>
<p><a id="backtick-string" href="#backtick-string" class="definition">反引号串</a>是一串一或多个反引号(<code>`</code>)，
前后没有反引号。</p>
<p><a id="code-span" href="#code-span" class="definition">内联代码</a>以反引号串开始，以同样长度的反引号串结束。
这两个反引号串之间的文本，删掉首尾空格及<a href="#line-ending">行结束符</a>，<a href="#whitespace">空白</a>合并为
一个空格，结果便是内联代码的内容。</p>
<p>下面是一个简单的内联代码：</p>
<div class="example" id="example-251" data-section="内联代码">
<div class="examplenum"><a href="#example-251">Example 251</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">`foo`
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;code&gt;foo&lt;/code&gt;&lt;/p&gt;
</code></pre>
</div>
<p>下面用了两个反引号，因为代码包含一个反引号。这个例子也演示了首尾空格
被删除：</p>
<div class="example" id="example-252" data-section="内联代码">
<div class="examplenum"><a href="#example-252">Example 252</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">``<span class="space"> </span>foo<span class="space"> </span>`<span class="space"> </span>bar<span class="space"> </span><span class="space"> </span>``
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;code&gt;foo<span class="space"> </span>`<span class="space"> </span>bar&lt;/code&gt;&lt;/p&gt;
</code></pre>
</div>
<p>下例演示首尾空格被删除：</p>
<div class="example" id="example-253" data-section="内联代码">
<div class="examplenum"><a href="#example-253">Example 253</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">`<span class="space"> </span>``<span class="space"> </span>`
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;code&gt;``&lt;/code&gt;&lt;/p&gt;
</code></pre>
</div>
<p><a href="#line-ending">行结束符</a>如同空格一样处理：</p>
<div class="example" id="example-254" data-section="内联代码">
<div class="examplenum"><a href="#example-254">Example 254</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">``
foo
``
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;code&gt;foo&lt;/code&gt;&lt;/p&gt;
</code></pre>
</div>
<p>跟浏览器一样，内部的空格及<a href="#line-ending">行结束符</a>合并为单个空格：</p>
<div class="example" id="example-255" data-section="内联代码">
<div class="examplenum"><a href="#example-255">Example 255</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">`foo<span class="space"> </span><span class="space"> </span><span class="space"> </span>bar
<span class="space"> </span><span class="space"> </span>baz`
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;code&gt;foo<span class="space"> </span>bar<span class="space"> </span>baz&lt;/code&gt;&lt;/p&gt;
</code></pre>
</div>
<p>问：为什么不保留空格，既然浏览器会合并它们?
答：因为我们可能会转换到非 HTML 格式，不能依赖 HTML 渲染。</p>
<p>对于内部的空格及<a href="#line-ending">行结束符</a>，已有的实现的处理不同。一些，包括 <code>Markdown.pl</code>
与<code>showdown</code>，将<a href="#line-ending">行结束符</a>转为 <code>&lt;br /&gt;</code> 标签。但是对于想硬换行段落的人
来说就很困难，因为内联代码内的换行将导致在输出时出现一个不必要的换行。
其它将内部空格保持不变，如果只转换到 HTML 这没问题。</p>
<div class="example" id="example-256" data-section="内联代码">
<div class="examplenum"><a href="#example-256">Example 256</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">`foo<span class="space"> </span>``<span class="space"> </span>bar`
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;code&gt;foo<span class="space"> </span>``<span class="space"> </span>bar&lt;/code&gt;&lt;/p&gt;
</code></pre>
</div>
<p>注意在内联代码内不能用反斜杠转义，所有的反斜杠按字面处理：</p>
<div class="example" id="example-257" data-section="内联代码">
<div class="examplenum"><a href="#example-257">Example 257</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">`foo\`bar`
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;code&gt;foo\&lt;/code&gt;bar`&lt;/p&gt;
</code></pre>
</div>
<p>没必要用反斜杠转义，因为可以选择一串 n 个反引号作为定界符，只要代码
不包含这 n 个反引号。</p>
<p>内联代码的反引号比其它内联结构优先级高，除了 HTML 标签与自动链接。
例如下面不会解析为强调，因为第二个 <code>*</code> 是内联代码的一部分：</p>
<div class="example" id="example-258" data-section="内联代码">
<div class="examplenum"><a href="#example-258">Example 258</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo`*`
</code></pre>
<pre><code class="language-html">&lt;p&gt;*foo&lt;code&gt;*&lt;/code&gt;&lt;/p&gt;
</code></pre>
</div>
<p>下面不会解析为链接：</p>
<div class="example" id="example-259" data-section="内联代码">
<div class="examplenum"><a href="#example-259">Example 259</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[not<span class="space"> </span>a<span class="space"> </span>`link](/foo`)
</code></pre>
<pre><code class="language-html">&lt;p&gt;[not<span class="space"> </span>a<span class="space"> </span>&lt;code&gt;link](/foo&lt;/code&gt;)&lt;/p&gt;
</code></pre>
</div>
<p>内联代码、HTML 标签及自动链接有同样的优先级，因此下面是内联代码：</p>
<div class="example" id="example-260" data-section="内联代码">
<div class="examplenum"><a href="#example-260">Example 260</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">`&lt;a<span class="space"> </span>href=&quot;`&quot;&gt;`
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;code&gt;&amp;lt;a<span class="space"> </span>href=&amp;quot;&lt;/code&gt;&amp;quot;&amp;gt;`&lt;/p&gt;
</code></pre>
</div>
<p>但是下面是 HTML 标签：</p>
<div class="example" id="example-261" data-section="内联代码">
<div class="examplenum"><a href="#example-261">Example 261</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;a<span class="space"> </span>href=&quot;`&quot;&gt;`
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;`&quot;&gt;`&lt;/p&gt;
</code></pre>
</div>
<p>下面是内联代码：</p>
<div class="example" id="example-262" data-section="内联代码">
<div class="examplenum"><a href="#example-262">Example 262</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">`&lt;http://foo.bar.`baz&gt;`
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;code&gt;&amp;lt;http://foo.bar.&lt;/code&gt;baz&amp;gt;`&lt;/p&gt;
</code></pre>
</div>
<p>下面是自动链接：</p>
<div class="example" id="example-263" data-section="内联代码">
<div class="examplenum"><a href="#example-263">Example 263</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;http://foo.bar.`baz&gt;`
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;http://foo.bar.%60baz&quot;&gt;http://foo.bar.`baz&lt;/a&gt;`&lt;/p&gt;
</code></pre>
</div>
<p>当反引号串没有以匹配的反引号串关闭，则只有字面上的反引号串：</p>
<div class="example" id="example-264" data-section="内联代码">
<div class="examplenum"><a href="#example-264">Example 264</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">```foo``
</code></pre>
<pre><code class="language-html">&lt;p&gt;```foo``&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-265" data-section="内联代码">
<div class="examplenum"><a href="#example-265">Example 265</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">`foo
</code></pre>
<pre><code class="language-html">&lt;p&gt;`foo&lt;/p&gt;
</code></pre>
</div>
<h2 id="强调与着重强调">6.4 强调与着重强调</h2>
<p>John Gruber 的
<a href="http://daringfireball.net/projects/markdown/syntax#em">Markdown 语法说明</a>
说到:</p>
<blockquote>
<p>Markdown 将 (<code>*</code>) 与下划线 (<code>_</code>) 作为强调的指示符。被单个 <code>*</code> 或 <code>_</code>
包裹的文本将被 HTML <code>&lt;em&gt;</code> 标签包裹。被两个包裹的将被 <code>&lt;strong&gt;</code> 标签
包裹。</p>
</blockquote>
<p>对于大多数人这足够了，但是这些规则有许多未定情况，特别是嵌套强调。
<code>Markdown.pl</code> 测试套件明确了，<code>***</code> 与 <code>___</code> 可用于着重强调，大多数实现
也支持下面情况：</p>
<pre><code class="language-markdown">***strong emph***
***strong** in emph*
***emph* in strong**
**in strong *emph***
*in emph **strong***
</code></pre>
<p>支持下面情况的少些，不过明确且有用，特别是对参考文献条目：</p>
<pre><code class="language-markdown">*emph *with emph* in it*
**strong **with strong** in it**
</code></pre>
<p>许多实现也限制单词内强调只能用 <code>*</code>，以避免单词包含下划线时产生不必要的
强调。最佳实践是将它们放到内联代码中，不过用户通常不这么做。</p>
<pre><code class="language-markdown">internal emphasis: foo*bar*baz
no emphasis: foo_bar_baz
</code></pre>
<p>下面规则囊括了所有这些情况，同时解析时不必回溯，效率高。</p>
<p>首先，一些定义。</p>
<p><a id="delimiter-run" href="#delimiter-run" class="definition">定界符</a>是一串 <code>*</code> ，前后没有 <code>*</code>；
或是一串 <code>_</code>，前后没有 <code>_</code>。</p>
<p><a id="left-flanking-delimiter-run" href="#left-flanking-delimiter-run" class="definition">左侧定界符</a>，定界符之后没有<a href="#unicode-whitespace">unicode 空白</a>、
<a href="#punctuation-character">标点符号</a>，或者之前没有<a href="#unicode-whitespace">unicode 空白</a>、<a href="#punctuation-character">标点符号</a>、行的开始部分。</p>
<p><a id="right-flanking-delimiter-run" href="#right-flanking-delimiter-run" class="definition">右侧定界符</a>，定界符之前没有<a href="#unicode-whitespace">unicode 空白</a>、
<a href="#punctuation-character">标点符号</a>，或者之后没有<a href="#unicode-whitespace">unicode 空白</a>、<a href="#punctuation-character">标点符号</a>、行的结束部分。</p>
<p>定界符一些例子。</p>
<ul>
<li>
<p>位于左边而不是右边：</p>
<pre><code>***abc
  _abc
**&quot;abc&quot;
 _&quot;abc&quot;
</code></pre>
</li>
<li>
<p>位于右侧而不是左侧：</p>
<pre><code>abc***
  abc_
&quot;abc&quot;**
 _&quot;abc&quot;
</code></pre>
</li>
<li>
<p>左右两侧都有：</p>
<pre><code>abc***def
&quot;abc&quot;_&quot;def&quot;
</code></pre>
</li>
<li>
<p>左右两侧都没有：</p>
<pre><code>abc *** def
a _ b
</code></pre>
</li>
</ul>
<p>由字符的前后内容来区分左右定界符，这种思路源于 Roopesh Chander 的
<a href="http://www.vfmd.org/vfmd-spec/specification/#procedure-for-identifying-emphasis-tags">vfmd</a>。
vfmd 使用的术语是 “emphasis indicator string” 而不是 “delimiter
run”，并且它用的判定方法比本规范的复杂。</p>
<p>下面规则定义强调与着重强调：</p>
<ol>
<li>
<p>单个 <code>*</code> <a id="can-open-emphasis" href="#can-open-emphasis" class="definition">能开始强调</a>，如果它是
<a href="#left-flanking-delimiter-run">左侧定界符</a>的部分。</p>
</li>
<li>
<p>单个 <code>_</code> <a href="#can-open-emphasis">能开始强调</a>，如果它是<a href="#left-flanking-delimiter-run">左侧定界符</a>而不是<a href="#right-flanking-delimiter-run">右侧定界符</a>的部分。</p>
</li>
<li>
<p>单个 <code>*</code> <a id="can-close-emphasis" href="#can-close-emphasis" class="definition">能结束强调</a>，如果它是<a href="#right-flanking-delimiter-run">右侧定界符</a>的部分。</p>
</li>
<li>
<p>单个 <code>_</code> <a href="#can-close-emphasis">能结束强调</a>，如果它是<a href="#right-flanking-delimiter-run">右侧定界符</a>而不是<a href="#left-flanking-delimiter-run">左侧定界符</a>的部分。</p>
</li>
<li>
<p>两个 <code>**</code> <a id="can-open-strong-emphasis" href="#can-open-strong-emphasis" class="definition">能开始着重强调</a>，如果它是
<a href="#left-flanking-delimiter-run">左侧定界符</a>的部分。</p>
</li>
<li>
<p>两个 <code>__</code> <a href="#can-open-strong-emphasis">能开始着重强调</a>，如果它是<a href="#left-flanking-delimiter-run">左侧定界符</a>而不是<a href="#right-flanking-delimiter-run">右侧定界符</a>的部分。</p>
</li>
<li>
<p>两个 <code>*</code> <a id="can-close-strong-emphasis" href="#can-close-strong-emphasis" class="definition">能结束着重强调</a>，如果它是
<a href="#right-flanking-delimiter-run">右侧定界符</a>的部分。</p>
</li>
<li>
<p>两个 <code>__</code> <a href="#can-close-strong-emphasis">能结束着重强调</a>，如果它是<a href="#right-flanking-delimiter-run">右侧定界符</a>而不是<a href="#left-flanking-delimiter-run">左侧定界符</a>的部分。</p>
</li>
<li>
<p>强调以<a href="#can-open-emphasis">能开始强调</a>的定界符开始，<a href="#can-close-emphasis">能结束强调</a>的定界符结束，
定界符字符一样(<code>_</code> 或 <code>*</code>)。开始与结束定界符之间必须是非空内联元素。</p>
</li>
<li>
<p>着重强调以<a href="#can-open-strong-emphasis">能开始着重强调</a>的定界符开始，<a href="#can-close-strong-emphasis">能结束着重强调</a>的定界符结束，
定界符字符一样(<code>_</code> 或 <code>*</code>)。开始与结束定界符之间必须是非空内联元素。</p>
</li>
<li>
<p><code>*</code> 不能出现在 <code>*</code> 强调或 <code>**</code> 着重强调的前后，除非用反斜杠转义。</p>
</li>
<li>
<p><code>_</code> 不能出现在 <code>_</code> 强调或 <code>__</code> 着重强调的前后，除非用反斜杠转义。</p>
</li>
</ol>
<p>上面 12 条规则兼容于多种解析器，而下面规则解决含糊情况：</p>
<ol start="13">
<li>
<p>嵌套层数应当最小。例如，解析为 <code>&lt;strong&gt;...&lt;/strong&gt;</code> 要优于
<code>&lt;em&gt;&lt;em&gt;...&lt;/em&gt;&lt;/em&gt;</code>。</p>
</li>
<li>
<p>解析为 <code>&lt;strong&gt;&lt;em&gt;...&lt;/em&gt;&lt;/strong&gt;</code> 要优于
<code>&lt;em&gt;&lt;strong&gt;..&lt;/strong&gt;&lt;/em&gt;</code>。</p>
</li>
<li>
<p>当两个潜在的强调或着重强调重叠，以至于第二个开始在第一个的结尾之前
而结束在第一个的结尾之后，则第一个优先。
例如 <code>*foo _bar* baz_</code> 解析为 <code>&lt;em&gt;foo _bar&lt;/em&gt; baz_</code>，而不是
<code>*foo &lt;em&gt;bar* baz&lt;/em&gt;</code>。同理，<code>**foo*bar**</code> 解析为
<code>&lt;em&gt;&lt;em&gt;foo&lt;/em&gt;bar&lt;/em&gt;*</code>，而不是 <code>&lt;strong&gt;foo*bar&lt;/strong&gt;</code>。</p>
</li>
<li>
<p>当两个潜在的强调或着重强调有同一结束定界符，后开始的优先。
例如 <code>**foo **bar baz**</code> 解析为 <code>**foo &lt;strong&gt;bar baz&lt;/strong&gt;</code>，
而不是 <code>&lt;strong&gt;foo **bar baz&lt;/strong&gt;</code>。</p>
</li>
<li>
<p>内联代码、链接、图片及 HTML 标签比强调组合性强。因此，当在包括或
不包括这些元素之间选择时，选择包括。
例如 <code>*[foo*](bar)</code> 解析为 <code>*&lt;a href=&quot;bar&quot;&gt;foo*&lt;/a&gt;</code>， 而不是
<code>&lt;em&gt;[foo&lt;/em&gt;](bar)</code>。</p>
</li>
</ol>
<p>通过一些例子来解释这些规则。</p>
<p>规则 1：</p>
<div class="example" id="example-266" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-266">Example 266</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo<span class="space"> </span>bar*
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo<span class="space"> </span>bar&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<p>下面不是强调，因为开始的 <code>*</code> 后面是空格，因而不是<a href="#left-flanking-delimiter-run">左侧定界符</a>的一部分：</p>
<div class="example" id="example-267" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-267">Example 267</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">a<span class="space"> </span>*<span class="space"> </span>foo<span class="space"> </span>bar*
</code></pre>
<pre><code class="language-html">&lt;p&gt;a<span class="space"> </span>*<span class="space"> </span>foo<span class="space"> </span>bar*&lt;/p&gt;
</code></pre>
</div>
<p>下面不是强调，因为开始的 <code>*</code> 前面是数字字母，后面是标点符号，
因而不是<a href="#left-flanking-delimiter-run">左侧定界符</a>的一部分：</p>
<div class="example" id="example-268" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-268">Example 268</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">a*&quot;foo&quot;*
</code></pre>
<pre><code class="language-html">&lt;p&gt;a*&amp;quot;foo&amp;quot;*&lt;/p&gt;
</code></pre>
</div>
<p>Unicode 非断字空白也视为空格：</p>
<div class="example" id="example-269" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-269">Example 269</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">* a *
</code></pre>
<pre><code class="language-html">&lt;p&gt;* a *&lt;/p&gt;
</code></pre>
</div>
<p><code>*</code> 强调可用于单词内：</p>
<div class="example" id="example-270" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-270">Example 270</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo*bar*
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo&lt;em&gt;bar&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-271" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-271">Example 271</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">5*6*78
</code></pre>
<pre><code class="language-html">&lt;p&gt;5&lt;em&gt;6&lt;/em&gt;78&lt;/p&gt;
</code></pre>
</div>
<p>规则 2：</p>
<div class="example" id="example-272" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-272">Example 272</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_foo<span class="space"> </span>bar_
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo<span class="space"> </span>bar&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<p>下面不是强调，因为开始的 <code>_</code> 后面是空格：</p>
<div class="example" id="example-273" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-273">Example 273</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_<span class="space"> </span>foo<span class="space"> </span>bar_
</code></pre>
<pre><code class="language-html">&lt;p&gt;_<span class="space"> </span>foo<span class="space"> </span>bar_&lt;/p&gt;
</code></pre>
</div>
<p>下面不是强调，因为开始的 <code>_</code> 前面是数字字母，后面是标点符号：</p>
<div class="example" id="example-274" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-274">Example 274</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">a_&quot;foo&quot;_
</code></pre>
<pre><code class="language-html">&lt;p&gt;a_&amp;quot;foo&amp;quot;_&lt;/p&gt;
</code></pre>
</div>
<p><code>_</code> 强调不能用在单词内：</p>
<div class="example" id="example-275" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-275">Example 275</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo_bar_
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo_bar_&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-276" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-276">Example 276</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">5_6_78
</code></pre>
<pre><code class="language-html">&lt;p&gt;5_6_78&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-277" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-277">Example 277</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">пристаням_стремятся_
</code></pre>
<pre><code class="language-html">&lt;p&gt;пристаням_стремятся_&lt;/p&gt;
</code></pre>
</div>
<p>下面 <code>_</code> 不生成强调，因为第一个定界符是右侧的，第二个是左侧的：</p>
<div class="example" id="example-278" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-278">Example 278</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">aa_&quot;bb&quot;_cc
</code></pre>
<pre><code class="language-html">&lt;p&gt;aa_&amp;quot;bb&amp;quot;_cc&lt;/p&gt;
</code></pre>
</div>
<p>下面没有强调，因为定界符是左侧的也是右侧的：</p>
<div class="example" id="example-279" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-279">Example 279</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&quot;aa&quot;_&quot;bb&quot;_&quot;cc&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&amp;quot;aa&amp;quot;_&amp;quot;bb&amp;quot;_&amp;quot;cc&amp;quot;&lt;/p&gt;
</code></pre>
</div>
<p>规则 3：</p>
<p>下面不是强调，因为结束定界符不匹配开始定界符：</p>
<div class="example" id="example-280" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-280">Example 280</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_foo*
</code></pre>
<pre><code class="language-html">&lt;p&gt;_foo*&lt;/p&gt;
</code></pre>
</div>
<p>下面不是强调，因为结束 <code>*</code> 前面是空格：</p>
<div class="example" id="example-281" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-281">Example 281</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo<span class="space"> </span>bar<span class="space"> </span>*
</code></pre>
<pre><code class="language-html">&lt;p&gt;*foo<span class="space"> </span>bar<span class="space"> </span>*&lt;/p&gt;
</code></pre>
</div>
<p>新行也视作空格：</p>
<div class="example" id="example-282" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-282">Example 282</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo<span class="space"> </span>bar
*
</code></pre>
<pre><code class="language-html">&lt;p&gt;*foo<span class="space"> </span>bar&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
</div>
<p>下面不是强调，因为第二个 <code>*</code> 前面是标点符号，后面是数字字母，因而
不是<a href="#right-flanking-delimiter-run">右侧定界符</a>的一部分：</p>
<div class="example" id="example-283" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-283">Example 283</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*(*foo)
</code></pre>
<pre><code class="language-html">&lt;p&gt;*(*foo)&lt;/p&gt;
</code></pre>
</div>
<p>这个问题可这么解决：</p>
<div class="example" id="example-284" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-284">Example 284</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*(*foo*)*
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;(&lt;em&gt;foo&lt;/em&gt;)&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<p><code>*</code> 强调可用在单词内：</p>
<div class="example" id="example-285" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-285">Example 285</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo*bar
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo&lt;/em&gt;bar&lt;/p&gt;
</code></pre>
</div>
<p>规则 4：</p>
<p>下面不是强调，因为结束定界符前是空格：</p>
<div class="example" id="example-286" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-286">Example 286</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_foo<span class="space"> </span>bar<span class="space"> </span>_
</code></pre>
<pre><code class="language-html">&lt;p&gt;_foo<span class="space"> </span>bar<span class="space"> </span>_&lt;/p&gt;
</code></pre>
</div>
<p>下面不是强调，因为第二个 <code>_</code> 前面是标点符号，后面是数字字母：</p>
<div class="example" id="example-287" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-287">Example 287</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_(_foo)
</code></pre>
<pre><code class="language-html">&lt;p&gt;_(_foo)&lt;/p&gt;
</code></pre>
</div>
<p>下面是嵌套强调：</p>
<div class="example" id="example-288" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-288">Example 288</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_(_foo_)_
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;(&lt;em&gt;foo&lt;/em&gt;)&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<p><code>_</code> 强调不能用在单词内：</p>
<div class="example" id="example-289" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-289">Example 289</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_foo_bar
</code></pre>
<pre><code class="language-html">&lt;p&gt;_foo_bar&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-290" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-290">Example 290</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_пристаням_стремятся
</code></pre>
<pre><code class="language-html">&lt;p&gt;_пристаням_стремятся&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-291" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-291">Example 291</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_foo_bar_baz_
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo_bar_baz&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<p>规则 5：</p>
<div class="example" id="example-292" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-292">Example 292</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**foo<span class="space"> </span>bar**
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;foo<span class="space"> </span>bar&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<p>下面不是着重强调，因为开始定界符后面是空格：</p>
<div class="example" id="example-293" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-293">Example 293</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**<span class="space"> </span>foo<span class="space"> </span>bar**
</code></pre>
<pre><code class="language-html">&lt;p&gt;**<span class="space"> </span>foo<span class="space"> </span>bar**&lt;/p&gt;
</code></pre>
</div>
<p>下面不是着重强调，因为开始的 <code>**</code> 前面是数字字母，后面是标点符号，因而不是
<a href="#left-flanking-delimiter-run">左侧定界符</a>的一部分：</p>
<div class="example" id="example-294" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-294">Example 294</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">a**&quot;foo&quot;**
</code></pre>
<pre><code class="language-html">&lt;p&gt;a**&amp;quot;foo&amp;quot;**&lt;/p&gt;
</code></pre>
</div>
<p><code>**</code> 着重强调可用在单词内：</p>
<div class="example" id="example-295" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-295">Example 295</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo**bar**
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo&lt;strong&gt;bar&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<p>规则 6：</p>
<div class="example" id="example-296" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-296">Example 296</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">__foo<span class="space"> </span>bar__
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;foo<span class="space"> </span>bar&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<p>下面不是着重强调，因为开始定界符后面是空格：</p>
<div class="example" id="example-297" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-297">Example 297</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">__<span class="space"> </span>foo<span class="space"> </span>bar__
</code></pre>
<pre><code class="language-html">&lt;p&gt;__<span class="space"> </span>foo<span class="space"> </span>bar__&lt;/p&gt;
</code></pre>
</div>
<p>新行视作空格：</p>
<div class="example" id="example-298" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-298">Example 298</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">__
foo<span class="space"> </span>bar__
</code></pre>
<pre><code class="language-html">&lt;p&gt;__
foo<span class="space"> </span>bar__&lt;/p&gt;
</code></pre>
</div>
<p>下面不是着重强调，因为开始的 <code>__</code> 前面是数字字母，后面是标点符号：</p>
<div class="example" id="example-299" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-299">Example 299</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">a__&quot;foo&quot;__
</code></pre>
<pre><code class="language-html">&lt;p&gt;a__&amp;quot;foo&amp;quot;__&lt;/p&gt;
</code></pre>
</div>
<p><code>__</code> 着重强调不能用在单词内：</p>
<div class="example" id="example-300" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-300">Example 300</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo__bar__
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo__bar__&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-301" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-301">Example 301</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">5__6__78
</code></pre>
<pre><code class="language-html">&lt;p&gt;5__6__78&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-302" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-302">Example 302</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">пристаням__стремятся__
</code></pre>
<pre><code class="language-html">&lt;p&gt;пристаням__стремятся__&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-303" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-303">Example 303</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">__foo,<span class="space"> </span>__bar__,<span class="space"> </span>baz__
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;foo,<span class="space"> </span>&lt;strong&gt;bar&lt;/strong&gt;,<span class="space"> </span>baz&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<p>规则 7：</p>
<p>下面不是着重强调，因为结束定界符前面是空格：</p>
<div class="example" id="example-304" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-304">Example 304</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**foo<span class="space"> </span>bar<span class="space"> </span>**
</code></pre>
<pre><code class="language-html">&lt;p&gt;**foo<span class="space"> </span>bar<span class="space"> </span>**&lt;/p&gt;
</code></pre>
</div>
<p>按规则 11 也不能解析为强调的 <code>*foo bar *</code>。</p>
<p>下面不是着重强调，因为第二个 <code>**</code> 前面是标点符号，后面是数字字母：</p>
<div class="example" id="example-305" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-305">Example 305</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**(**foo)
</code></pre>
<pre><code class="language-html">&lt;p&gt;**(**foo)&lt;/p&gt;
</code></pre>
</div>
<p>这个问题可以这么解决：</p>
<div class="example" id="example-306" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-306">Example 306</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*(**foo**)*
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;(&lt;strong&gt;foo&lt;/strong&gt;)&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-307" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-307">Example 307</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**Gomphocarpus<span class="space"> </span>(*Gomphocarpus<span class="space"> </span>physocarpus*,<span class="space"> </span>syn.
*Asclepias<span class="space"> </span>physocarpa*)**
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;Gomphocarpus<span class="space"> </span>(&lt;em&gt;Gomphocarpus<span class="space"> </span>physocarpus&lt;/em&gt;,<span class="space"> </span>syn.
&lt;em&gt;Asclepias<span class="space"> </span>physocarpa&lt;/em&gt;)&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-308" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-308">Example 308</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**foo<span class="space"> </span>&quot;*bar*&quot;<span class="space"> </span>foo**
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;foo<span class="space"> </span>&amp;quot;&lt;em&gt;bar&lt;/em&gt;&amp;quot;<span class="space"> </span>foo&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<p><code>**</code> 着重强调可用在单词内：</p>
<div class="example" id="example-309" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-309">Example 309</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**foo**bar
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;foo&lt;/strong&gt;bar&lt;/p&gt;
</code></pre>
</div>
<p>规则 8：</p>
<p>下面不是着重强调，因为结束定界符前面是空格：</p>
<div class="example" id="example-310" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-310">Example 310</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">__foo<span class="space"> </span>bar<span class="space"> </span>__
</code></pre>
<pre><code class="language-html">&lt;p&gt;__foo<span class="space"> </span>bar<span class="space"> </span>__&lt;/p&gt;
</code></pre>
</div>
<p>下面不是着重强调，因为第二个 <code>__</code> 前面是标点符号，后面是数字字母：</p>
<div class="example" id="example-311" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-311">Example 311</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">__(__foo)
</code></pre>
<pre><code class="language-html">&lt;p&gt;__(__foo)&lt;/p&gt;
</code></pre>
</div>
<p>这个问题可以这么解决：</p>
<div class="example" id="example-312" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-312">Example 312</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_(__foo__)_
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;(&lt;strong&gt;foo&lt;/strong&gt;)&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<p><code>__</code> 着重强调不能用在单词内：</p>
<div class="example" id="example-313" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-313">Example 313</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">__foo__bar
</code></pre>
<pre><code class="language-html">&lt;p&gt;__foo__bar&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-314" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-314">Example 314</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">__пристаням__стремятся
</code></pre>
<pre><code class="language-html">&lt;p&gt;__пристаням__стремятся&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-315" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-315">Example 315</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">__foo__bar__baz__
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;foo__bar__baz&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<p>规则 9：</p>
<p>任意非空内联元素可以是强调元素的内容。</p>
<div class="example" id="example-316" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-316">Example 316</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo<span class="space"> </span>[bar](/url)*
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo<span class="space"> </span>&lt;a<span class="space"> </span>href=&quot;/url&quot;&gt;bar&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-317" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-317">Example 317</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo
bar*
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo
bar&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<p>特别的，强调与着重强调可嵌套到强调中：</p>
<div class="example" id="example-318" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-318">Example 318</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_foo<span class="space"> </span>__bar__<span class="space"> </span>baz_
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo<span class="space"> </span>&lt;strong&gt;bar&lt;/strong&gt;<span class="space"> </span>baz&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-319" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-319">Example 319</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_foo<span class="space"> </span>_bar_<span class="space"> </span>baz_
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo<span class="space"> </span>&lt;em&gt;bar&lt;/em&gt;<span class="space"> </span>baz&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-320" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-320">Example 320</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">__foo_<span class="space"> </span>bar_
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;&lt;em&gt;foo&lt;/em&gt;<span class="space"> </span>bar&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-321" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-321">Example 321</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo<span class="space"> </span>*bar**
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo<span class="space"> </span>&lt;em&gt;bar&lt;/em&gt;&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-322" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-322">Example 322</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo<span class="space"> </span>**bar**<span class="space"> </span>baz*
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo<span class="space"> </span>&lt;strong&gt;bar&lt;/strong&gt;<span class="space"> </span>baz&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<p>但是注意：</p>
<div class="example" id="example-323" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-323">Example 323</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo**bar**baz*
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo&lt;/em&gt;&lt;em&gt;bar&lt;/em&gt;&lt;em&gt;baz&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<p>上例中内部的分界符<a href="#can-close-emphasis">能结束强调</a>，而下例有空格的则不能：</p>
<div class="example" id="example-324" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-324">Example 324</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">***foo**<span class="space"> </span>bar*
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;&lt;strong&gt;foo&lt;/strong&gt;<span class="space"> </span>bar&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-325" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-325">Example 325</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo<span class="space"> </span>**bar***
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo<span class="space"> </span>&lt;strong&gt;bar&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<p>注意下例没有着重强调，因为开始的定界符被 <code>bar</code> 前面第一个 <code>*</code> 结束：</p>
<div class="example" id="example-326" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-326">Example 326</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo**bar***
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo&lt;/em&gt;&lt;em&gt;bar&lt;/em&gt;**&lt;/p&gt;
</code></pre>
</div>
<p>嵌套层数不限：</p>
<div class="example" id="example-327" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-327">Example 327</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo<span class="space"> </span>**bar<span class="space"> </span>*baz*<span class="space"> </span>bim**<span class="space"> </span>bop*
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo<span class="space"> </span>&lt;strong&gt;bar<span class="space"> </span>&lt;em&gt;baz&lt;/em&gt;<span class="space"> </span>bim&lt;/strong&gt;<span class="space"> </span>bop&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-328" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-328">Example 328</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo<span class="space"> </span>[*bar*](/url)*
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo<span class="space"> </span>&lt;a<span class="space"> </span>href=&quot;/url&quot;&gt;&lt;em&gt;bar&lt;/em&gt;&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<p>不能有空的强调：</p>
<div class="example" id="example-329" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-329">Example 329</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**<span class="space"> </span>is<span class="space"> </span>not<span class="space"> </span>an<span class="space"> </span>empty<span class="space"> </span>emphasis
</code></pre>
<pre><code class="language-html">&lt;p&gt;**<span class="space"> </span>is<span class="space"> </span>not<span class="space"> </span>an<span class="space"> </span>empty<span class="space"> </span>emphasis&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-330" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-330">Example 330</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">****<span class="space"> </span>is<span class="space"> </span>not<span class="space"> </span>an<span class="space"> </span>empty<span class="space"> </span>strong<span class="space"> </span>emphasis
</code></pre>
<pre><code class="language-html">&lt;p&gt;****<span class="space"> </span>is<span class="space"> </span>not<span class="space"> </span>an<span class="space"> </span>empty<span class="space"> </span>strong<span class="space"> </span>emphasis&lt;/p&gt;
</code></pre>
</div>
<p>规则 10：</p>
<p>任意非空内联元素可以是着重强调元素的内容。</p>
<div class="example" id="example-331" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-331">Example 331</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**foo<span class="space"> </span>[bar](/url)**
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;foo<span class="space"> </span>&lt;a<span class="space"> </span>href=&quot;/url&quot;&gt;bar&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-332" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-332">Example 332</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**foo
bar**
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;foo
bar&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<p>特别的，强调与着重强调可嵌套到着重强调中：</p>
<div class="example" id="example-333" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-333">Example 333</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">__foo<span class="space"> </span>_bar_<span class="space"> </span>baz__
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;foo<span class="space"> </span>&lt;em&gt;bar&lt;/em&gt;<span class="space"> </span>baz&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-334" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-334">Example 334</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">__foo<span class="space"> </span>__bar__<span class="space"> </span>baz__
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;foo<span class="space"> </span>&lt;strong&gt;bar&lt;/strong&gt;<span class="space"> </span>baz&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-335" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-335">Example 335</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">____foo__<span class="space"> </span>bar__
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;&lt;strong&gt;foo&lt;/strong&gt;<span class="space"> </span>bar&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-336" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-336">Example 336</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**foo<span class="space"> </span>**bar****
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;foo<span class="space"> </span>&lt;strong&gt;bar&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-337" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-337">Example 337</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**foo<span class="space"> </span>*bar*<span class="space"> </span>baz**
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;foo<span class="space"> </span>&lt;em&gt;bar&lt;/em&gt;<span class="space"> </span>baz&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<p>但是注意：</p>
<div class="example" id="example-338" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-338">Example 338</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**foo*bar*baz**
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;&lt;em&gt;foo&lt;/em&gt;bar&lt;/em&gt;baz**&lt;/p&gt;
</code></pre>
</div>
<p>上例中内部的分界符<a href="#can-close-emphasis">能结束强调</a>，而下例有空格的则不能：</p>
<div class="example" id="example-339" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-339">Example 339</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">***foo*<span class="space"> </span>bar**
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;&lt;em&gt;foo&lt;/em&gt;<span class="space"> </span>bar&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-340" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-340">Example 340</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**foo<span class="space"> </span>*bar***
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;foo<span class="space"> </span>&lt;em&gt;bar&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<p>嵌套层数不限：</p>
<div class="example" id="example-341" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-341">Example 341</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**foo<span class="space"> </span>*bar<span class="space"> </span>**baz**
bim*<span class="space"> </span>bop**
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;foo<span class="space"> </span>&lt;em&gt;bar<span class="space"> </span>&lt;strong&gt;baz&lt;/strong&gt;
bim&lt;/em&gt;<span class="space"> </span>bop&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-342" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-342">Example 342</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**foo<span class="space"> </span>[*bar*](/url)**
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;foo<span class="space"> </span>&lt;a<span class="space"> </span>href=&quot;/url&quot;&gt;&lt;em&gt;bar&lt;/em&gt;&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<p>不能有空的强调：</p>
<div class="example" id="example-343" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-343">Example 343</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">__<span class="space"> </span>is<span class="space"> </span>not<span class="space"> </span>an<span class="space"> </span>empty<span class="space"> </span>emphasis
</code></pre>
<pre><code class="language-html">&lt;p&gt;__<span class="space"> </span>is<span class="space"> </span>not<span class="space"> </span>an<span class="space"> </span>empty<span class="space"> </span>emphasis&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-344" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-344">Example 344</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">____<span class="space"> </span>is<span class="space"> </span>not<span class="space"> </span>an<span class="space"> </span>empty<span class="space"> </span>strong<span class="space"> </span>emphasis
</code></pre>
<pre><code class="language-html">&lt;p&gt;____<span class="space"> </span>is<span class="space"> </span>not<span class="space"> </span>an<span class="space"> </span>empty<span class="space"> </span>strong<span class="space"> </span>emphasis&lt;/p&gt;
</code></pre>
</div>
<p>规则 11：</p>
<div class="example" id="example-345" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-345">Example 345</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo<span class="space"> </span>***
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo<span class="space"> </span>***&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-346" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-346">Example 346</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo<span class="space"> </span>*\**
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo<span class="space"> </span>&lt;em&gt;*&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-347" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-347">Example 347</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo<span class="space"> </span>*_*
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo<span class="space"> </span>&lt;em&gt;_&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-348" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-348">Example 348</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo<span class="space"> </span>*****
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo<span class="space"> </span>*****&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-349" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-349">Example 349</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo<span class="space"> </span>**\***
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo<span class="space"> </span>&lt;strong&gt;*&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-350" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-350">Example 350</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo<span class="space"> </span>**_**
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo<span class="space"> </span>&lt;strong&gt;_&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<p>注意当定界符不匹配时，规则 11 规定，多出的 <code>*</code> 位于强调的外面：</p>
<div class="example" id="example-351" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-351">Example 351</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**foo*
</code></pre>
<pre><code class="language-html">&lt;p&gt;*&lt;em&gt;foo&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-352" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-352">Example 352</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo**
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo&lt;/em&gt;*&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-353" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-353">Example 353</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">***foo**
</code></pre>
<pre><code class="language-html">&lt;p&gt;*&lt;strong&gt;foo&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-354" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-354">Example 354</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">****foo*
</code></pre>
<pre><code class="language-html">&lt;p&gt;***&lt;em&gt;foo&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-355" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-355">Example 355</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**foo***
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;foo&lt;/strong&gt;*&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-356" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-356">Example 356</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo****
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo&lt;/em&gt;***&lt;/p&gt;
</code></pre>
</div>
<p>规则 12：</p>
<div class="example" id="example-357" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-357">Example 357</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo<span class="space"> </span>___
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo<span class="space"> </span>___&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-358" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-358">Example 358</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo<span class="space"> </span>_\__
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo<span class="space"> </span>&lt;em&gt;_&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-359" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-359">Example 359</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo<span class="space"> </span>_*_
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo<span class="space"> </span>&lt;em&gt;*&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-360" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-360">Example 360</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo<span class="space"> </span>_____
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo<span class="space"> </span>_____&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-361" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-361">Example 361</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo<span class="space"> </span>__\___
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo<span class="space"> </span>&lt;strong&gt;_&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-362" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-362">Example 362</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo<span class="space"> </span>__*__
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo<span class="space"> </span>&lt;strong&gt;*&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-363" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-363">Example 363</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">__foo_
</code></pre>
<pre><code class="language-html">&lt;p&gt;_&lt;em&gt;foo&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<p>注意当定界符不匹配时，规则 11 规定，多出的 <code>_</code> 位于强调的外面：</p>
<div class="example" id="example-364" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-364">Example 364</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_foo__
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo&lt;/em&gt;_&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-365" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-365">Example 365</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">___foo__
</code></pre>
<pre><code class="language-html">&lt;p&gt;_&lt;strong&gt;foo&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-366" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-366">Example 366</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">____foo_
</code></pre>
<pre><code class="language-html">&lt;p&gt;___&lt;em&gt;foo&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-367" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-367">Example 367</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">__foo___
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;foo&lt;/strong&gt;_&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-368" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-368">Example 368</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_foo____
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo&lt;/em&gt;___&lt;/p&gt;
</code></pre>
</div>
<p>规则 13 意味着如果想直接嵌套强调，需要用不同的分界符：</p>
<div class="example" id="example-369" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-369">Example 369</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**foo**
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;foo&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-370" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-370">Example 370</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*_foo_*
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;&lt;em&gt;foo&lt;/em&gt;&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-371" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-371">Example 371</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">__foo__
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;foo&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-372" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-372">Example 372</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_*foo*_
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;&lt;em&gt;foo&lt;/em&gt;&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<p>不过，着重强调可直接嵌套着重强调，不用切换定界符：</p>
<div class="example" id="example-373" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-373">Example 373</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">****foo****
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;&lt;strong&gt;foo&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-374" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-374">Example 374</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">____foo____
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;&lt;strong&gt;foo&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<p>规则 13 可应用于任意长的定界符：</p>
<div class="example" id="example-375" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-375">Example 375</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">******foo******
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;&lt;strong&gt;&lt;strong&gt;foo&lt;/strong&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<p>规则 14：</p>
<div class="example" id="example-376" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-376">Example 376</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">***foo***
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;&lt;em&gt;foo&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-377" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-377">Example 377</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_____foo_____
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;strong&gt;&lt;strong&gt;&lt;em&gt;foo&lt;/em&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<p>规则 15：</p>
<div class="example" id="example-378" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-378">Example 378</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo<span class="space"> </span>_bar*<span class="space"> </span>baz_
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo<span class="space"> </span>_bar&lt;/em&gt;<span class="space"> </span>baz_&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-379" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-379">Example 379</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**foo*bar**
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;&lt;em&gt;foo&lt;/em&gt;bar&lt;/em&gt;*&lt;/p&gt;
</code></pre>
</div>
<p>规则 16：</p>
<div class="example" id="example-380" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-380">Example 380</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**foo<span class="space"> </span>**bar<span class="space"> </span>baz**
</code></pre>
<pre><code class="language-html">&lt;p&gt;**foo<span class="space"> </span>&lt;strong&gt;bar<span class="space"> </span>baz&lt;/strong&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-381" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-381">Example 381</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo<span class="space"> </span>*bar<span class="space"> </span>baz*
</code></pre>
<pre><code class="language-html">&lt;p&gt;*foo<span class="space"> </span>&lt;em&gt;bar<span class="space"> </span>baz&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<p>规则 17：</p>
<div class="example" id="example-382" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-382">Example 382</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*[bar*](/url)
</code></pre>
<pre><code class="language-html">&lt;p&gt;*&lt;a<span class="space"> </span>href=&quot;/url&quot;&gt;bar*&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-383" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-383">Example 383</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_foo<span class="space"> </span>[bar_](/url)
</code></pre>
<pre><code class="language-html">&lt;p&gt;_foo<span class="space"> </span>&lt;a<span class="space"> </span>href=&quot;/url&quot;&gt;bar_&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-384" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-384">Example 384</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*&lt;img<span class="space"> </span>src=&quot;foo&quot;<span class="space"> </span>title=&quot;*&quot;/&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;*&lt;img<span class="space"> </span>src=&quot;foo&quot;<span class="space"> </span>title=&quot;*&quot;/&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-385" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-385">Example 385</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**&lt;a<span class="space"> </span>href=&quot;**&quot;&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;**&lt;a<span class="space"> </span>href=&quot;**&quot;&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-386" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-386">Example 386</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">__&lt;a<span class="space"> </span>href=&quot;__&quot;&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;__&lt;a<span class="space"> </span>href=&quot;__&quot;&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-387" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-387">Example 387</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*a<span class="space"> </span>`*`*
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;a<span class="space"> </span>&lt;code&gt;*&lt;/code&gt;&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-388" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-388">Example 388</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">_a<span class="space"> </span>`_`_
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;a<span class="space"> </span>&lt;code&gt;_&lt;/code&gt;&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-389" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-389">Example 389</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">**a&lt;http://foo.bar/?q=**&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;**a&lt;a<span class="space"> </span>href=&quot;http://foo.bar/?q=**&quot;&gt;http://foo.bar/?q=**&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-390" data-section="强调与着重强调">
<div class="examplenum"><a href="#example-390">Example 390</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">__a&lt;http://foo.bar/?q=__&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;__a&lt;a<span class="space"> </span>href=&quot;http://foo.bar/?q=__&quot;&gt;http://foo.bar/?q=__&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<h2 id="链接">6.5 链接</h2>
<p>链接包含<a href="#link-text">链接文本</a>、<a href="#link-destination">链接目标</a>及可选的<a href="#link-title">链接标题</a>。链接文本是链接的可见
文本，链接目标是链接的 URI。Markdown 有两种基本类型链接。<a href="#inline-link">内联链接</a>
的目标与标题跟在链接文本的后面。<a href="#reference-link">引用链接</a>的目标与标题在文档其它地方。</p>
<p><a id="link-text" href="#link-text" class="definition">链接文本</a> 是用方括号(<code>[</code> 和 <code>]</code>)` 包裹的零或多个内联元素。
有下面规则：</p>
<ul>
<li>
<p>链接不能包含其它链接。</p>
</li>
<li>
<p><a href="#link-text">链接文本</a>内可以用方括号，或者用反斜杠转义，或者成对出现。</p>
</li>
<li>
<p><a href="#%E5%86%85%E8%81%94%E4%BB%A3%E7%A0%81">内联代码</a>、<a href="#%E8%87%AA%E5%8A%A8%E9%93%BE%E6%8E%A5">自动链接</a>及<a href="#html-tag">HTML 标签</a>比链接文本的方括号组合性强。
例如 <code>[foo`]`</code> 不能是链接文本，因为第二个 <code>]</code> 是内联代码的一部分。</p>
</li>
<li>
<p>链接文本的方括号比[链接和着重强调]组合性强，例如
<code>*[foo*](url)</code> 是链接。</p>
</li>
</ul>
<p><a id="link-destination" href="#link-destination" class="definition">链接目标</a> 是</p>
<ul>
<li>
<p>用尖括号(<code>&lt;...&gt;</code>)包裹的一串字符，不包含断行符或未转义的 <code>&lt;</code>、<code>&gt;</code></p>
</li>
<li>
<p>或者一串非空字符，不包含 ASCII 空白或控制字符。若包含圆括号，或者用反斜杠
转义，或者成对出现，但不能出现在另一对未转义圆括号内。</p>
</li>
</ul>
<p><a id="link-title" href="#link-title" class="definition">链接标题</a> 是</p>
<ul>
<li>
<p>用双引号(<code>&quot;</code>)包裹的一串字符，若包含 <code>&quot;</code> 需用反斜杠转义。</p>
</li>
<li>
<p>或者用单引号(<code>&quot;</code>)包裹的一串字符，若包含 <code>'</code> 需用反斜杠转义。</p>
</li>
<li>
<p>或者用圆括号(<code>(...)</code>)包裹的一串字符，若包含 <code>)</code> 需用反斜杠转义。</p>
</li>
</ul>
<p>尽管<a href="#link-title">链接标题</a>可以多行，但不能包含空行。</p>
<p><a id="inline-link" href="#inline-link" class="definition">内联链接</a>由<a href="#link-text">链接文本</a>，紧随其后的 <code>(</code>，可选的<a href="#whitespace">空白</a>，
可选的<a href="#link-destination">链接目标</a>，可选的<a href="#link-title">链接标题</a>，可选的<a href="#whitespace">空白</a>及 <code>)</code> 组成。链接目标
与标题之间用空格隔开。链接的文本包含<a href="#link-text">链接文本</a>里面的内联元素，不包含
包裹用的方括号。链接的 URI 包含链接目标，不包含包裹用的尖括号。
链接的标题包含链接标题，不包括包裹用的定界符。</p>
<p>下面是一个简单的内联链接：</p>
<div class="example" id="example-391" data-section="链接">
<div class="examplenum"><a href="#example-391">Example 391</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link](/uri<span class="space"> </span>&quot;title&quot;)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/uri&quot;<span class="space"> </span>title=&quot;title&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>可省略标题：</p>
<div class="example" id="example-392" data-section="链接">
<div class="examplenum"><a href="#example-392">Example 392</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link](/uri)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>标题与目标均可省略：</p>
<div class="example" id="example-393" data-section="链接">
<div class="examplenum"><a href="#example-393">Example 393</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link]()
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-394" data-section="链接">
<div class="examplenum"><a href="#example-394">Example 394</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link](&lt;&gt;)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>若目标包含空格，必须包含在尖括号内：</p>
<div class="example" id="example-395" data-section="链接">
<div class="examplenum"><a href="#example-395">Example 395</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link](/my<span class="space"> </span>uri)
</code></pre>
<pre><code class="language-html">&lt;p&gt;[link](/my<span class="space"> </span>uri)&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-396" data-section="链接">
<div class="examplenum"><a href="#example-396">Example 396</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link](&lt;/my<span class="space"> </span>uri&gt;)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/my%20uri&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>目标不能包含断行符，即使用尖括号：</p>
<div class="example" id="example-397" data-section="链接">
<div class="examplenum"><a href="#example-397">Example 397</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link](foo
bar)
</code></pre>
<pre><code class="language-html">&lt;p&gt;[link](foo
bar)&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-398" data-section="链接">
<div class="examplenum"><a href="#example-398">Example 398</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link](&lt;foo
bar&gt;)
</code></pre>
<pre><code class="language-html">&lt;p&gt;[link](&lt;foo
bar&gt;)&lt;/p&gt;
</code></pre>
</div>
<p>圆括号成对可以不转义：</p>
<div class="example" id="example-399" data-section="链接">
<div class="examplenum"><a href="#example-399">Example 399</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link]((foo)and(bar))
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;(foo)and(bar)&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>但是若圆括号包含圆括号，需要转义或者使用 <code>&lt;...&gt;</code>:</p>
<div class="example" id="example-400" data-section="链接">
<div class="examplenum"><a href="#example-400">Example 400</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link](foo(and(bar)))
</code></pre>
<pre><code class="language-html">&lt;p&gt;[link](foo(and(bar)))&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-401" data-section="链接">
<div class="examplenum"><a href="#example-401">Example 401</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link](foo(and\(bar\)))
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;foo(and(bar))&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-402" data-section="链接">
<div class="examplenum"><a href="#example-402">Example 402</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link](&lt;foo(and(bar))&gt;)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;foo(and(bar))&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>圆括号与其它符号可转义：</p>
<div class="example" id="example-403" data-section="链接">
<div class="examplenum"><a href="#example-403">Example 403</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link](foo\)\:)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;foo):&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>链接目标内的 URL 转义过的字符保持不变，因为它们是有效的 URL 字符。
HTML 实体解析为 UTF-8 代码点。</p>
<div class="example" id="example-404" data-section="链接">
<div class="examplenum"><a href="#example-404">Example 404</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link](foo%20b&amp;auml;)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;foo%20b%C3%A4&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>注意标题常用作目标，若忽略目标而保留标题，将得到意外的结果：</p>
<div class="example" id="example-405" data-section="链接">
<div class="examplenum"><a href="#example-405">Example 405</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link](&quot;title&quot;)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;%22title%22&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>标题可在单引号，双引号或圆括号中：</p>
<div class="example" id="example-406" data-section="链接">
<div class="examplenum"><a href="#example-406">Example 406</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link](/url<span class="space"> </span>&quot;title&quot;)
[link](/url<span class="space"> </span>'title')
[link](/url<span class="space"> </span>(title))
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;title&quot;&gt;link&lt;/a&gt;
&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;title&quot;&gt;link&lt;/a&gt;
&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;title&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>标题中可使用转义字符与实体：</p>
<div class="example" id="example-407" data-section="链接">
<div class="examplenum"><a href="#example-407">Example 407</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link](/url<span class="space"> </span>&quot;title<span class="space"> </span>\&quot;&amp;quot;&quot;)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;title<span class="space"> </span>&amp;quot;&amp;quot;&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>嵌套引号需转义：</p>
<div class="example" id="example-408" data-section="链接">
<div class="examplenum"><a href="#example-408">Example 408</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link](/url<span class="space"> </span>&quot;title<span class="space"> </span>&quot;and&quot;<span class="space"> </span>title&quot;)
</code></pre>
<pre><code class="language-html">&lt;p&gt;[link](/url<span class="space"> </span>&amp;quot;title<span class="space"> </span>&amp;quot;and&amp;quot;<span class="space"> </span>title&amp;quot;)&lt;/p&gt;
</code></pre>
</div>
<p>不过可用简单的办法，用不同的引号：</p>
<div class="example" id="example-409" data-section="链接">
<div class="examplenum"><a href="#example-409">Example 409</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link](/url<span class="space"> </span>'title<span class="space"> </span>&quot;and&quot;<span class="space"> </span>title')
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;title<span class="space"> </span>&amp;quot;and&amp;quot;<span class="space"> </span>title&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>注意：<code>Markdown.pl</code> 不允许双引号标题包含双引号，它的测试集演示了这点。
但是看不出这样做的理由。因为有多种方式在标题内包含双引号：用反斜杠转义，
实体或用不同引号包裹标题。<code>Markdown.pl</code> 对标题的处理有多个奇怪的地方。
例如，内联链接能用单引号标题，但是引用链接不能。引用链接的标题能以 <code>&quot;</code> 开始
<code>)</code> 结束，但是内联链接不能。<code>Markdown.pl</code> 1.0.1 标题甚至可以不用引号包裹，
但是 1.0.2b8 不能。制定一个简单而合理的规则，让内联链接与引用链接的处理一致，
这样大概更好。</p>
<p>目标与标题前后可以有<a href="#whitespace">空白</a>：</p>
<div class="example" id="example-410" data-section="链接">
<div class="examplenum"><a href="#example-410">Example 410</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link](<span class="space"> </span><span class="space"> </span><span class="space"> </span>/uri
<span class="space"> </span><span class="space"> </span>&quot;title&quot;<span class="space"> </span><span class="space"> </span>)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/uri&quot;<span class="space"> </span>title=&quot;title&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>但是链接文本与后面圆括号间不能有空白：</p>
<div class="example" id="example-411" data-section="链接">
<div class="examplenum"><a href="#example-411">Example 411</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link]<span class="space"> </span>(/uri)
</code></pre>
<pre><code class="language-html">&lt;p&gt;[link]<span class="space"> </span>(/uri)&lt;/p&gt;
</code></pre>
</div>
<p>链接文本可以包含成对的方括号，不成对的需要转义：</p>
<div class="example" id="example-412" data-section="链接">
<div class="examplenum"><a href="#example-412">Example 412</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link<span class="space"> </span>[foo<span class="space"> </span>[bar]]](/uri)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;link<span class="space"> </span>[foo<span class="space"> </span>[bar]]&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-413" data-section="链接">
<div class="examplenum"><a href="#example-413">Example 413</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link]<span class="space"> </span>bar](/uri)
</code></pre>
<pre><code class="language-html">&lt;p&gt;[link]<span class="space"> </span>bar](/uri)&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-414" data-section="链接">
<div class="examplenum"><a href="#example-414">Example 414</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link<span class="space"> </span>[bar](/uri)
</code></pre>
<pre><code class="language-html">&lt;p&gt;[link<span class="space"> </span>&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;bar&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-415" data-section="链接">
<div class="examplenum"><a href="#example-415">Example 415</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link<span class="space"> </span>\[bar](/uri)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;link<span class="space"> </span>[bar&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>链接文本可包含内联元素：</p>
<div class="example" id="example-416" data-section="链接">
<div class="examplenum"><a href="#example-416">Example 416</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link<span class="space"> </span>*foo<span class="space"> </span>**bar**<span class="space"> </span>`#`*](/uri)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;link<span class="space"> </span>&lt;em&gt;foo<span class="space"> </span>&lt;strong&gt;bar&lt;/strong&gt;<span class="space"> </span>&lt;code&gt;#&lt;/code&gt;&lt;/em&gt;&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-417" data-section="链接">
<div class="examplenum"><a href="#example-417">Example 417</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[![moon](moon.jpg)](/uri)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;&lt;img<span class="space"> </span>src=&quot;moon.jpg&quot;<span class="space"> </span>alt=&quot;moon&quot;<span class="space"> </span>/&gt;&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>但是链接不能嵌套：</p>
<div class="example" id="example-418" data-section="链接">
<div class="examplenum"><a href="#example-418">Example 418</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo<span class="space"> </span>[bar](/uri)](/uri)
</code></pre>
<pre><code class="language-html">&lt;p&gt;[foo<span class="space"> </span>&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;bar&lt;/a&gt;](/uri)&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-419" data-section="链接">
<div class="examplenum"><a href="#example-419">Example 419</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo<span class="space"> </span>*[bar<span class="space"> </span>[baz](/uri)](/uri)*](/uri)
</code></pre>
<pre><code class="language-html">&lt;p&gt;[foo<span class="space"> </span>&lt;em&gt;[bar<span class="space"> </span>&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;baz&lt;/a&gt;](/uri)&lt;/em&gt;](/uri)&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-420" data-section="链接">
<div class="examplenum"><a href="#example-420">Example 420</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![[[foo](uri1)](uri2)](uri3)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;img<span class="space"> </span>src=&quot;uri3&quot;<span class="space"> </span>alt=&quot;[foo](uri2)&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<p>下例演示链接优先于强调：</p>
<div class="example" id="example-421" data-section="链接">
<div class="examplenum"><a href="#example-421">Example 421</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*[foo*](/uri)
</code></pre>
<pre><code class="language-html">&lt;p&gt;*&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;foo*&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-422" data-section="链接">
<div class="examplenum"><a href="#example-422">Example 422</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo<span class="space"> </span>*bar](baz*)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;baz*&quot;&gt;foo<span class="space"> </span>*bar&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>注意，方括号若不是链接的一部分则不优先考虑：</p>
<div class="example" id="example-423" data-section="链接">
<div class="examplenum"><a href="#example-423">Example 423</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo<span class="space"> </span>[bar*<span class="space"> </span>baz]
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo<span class="space"> </span>[bar&lt;/em&gt;<span class="space"> </span>baz]&lt;/p&gt;
</code></pre>
</div>
<p>下例演示 HTML 标签、内联代码、自动链接优先于链接：</p>
<div class="example" id="example-424" data-section="链接">
<div class="examplenum"><a href="#example-424">Example 424</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo<span class="space"> </span>&lt;bar<span class="space"> </span>attr=&quot;](baz)&quot;&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;[foo<span class="space"> </span>&lt;bar<span class="space"> </span>attr=&quot;](baz)&quot;&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-425" data-section="链接">
<div class="examplenum"><a href="#example-425">Example 425</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo`](/uri)`
</code></pre>
<pre><code class="language-html">&lt;p&gt;[foo&lt;code&gt;](/uri)&lt;/code&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-426" data-section="链接">
<div class="examplenum"><a href="#example-426">Example 426</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo&lt;http://example.com?search=](uri)&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;[foo&lt;a<span class="space"> </span>href=&quot;http://example.com?search=%5D(uri)&quot;&gt;http://example.com?search=](uri)&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>有三种<a id="reference-link" href="#reference-link" class="definition">引用链接</a>：<a href="#full-reference-link">全</a>，
<a href="#collapsed-reference-link">空</a>，<a href="#shortcut-reference-link">短</a>。</p>
<p><a id="full-reference-link" href="#full-reference-link" class="definition">全引用链接</a> 由<a href="#link-text">链接文本</a>、可选的<a href="#whitespace">空白</a>及<a href="#link-label">链接标签</a>
组成。链接标签匹配在文档其它位置的<a href="#%E9%93%BE%E6%8E%A5%E5%BC%95%E7%94%A8%E5%AE%9A%E4%B9%89">链接引用定义</a>。</p>
<p><a id="link-label" href="#link-label" class="definition">链接标签</a>由方括号包裹，不能包含未转义的方括号，最多包含
999 个字符。</p>
<p>一个标签<a id="matches" href="#matches" class="definition">匹配</a>另一个，在于它们的标准化形式一样。标准化一个标签时，
先做 Unicode 大小写转换，再将连续的<a href="#whitespace">空白</a>合并成一个空格。如果有多个匹配，
优先使用最先在文档中出现的。这时可产生一条警告。</p>
<p>链接标签的内容解析为内联元素。链接的 URI 与标题由匹配的<a href="#%E9%93%BE%E6%8E%A5%E5%BC%95%E7%94%A8%E5%AE%9A%E4%B9%89">链接引用定义</a>定义。</p>
<p>示例：</p>
<div class="example" id="example-427" data-section="链接">
<div class="examplenum"><a href="#example-427">Example 427</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo][bar]

[bar]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;title&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p><a href="#link-text">链接文本</a>的规则同<a href="#inline-link">内联链接</a>的。</p>
<p>链接文本可包含成对方括号，不成对的需要转义：</p>
<div class="example" id="example-428" data-section="链接">
<div class="examplenum"><a href="#example-428">Example 428</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link<span class="space"> </span>[foo<span class="space"> </span>[bar]]][ref]

[ref]:<span class="space"> </span>/uri
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;link<span class="space"> </span>[foo<span class="space"> </span>[bar]]&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-429" data-section="链接">
<div class="examplenum"><a href="#example-429">Example 429</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link<span class="space"> </span>\[bar][ref]

[ref]:<span class="space"> </span>/uri
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;link<span class="space"> </span>[bar&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>链接文本可包含内联元素：</p>
<div class="example" id="example-430" data-section="链接">
<div class="examplenum"><a href="#example-430">Example 430</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[link<span class="space"> </span>*foo<span class="space"> </span>**bar**<span class="space"> </span>`#`*][ref]

[ref]:<span class="space"> </span>/uri
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;link<span class="space"> </span>&lt;em&gt;foo<span class="space"> </span>&lt;strong&gt;bar&lt;/strong&gt;<span class="space"> </span>&lt;code&gt;#&lt;/code&gt;&lt;/em&gt;&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-431" data-section="链接">
<div class="examplenum"><a href="#example-431">Example 431</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[![moon](moon.jpg)][ref]

[ref]:<span class="space"> </span>/uri
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;&lt;img<span class="space"> </span>src=&quot;moon.jpg&quot;<span class="space"> </span>alt=&quot;moon&quot;<span class="space"> </span>/&gt;&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>但是链接不能包含其它链接：</p>
<div class="example" id="example-432" data-section="链接">
<div class="examplenum"><a href="#example-432">Example 432</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo<span class="space"> </span>[bar](/uri)][ref]

[ref]:<span class="space"> </span>/uri
</code></pre>
<pre><code class="language-html">&lt;p&gt;[foo<span class="space"> </span>&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;bar&lt;/a&gt;]&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;ref&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-433" data-section="链接">
<div class="examplenum"><a href="#example-433">Example 433</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo<span class="space"> </span>*bar<span class="space"> </span>[baz][ref]*][ref]

[ref]:<span class="space"> </span>/uri
</code></pre>
<pre><code class="language-html">&lt;p&gt;[foo<span class="space"> </span>&lt;em&gt;bar<span class="space"> </span>&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;baz&lt;/a&gt;&lt;/em&gt;]&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;ref&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>上例是两个<a href="#shortcut-reference-link">短引用链接</a>，而不是一个<a href="#full-reference-link">全引用链接</a>。</p>
<p>下例说明链接文本比强调优先考虑：</p>
<div class="example" id="example-434" data-section="链接">
<div class="examplenum"><a href="#example-434">Example 434</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*[foo*][ref]

[ref]:<span class="space"> </span>/uri
</code></pre>
<pre><code class="language-html">&lt;p&gt;*&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;foo*&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-435" data-section="链接">
<div class="examplenum"><a href="#example-435">Example 435</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo<span class="space"> </span>*bar][ref]

[ref]:<span class="space"> </span>/uri
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;foo<span class="space"> </span>*bar&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>下例说明HTML 标签，内联代码及自动链接比链接优先考虑：</p>
<div class="example" id="example-436" data-section="链接">
<div class="examplenum"><a href="#example-436">Example 436</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo<span class="space"> </span>&lt;bar<span class="space"> </span>attr=&quot;][ref]&quot;&gt;

[ref]:<span class="space"> </span>/uri
</code></pre>
<pre><code class="language-html">&lt;p&gt;[foo<span class="space"> </span>&lt;bar<span class="space"> </span>attr=&quot;][ref]&quot;&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-437" data-section="链接">
<div class="examplenum"><a href="#example-437">Example 437</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo`][ref]`

[ref]:<span class="space"> </span>/uri
</code></pre>
<pre><code class="language-html">&lt;p&gt;[foo&lt;code&gt;][ref]&lt;/code&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-438" data-section="链接">
<div class="examplenum"><a href="#example-438">Example 438</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo&lt;http://example.com?search=][ref]&gt;

[ref]:<span class="space"> </span>/uri
</code></pre>
<pre><code class="language-html">&lt;p&gt;[foo&lt;a<span class="space"> </span>href=&quot;http://example.com?search=%5D%5Bref%5D&quot;&gt;http://example.com?search=][ref]&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>匹配时不区分大小写：</p>
<div class="example" id="example-439" data-section="链接">
<div class="examplenum"><a href="#example-439">Example 439</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo][BaR]

[bar]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;title&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>使用 Unicode 大小写：</p>
<div class="example" id="example-440" data-section="链接">
<div class="examplenum"><a href="#example-440">Example 440</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[Толпой][Толпой]<span class="space"> </span>is<span class="space"> </span>a<span class="space"> </span>Russian<span class="space"> </span>word.

[ТОЛПОЙ]:<span class="space"> </span>/url
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;&gt;Толпой&lt;/a&gt;<span class="space"> </span>is<span class="space"> </span>a<span class="space"> </span>Russian<span class="space"> </span>word.&lt;/p&gt;
</code></pre>
</div>
<p>内部的连续<a href="#whitespace">空白</a>视为一个空格：</p>
<div class="example" id="example-441" data-section="链接">
<div class="examplenum"><a href="#example-441">Example 441</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[Foo
<span class="space"> </span><span class="space"> </span>bar]:<span class="space"> </span>/url

[Baz][Foo<span class="space"> </span>bar]
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;&gt;Baz&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p><a href="#link-text">链接文本</a>与<a href="#link-label">链接标签</a>之间可有<a href="#whitespace">空白</a>：</p>
<div class="example" id="example-442" data-section="链接">
<div class="examplenum"><a href="#example-442">Example 442</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo]<span class="space"> </span>[bar]

[bar]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;title&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-443" data-section="链接">
<div class="examplenum"><a href="#example-443">Example 443</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo]
[bar]

[bar]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;title&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>当匹配到多个[引用链接定义]时用第一个：</p>
<div class="example" id="example-444" data-section="链接">
<div class="examplenum"><a href="#example-444">Example 444</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo]:<span class="space"> </span>/url1

[foo]:<span class="space"> </span>/url2

[bar][foo]
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url1&quot;&gt;bar&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>注意匹配是以普通文本而不是以解析过的来比较。下例不匹配，尽管与解析后的一样：</p>
<div class="example" id="example-445" data-section="链接">
<div class="examplenum"><a href="#example-445">Example 445</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[bar][foo\!]

[foo!]:<span class="space"> </span>/url
</code></pre>
<pre><code class="language-html">&lt;p&gt;[bar][foo!]&lt;/p&gt;
</code></pre>
</div>
<p><a href="#link-label">链接标签</a>不能包含方括号，除非转义：</p>
<div class="example" id="example-446" data-section="链接">
<div class="examplenum"><a href="#example-446">Example 446</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo][ref[]

[ref[]:<span class="space"> </span>/uri
</code></pre>
<pre><code class="language-html">&lt;p&gt;[foo][ref[]&lt;/p&gt;
&lt;p&gt;[ref[]:<span class="space"> </span>/uri&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-447" data-section="链接">
<div class="examplenum"><a href="#example-447">Example 447</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo][ref[bar]]

[ref[bar]]:<span class="space"> </span>/uri
</code></pre>
<pre><code class="language-html">&lt;p&gt;[foo][ref[bar]]&lt;/p&gt;
&lt;p&gt;[ref[bar]]:<span class="space"> </span>/uri&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-448" data-section="链接">
<div class="examplenum"><a href="#example-448">Example 448</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[[[foo]]]

[[[foo]]]:<span class="space"> </span>/url
</code></pre>
<pre><code class="language-html">&lt;p&gt;[[[foo]]]&lt;/p&gt;
&lt;p&gt;[[[foo]]]:<span class="space"> </span>/url&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-449" data-section="链接">
<div class="examplenum"><a href="#example-449">Example 449</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo][ref\[]

[ref\[]:<span class="space"> </span>/uri
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/uri&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p><a id="collapsed-reference-link" href="#collapsed-reference-link" class="definition">空引用链接</a>由<a href="#link-label">链接标签</a>、可选的<a href="#whitespace">空白</a>、<code>[]</code>
组成。链接标签<a href="#matches">匹配</a>文档其它位置的<a href="#%E9%93%BE%E6%8E%A5%E5%BC%95%E7%94%A8%E5%AE%9A%E4%B9%89">链接引用定义</a>。
链接标签按内联元素解析，作为链接的文本。链接的 URI 和标题由匹配的
链接引用定义提供。因此，<code>[foo][]</code> 等于 <code>[foo][foo]</code>。</p>
<div class="example" id="example-450" data-section="链接">
<div class="examplenum"><a href="#example-450">Example 450</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo][]

[foo]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;title&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-451" data-section="链接">
<div class="examplenum"><a href="#example-451">Example 451</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[*foo*<span class="space"> </span>bar][]

[*foo*<span class="space"> </span>bar]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;title&quot;&gt;&lt;em&gt;foo&lt;/em&gt;<span class="space"> </span>bar&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>链接标签不区分大小写：</p>
<div class="example" id="example-452" data-section="链接">
<div class="examplenum"><a href="#example-452">Example 452</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[Foo][]

[foo]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;title&quot;&gt;Foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>同全引用链接，两对括号之间可以有<a href="#whitespace">空白</a>：</p>
<div class="example" id="example-453" data-section="链接">
<div class="examplenum"><a href="#example-453">Example 453</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo]
[]

[foo]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;title&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p><a id="shortcut-reference-link" href="#shortcut-reference-link" class="definition">短引用链接</a>只有<a href="#link-label">链接标签</a>，没有
<code>[]</code> 和链接标签。链接标签<a href="#matches">匹配</a>文档其它地方的<a href="#%E9%93%BE%E6%8E%A5%E5%BC%95%E7%94%A8%E5%AE%9A%E4%B9%89">链接引用定义</a>。
链接标签按内联元素解析，作为链接的文本。链接的 URI 和标题由匹配的
链接引用定义提供。因此，<code>[foo]</code> 等同于 <code>[foo][]</code>。</p>
<div class="example" id="example-454" data-section="链接">
<div class="examplenum"><a href="#example-454">Example 454</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo]

[foo]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;title&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-455" data-section="链接">
<div class="examplenum"><a href="#example-455">Example 455</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[*foo*<span class="space"> </span>bar]

[*foo*<span class="space"> </span>bar]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;title&quot;&gt;&lt;em&gt;foo&lt;/em&gt;<span class="space"> </span>bar&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-456" data-section="链接">
<div class="examplenum"><a href="#example-456">Example 456</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[[*foo*<span class="space"> </span>bar]]

[*foo*<span class="space"> </span>bar]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;[&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;title&quot;&gt;&lt;em&gt;foo&lt;/em&gt;<span class="space"> </span>bar&lt;/a&gt;]&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-457" data-section="链接">
<div class="examplenum"><a href="#example-457">Example 457</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[[bar<span class="space"> </span>[foo]

[foo]:<span class="space"> </span>/url
</code></pre>
<pre><code class="language-html">&lt;p&gt;[[bar<span class="space"> </span>&lt;a<span class="space"> </span>href=&quot;/url&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>链接标签不区分大小写：</p>
<div class="example" id="example-458" data-section="链接">
<div class="examplenum"><a href="#example-458">Example 458</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[Foo]

[foo]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;title&quot;&gt;Foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>链接之后的空格应保留：</p>
<div class="example" id="example-459" data-section="链接">
<div class="examplenum"><a href="#example-459">Example 459</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo]<span class="space"> </span>bar

[foo]:<span class="space"> </span>/url
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url&quot;&gt;foo&lt;/a&gt;<span class="space"> </span>bar&lt;/p&gt;
</code></pre>
</div>
<p>想得到字面上的方括号文本，用反斜杠转义开始的方括号，以避免当作链接：</p>
<div class="example" id="example-460" data-section="链接">
<div class="examplenum"><a href="#example-460">Example 460</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">\[foo]

[foo]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;[foo]&lt;/p&gt;
</code></pre>
</div>
<p>注意下面是链接：</p>
<div class="example" id="example-461" data-section="链接">
<div class="examplenum"><a href="#example-461">Example 461</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo*]:<span class="space"> </span>/url

*[foo*]
</code></pre>
<pre><code class="language-html">&lt;p&gt;*&lt;a<span class="space"> </span>href=&quot;/url&quot;&gt;foo*&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>全引用链接优先于短引用链接：</p>
<div class="example" id="example-462" data-section="链接">
<div class="examplenum"><a href="#example-462">Example 462</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo][bar]

[foo]:<span class="space"> </span>/url1
[bar]:<span class="space"> </span>/url2
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url2&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>下面 <code>[bar][baz]</code> 解析为引用，<code>[foo]</code> 为普通文本：</p>
<div class="example" id="example-463" data-section="链接">
<div class="examplenum"><a href="#example-463">Example 463</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo][bar][baz]

[baz]:<span class="space"> </span>/url
</code></pre>
<pre><code class="language-html">&lt;p&gt;[foo]&lt;a<span class="space"> </span>href=&quot;/url&quot;&gt;bar&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>但是下面 <code>[foo][bar]</code> 解析为引用，因为定义了 <code>[bar]</code>：</p>
<div class="example" id="example-464" data-section="链接">
<div class="examplenum"><a href="#example-464">Example 464</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo][bar][baz]

[baz]:<span class="space"> </span>/url1
[bar]:<span class="space"> </span>/url2
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;/url2&quot;&gt;foo&lt;/a&gt;&lt;a<span class="space"> </span>href=&quot;/url1&quot;&gt;baz&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>下面 <code>[foo]</code> 不解析为短引用，因为它后面跟着一个链接标签，即使没有
定义 <code>[bar]</code> ：</p>
<div class="example" id="example-465" data-section="链接">
<div class="examplenum"><a href="#example-465">Example 465</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">[foo][bar][baz]

[baz]:<span class="space"> </span>/url1
[foo]:<span class="space"> </span>/url2
</code></pre>
<pre><code class="language-html">&lt;p&gt;[foo]&lt;a<span class="space"> </span>href=&quot;/url1&quot;&gt;bar&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<h2 id="图像">6.6 图像</h2>
<p>图像的语法类似于链接，有一点不同。<a href="#link-text">链接文本</a>在这为
<a id="image-description" href="#image-description" class="definition">图像描述</a>。两者规则一样，不过图像描述以 <code>![</code> 而
不是 <code>[</code> 开始，并且可以包含链接。图像描述的内容解析为内联元素，
当图像渲染为 HTML 时它用作图像的 <code>alt</code> 属性。</p>
<div class="example" id="example-466" data-section="图像">
<div class="examplenum"><a href="#example-466">Example 466</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![foo](/url<span class="space"> </span>&quot;title&quot;)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;img<span class="space"> </span>src=&quot;/url&quot;<span class="space"> </span>alt=&quot;foo&quot;<span class="space"> </span>title=&quot;title&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-467" data-section="图像">
<div class="examplenum"><a href="#example-467">Example 467</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![foo<span class="space"> </span>*bar*]

[foo<span class="space"> </span>*bar*]:<span class="space"> </span>train.jpg<span class="space"> </span>&quot;train<span class="space"> </span>&amp;<span class="space"> </span>tracks&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;img<span class="space"> </span>src=&quot;train.jpg&quot;<span class="space"> </span>alt=&quot;foo<span class="space"> </span>bar&quot;<span class="space"> </span>title=&quot;train<span class="space"> </span>&amp;amp;<span class="space"> </span>tracks&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-468" data-section="图像">
<div class="examplenum"><a href="#example-468">Example 468</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![foo<span class="space"> </span>![bar](/url)](/url2)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;img<span class="space"> </span>src=&quot;/url2&quot;<span class="space"> </span>alt=&quot;foo<span class="space"> </span>bar&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-469" data-section="图像">
<div class="examplenum"><a href="#example-469">Example 469</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![foo<span class="space"> </span>[bar](/url)](/url2)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;img<span class="space"> </span>src=&quot;/url2&quot;<span class="space"> </span>alt=&quot;foo<span class="space"> </span>bar&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<p>尽管本规范关注解析而不是渲染，不过推荐只用纯文本作为<a href="#image-description">图像描述</a>。注意
在上面的示例中，alt 属性值为 <code>foo bar</code>，不是 <code>foo [bar](/url)</code> 或
<code>foo &lt;a href=&quot;/url&quot;&gt;bar&lt;/a&gt;</code>。只渲染纯文本而没有格式化。</p>
<div class="example" id="example-470" data-section="图像">
<div class="examplenum"><a href="#example-470">Example 470</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![foo<span class="space"> </span>*bar*][]

[foo<span class="space"> </span>*bar*]:<span class="space"> </span>train.jpg<span class="space"> </span>&quot;train<span class="space"> </span>&amp;<span class="space"> </span>tracks&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;img<span class="space"> </span>src=&quot;train.jpg&quot;<span class="space"> </span>alt=&quot;foo<span class="space"> </span>bar&quot;<span class="space"> </span>title=&quot;train<span class="space"> </span>&amp;amp;<span class="space"> </span>tracks&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-471" data-section="图像">
<div class="examplenum"><a href="#example-471">Example 471</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![foo<span class="space"> </span>*bar*][foobar]

[FOOBAR]:<span class="space"> </span>train.jpg<span class="space"> </span>&quot;train<span class="space"> </span>&amp;<span class="space"> </span>tracks&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;img<span class="space"> </span>src=&quot;train.jpg&quot;<span class="space"> </span>alt=&quot;foo<span class="space"> </span>bar&quot;<span class="space"> </span>title=&quot;train<span class="space"> </span>&amp;amp;<span class="space"> </span>tracks&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-472" data-section="图像">
<div class="examplenum"><a href="#example-472">Example 472</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![foo](train.jpg)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;img<span class="space"> </span>src=&quot;train.jpg&quot;<span class="space"> </span>alt=&quot;foo&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-473" data-section="图像">
<div class="examplenum"><a href="#example-473">Example 473</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">My<span class="space"> </span>![foo<span class="space"> </span>bar](/path/to/train.jpg<span class="space"> </span><span class="space"> </span>&quot;title&quot;<span class="space"> </span><span class="space"> </span><span class="space"> </span>)
</code></pre>
<pre><code class="language-html">&lt;p&gt;My<span class="space"> </span>&lt;img<span class="space"> </span>src=&quot;/path/to/train.jpg&quot;<span class="space"> </span>alt=&quot;foo<span class="space"> </span>bar&quot;<span class="space"> </span>title=&quot;title&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-474" data-section="图像">
<div class="examplenum"><a href="#example-474">Example 474</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![foo](&lt;url&gt;)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;img<span class="space"> </span>src=&quot;url&quot;<span class="space"> </span>alt=&quot;foo&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-475" data-section="图像">
<div class="examplenum"><a href="#example-475">Example 475</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![](/url)
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;img<span class="space"> </span>src=&quot;/url&quot;<span class="space"> </span>alt=&quot;&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<p>引用类型：</p>
<div class="example" id="example-476" data-section="图像">
<div class="examplenum"><a href="#example-476">Example 476</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![foo]<span class="space"> </span>[bar]

[bar]:<span class="space"> </span>/url
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;img<span class="space"> </span>src=&quot;/url&quot;<span class="space"> </span>alt=&quot;foo&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-477" data-section="图像">
<div class="examplenum"><a href="#example-477">Example 477</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![foo]<span class="space"> </span>[bar]

[BAR]:<span class="space"> </span>/url
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;img<span class="space"> </span>src=&quot;/url&quot;<span class="space"> </span>alt=&quot;foo&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<p>空：</p>
<div class="example" id="example-478" data-section="图像">
<div class="examplenum"><a href="#example-478">Example 478</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![foo][]

[foo]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;img<span class="space"> </span>src=&quot;/url&quot;<span class="space"> </span>alt=&quot;foo&quot;<span class="space"> </span>title=&quot;title&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-479" data-section="图像">
<div class="examplenum"><a href="#example-479">Example 479</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![*foo*<span class="space"> </span>bar][]

[*foo*<span class="space"> </span>bar]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;img<span class="space"> </span>src=&quot;/url&quot;<span class="space"> </span>alt=&quot;foo<span class="space"> </span>bar&quot;<span class="space"> </span>title=&quot;title&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<p>标签不区分大小写：</p>
<div class="example" id="example-480" data-section="图像">
<div class="examplenum"><a href="#example-480">Example 480</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![Foo][]

[foo]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;img<span class="space"> </span>src=&quot;/url&quot;<span class="space"> </span>alt=&quot;Foo&quot;<span class="space"> </span>title=&quot;title&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<p>同全引用链接，两对括号之间可以有<a href="#whitespace">空白</a>：</p>
<div class="example" id="example-481" data-section="图像">
<div class="examplenum"><a href="#example-481">Example 481</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![foo]
[]

[foo]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;img<span class="space"> </span>src=&quot;/url&quot;<span class="space"> </span>alt=&quot;foo&quot;<span class="space"> </span>title=&quot;title&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<p>短：</p>
<div class="example" id="example-482" data-section="图像">
<div class="examplenum"><a href="#example-482">Example 482</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![foo]

[foo]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;img<span class="space"> </span>src=&quot;/url&quot;<span class="space"> </span>alt=&quot;foo&quot;<span class="space"> </span>title=&quot;title&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-483" data-section="图像">
<div class="examplenum"><a href="#example-483">Example 483</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![*foo*<span class="space"> </span>bar]

[*foo*<span class="space"> </span>bar]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;img<span class="space"> </span>src=&quot;/url&quot;<span class="space"> </span>alt=&quot;foo<span class="space"> </span>bar&quot;<span class="space"> </span>title=&quot;title&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<p>注意链接标签不能包含未转义的括号：</p>
<div class="example" id="example-484" data-section="图像">
<div class="examplenum"><a href="#example-484">Example 484</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![[foo]]

[[foo]]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;![[foo]]&lt;/p&gt;
&lt;p&gt;[[foo]]:<span class="space"> </span>/url<span class="space"> </span>&amp;quot;title&amp;quot;&lt;/p&gt;
</code></pre>
</div>
<p>链接标签不区分大小写：</p>
<div class="example" id="example-485" data-section="图像">
<div class="examplenum"><a href="#example-485">Example 485</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">![Foo]

[foo]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;img<span class="space"> </span>src=&quot;/url&quot;<span class="space"> </span>alt=&quot;Foo&quot;<span class="space"> </span>title=&quot;title&quot;<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<p>只想得到字面上的方括号文本，可用反斜杠转义 <code>!</code> 与 <code>[</code>：</p>
<div class="example" id="example-486" data-section="图像">
<div class="examplenum"><a href="#example-486">Example 486</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">\!\[foo]

[foo]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;![foo]&lt;/p&gt;
</code></pre>
</div>
<p>链接在字面 <code>!</code> 后面时，用反斜杠转义 <code>!</code>：</p>
<div class="example" id="example-487" data-section="图像">
<div class="examplenum"><a href="#example-487">Example 487</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">\![foo]

[foo]:<span class="space"> </span>/url<span class="space"> </span>&quot;title&quot;
</code></pre>
<pre><code class="language-html">&lt;p&gt;!&lt;a<span class="space"> </span>href=&quot;/url&quot;<span class="space"> </span>title=&quot;title&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<h2 id="自动链接">6.7 自动链接</h2>
<p><a id="autolink" href="#autolink" class="definition">自动链接</a>是由尖括号(<code>&lt;...&gt;</code>)包裹的绝对 URI 与 email 地址。
它将解析为链接，以 URL 或 email 地址作为链接标签。</p>
<p><a id="uri-autolink" href="#uri-autolink" class="definition">URI 自动链接</a>由 <code>&lt;</code>，<a href="#absolute-uri">绝对 URI</a>、<code>&gt;</code> 组成。<a href="#absolute-uri">绝对 URI</a>
不包含 <code>&lt;</code>。它被解析为一个指向 URI 的链接，以 URI 作为链接的标签。</p>
<p><a id="absolute-uri" href="#absolute-uri" class="definition">绝对 URI</a>由<a href="#scheme">协议</a>，冒号(<code>:</code>)及一串字符组成。包含
ASCII <a href="#whitespace">空白</a>、控制字符、<code>&lt;</code> 与 <code>&gt;</code> 时需要编码，例如空格为 <code>%20</code> 。</p>
<p>支持下面<a id="scheme" href="#scheme" class="definition">协议</a>，不区分大小写：
<code>coap</code>, <code>doi</code>, <code>javascript</code>, <code>aaa</code>, <code>aaas</code>, <code>about</code>, <code>acap</code>, <code>cap</code>,
<code>cid</code>, <code>crid</code>, <code>data</code>, <code>dav</code>, <code>dict</code>, <code>dns</code>, <code>file</code>, <code>ftp</code>, <code>geo</code>, <code>go</code>,
<code>gopher</code>, <code>h323</code>, <code>http</code>, <code>https</code>, <code>iax</code>, <code>icap</code>, <code>im</code>, <code>imap</code>, <code>info</code>,
<code>ipp</code>, <code>iris</code>, <code>iris.beep</code>, <code>iris.xpc</code>, <code>iris.xpcs</code>, <code>iris.lwz</code>, <code>ldap</code>,
<code>mailto</code>, <code>mid</code>, <code>msrp</code>, <code>msrps</code>, <code>mtqp</code>, <code>mupdate</code>, <code>news</code>, <code>nfs</code>,
<code>ni</code>, <code>nih</code>, <code>nntp</code>, <code>opaquelocktoken</code>, <code>pop</code>, <code>pres</code>, <code>rtsp</code>,
<code>service</code>, <code>session</code>, <code>shttp</code>, <code>sieve</code>, <code>sip</code>, <code>sips</code>, <code>sms</code>, <code>snmp</code>,<code>soap.beep</code>, <code>soap.beeps</code>, <code>tag</code>, <code>tel</code>, <code>telnet</code>, <code>tftp</code>, <code>thismessage</code>,
<code>tn3270</code>, <code>tip</code>, <code>tv</code>, <code>urn</code>, <code>vemmi</code>, <code>ws</code>, <code>wss</code>, <code>xcon</code>,
<code>xcon-userid</code>, <code>xmlrpc.beep</code>, <code>xmlrpc.beeps</code>, <code>xmpp</code>, <code>z39.50r</code>,
<code>z39.50s</code>, <code>adiumxtra</code>, <code>afp</code>, <code>afs</code>, <code>aim</code>, <code>apt</code>,<code>attachment</code>, <code>aw</code>,
<code>beshare</code>, <code>bitcoin</code>, <code>bolo</code>, <code>callto</code>, <code>chrome</code>,<code>chrome-extension</code>,
<code>com-eventbrite-attendee</code>, <code>content</code>, <code>cvs</code>,<code>dlna-playsingle</code>,
<code>dlna-playcontainer</code>, <code>dtn</code>, <code>dvb</code>, <code>ed2k</code>, <code>facetime</code>, <code>feed</code>,
<code>finger</code>, <code>fish</code>, <code>gg</code>, <code>git</code>, <code>gizmoproject</code>, <code>gtalk</code>, <code>hcp</code>, <code>icon</code>,
<code>ipn</code>, <code>irc</code>, <code>irc6</code>, <code>ircs</code>, <code>itms</code>, <code>jar</code>, <code>jms</code>, <code>keyparc</code>, <code>lastfm</code>,
<code>ldaps</code>, <code>magnet</code>, <code>maps</code>, <code>market</code>,<code>message</code>, <code>mms</code>, <code>ms-help</code>,
<code>msnim</code>, <code>mumble</code>, <code>mvn</code>, <code>notes</code>, <code>oid</code>, <code>palm</code>, <code>paparazzi</code>,
<code>platform</code>, <code>proxy</code>, <code>psyc</code>, <code>query</code>, <code>res</code>, <code>resource</code>, <code>rmi</code>, <code>rsync</code>,
<code>rtmp</code>, <code>secondlife</code>, <code>sftp</code>, <code>sgn</code>, <code>skype</code>, <code>smb</code>, <code>soldat</code>,
<code>spotify</code>, <code>ssh</code>, <code>steam</code>, <code>svn</code>, <code>teamspeak</code>, <code>things</code>, <code>udp</code>,
<code>unreal</code>, <code>ut2004</code>, <code>ventrilo</code>, <code>view-source</code>, <code>webcal</code>, <code>wtai</code>,
<code>wyciwyg</code>, <code>xfire</code>, <code>xri</code>, <code>ymsgr</code>.</p>
<p>下面是有效的自动链接：</p>
<div class="example" id="example-488" data-section="自动链接">
<div class="examplenum"><a href="#example-488">Example 488</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;http://foo.bar.baz&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;http://foo.bar.baz&quot;&gt;http://foo.bar.baz&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-489" data-section="自动链接">
<div class="examplenum"><a href="#example-489">Example 489</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;http://foo.bar.baz/test?q=hello&amp;id=22&amp;boolean&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;http://foo.bar.baz/test?q=hello&amp;amp;id=22&amp;amp;boolean&quot;&gt;http://foo.bar.baz/test?q=hello&amp;amp;id=22&amp;amp;boolean&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-490" data-section="自动链接">
<div class="examplenum"><a href="#example-490">Example 490</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;irc://foo.bar:2233/baz&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;irc://foo.bar:2233/baz&quot;&gt;irc://foo.bar:2233/baz&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>全大写也可以：</p>
<div class="example" id="example-491" data-section="自动链接">
<div class="examplenum"><a href="#example-491">Example 491</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;MAILTO:FOO@BAR.BAZ&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;MAILTO:FOO@BAR.BAZ&quot;&gt;MAILTO:FOO@BAR.BAZ&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>自动链接不能包含空白：</p>
<div class="example" id="example-492" data-section="自动链接">
<div class="examplenum"><a href="#example-492">Example 492</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;http://foo.bar/baz<span class="space"> </span>bim&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&amp;lt;http://foo.bar/baz<span class="space"> </span>bim&amp;gt;&lt;/p&gt;
</code></pre>
</div>
<p>用反斜杠转义无效：</p>
<div class="example" id="example-493" data-section="自动链接">
<div class="examplenum"><a href="#example-493">Example 493</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;http://example.com/\[\&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;http://example.com/%5C%5B%5C&quot;&gt;http://example.com/\[\&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p><a id="email-autolink" href="#email-autolink" class="definition">email 自动链接</a>由<code>&lt;</code>，<a href="#email-address">email 地址</a>、<code>&gt;</code> 组成。
链接标签是 email 地址，URL 是 <code>mailto:</code> 加上其后的 email 地址。</p>
<p><a id="email-address" href="#email-address" class="definition">email 地址</a>匹配<a href="https://html.spec.whatwg.org/multipage/forms.html#e-mail-state-(type=email)">HTML5 规范的非标准正则
表达式</a>:</p>
<pre><code>/^[a-zA-Z0-9.!#$%&amp;'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?
(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/
</code></pre>
<p>email 自动链接示例：</p>
<div class="example" id="example-494" data-section="自动链接">
<div class="examplenum"><a href="#example-494">Example 494</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;foo@bar.example.com&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;mailto:foo@bar.example.com&quot;&gt;foo@bar.example.com&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-495" data-section="自动链接">
<div class="examplenum"><a href="#example-495">Example 495</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;foo+special@Bar.baz-bar0.com&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;mailto:foo+special@Bar.baz-bar0.com&quot;&gt;foo+special@Bar.baz-bar0.com&lt;/a&gt;&lt;/p&gt;
</code></pre>
</div>
<p>email 自动链接内用反斜杠转义无效：</p>
<div class="example" id="example-496" data-section="自动链接">
<div class="examplenum"><a href="#example-496">Example 496</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;foo\+@bar.example.com&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&amp;lt;foo+@bar.example.com&amp;gt;&lt;/p&gt;
</code></pre>
</div>
<p>下面不是自动链接：</p>
<div class="example" id="example-497" data-section="自动链接">
<div class="examplenum"><a href="#example-497">Example 497</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&amp;lt;&amp;gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-498" data-section="自动链接">
<div class="examplenum"><a href="#example-498">Example 498</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;heck://bing.bong&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&amp;lt;heck://bing.bong&amp;gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-499" data-section="自动链接">
<div class="examplenum"><a href="#example-499">Example 499</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;<span class="space"> </span>http://foo.bar<span class="space"> </span>&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&amp;lt;<span class="space"> </span>http://foo.bar<span class="space"> </span>&amp;gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-500" data-section="自动链接">
<div class="examplenum"><a href="#example-500">Example 500</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;foo.bar.baz&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&amp;lt;foo.bar.baz&amp;gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-501" data-section="自动链接">
<div class="examplenum"><a href="#example-501">Example 501</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;localhost:5001/foo&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&amp;lt;localhost:5001/foo&amp;gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-502" data-section="自动链接">
<div class="examplenum"><a href="#example-502">Example 502</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">http://example.com
</code></pre>
<pre><code class="language-html">&lt;p&gt;http://example.com&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-503" data-section="自动链接">
<div class="examplenum"><a href="#example-503">Example 503</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo@bar.example.com
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo@bar.example.com&lt;/p&gt;
</code></pre>
</div>
<h2 id="原生-html">6.8 原生 HTML</h2>
<p>在 <code>&lt;</code> 与 <code>&gt;</code> 之间的文本，好像一个 HTML 标签，按原生 HTML 标签处理，
在渲染为 HTML 时不转义。标签与属性名字不限于目前的 HTML 标签，
故自定义标签（甚至是 DocBook 标签）也可使用。</p>
<p>标签语法:</p>
<p><a id="tag-name" href="#tag-name" class="definition">标签名字</a>由一个 ASCII 字母及其后零或多个 ASCII 字母或
数字组成。</p>
<p><a id="attribute" href="#attribute" class="definition">属性</a>由<a href="#whitespace">空白</a>、<a href="#attribute-name">属性名字</a>及可选的<a href="#attribute-value">属性值</a>组成。</p>
<p><a id="attribute-name" href="#attribute-name" class="definition">属性名字</a>由 ASCII 字母、<code>_</code> 或 <code>:</code> 及其后零或多
个 ASCII 字母、数字、<code>_</code>、<code>:</code> 或 <code>-</code> 组成。注意这是按 XML 规范，
限制为 ASCII，HTML5 较宽松。</p>
<p><a id="attribute-value-specification" href="#attribute-value-specification" class="definition">属性值赋值</a>由可选的<a href="#whitespace">空白</a>，一个 <code>=</code> ，
可选的<a href="#whitespace">空白</a>及<a href="#attribute-value">属性值</a>组成。</p>
<p><a id="attribute-value" href="#attribute-value" class="definition">属性值</a> 包含<a href="#unquoted-attribute-value">无引号属性值</a>、<a href="#single-quoted-attribute-value">单引号属性值</a>或
<a href="#double-quoted-attribute-value">双引号属性值</a>。</p>
<p><a id="unquoted-attribute-value" href="#unquoted-attribute-value" class="definition">无引号属性值</a> 是一串非空字符，不包含空格,
<code>&quot;</code>, <code>'</code>, <code>=</code>, <code>&lt;</code>, <code>&gt;</code>, 或 <code>`</code>。</p>
<p><a id="single-quoted-attribute-value" href="#single-quoted-attribute-value" class="definition">单引号属性值</a> 由 <code>'</code>，一串不包含 <code>'</code> 的
字符，<code>'</code> 组成。</p>
<p><a id="double-quoted-attribute-value" href="#double-quoted-attribute-value" class="definition">双引号属性值</a> 由 <code>&quot;</code>，一串不包含 <code>&quot;</code> 的
字符，<code>&quot;</code> 组成。</p>
<p><a id="open-tag" href="#open-tag" class="definition">开始标签</a>由 <code>&lt;</code>，<a href="#tag-name">标签名字</a>，可选的<a href="#attribute">属性</a>，可选的<a href="#whitespace">空白</a>，
可选的 <code>/</code>，<code>&gt;</code> 组成。</p>
<p><a id="closing-tag" href="#closing-tag" class="definition">结束标签</a>由 <code>&lt;/</code>，<a href="#tag-name">标签名字</a>，可选的<a href="#whitespace">空白</a>，<code>&gt;</code> 组成。</p>
<p><a id="html-comment" href="#html-comment" class="definition">HTML 注释</a>形如 <code>&lt;!--text--&gt;</code>。text 不以 <code>&gt;</code> 或 <code>-&gt;</code> 开始，
不以 <code>-</code> 结束，同时不包含 <code>--</code>。见
<a href="http://www.w3.org/TR/html5/syntax.html#comments">HTML5 标准</a>。</p>
<p><a id="processing-instruction" href="#processing-instruction" class="definition">处理指令</a>由 <code>&lt;?</code>，一串不包含 <code>?&gt;</code> 的字符，<code>?&gt;</code>
组成。</p>
<p><a id="declaration" href="#declaration" class="definition">声明</a>由 <code>&lt;!</code>，名字，一串不包含 <code>&gt;</code> 的字符，<code>&gt;</code> 组成。
名字是一串大写的 ASCII 字母。</p>
<p><a id="cdata-section" href="#cdata-section" class="definition">CDATA</a>由 <code>&lt;![CDATA[</code>，一串不包含 <code>]]&gt;</code> 与 <code>]]&gt;</code>
的字符组成。</p>
<p><a id="html-tag" href="#html-tag" class="definition">HTML 标签</a>由<a href="#open-tag">开始标签</a>、<a href="#closing-tag">结束标签</a>、<a href="#html-comment">HTML 注释</a>、<a href="#processing-instruction">处理指令</a>、
<a href="#declaration">声明</a>或<a href="#cdata-section">CDATA</a>组成。</p>
<p>开始标签:</p>
<div class="example" id="example-504" data-section="原生 HTML">
<div class="examplenum"><a href="#example-504">Example 504</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;a&gt;&lt;bab&gt;&lt;c2c&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a&gt;&lt;bab&gt;&lt;c2c&gt;&lt;/p&gt;
</code></pre>
</div>
<p>空元素:</p>
<div class="example" id="example-505" data-section="原生 HTML">
<div class="examplenum"><a href="#example-505">Example 505</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;a/&gt;&lt;b2/&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a/&gt;&lt;b2/&gt;&lt;/p&gt;
</code></pre>
</div>
<p>可有<a href="#whitespace">空白</a>：</p>
<div class="example" id="example-506" data-section="原生 HTML">
<div class="examplenum"><a href="#example-506">Example 506</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;a<span class="space"> </span><span class="space"> </span>/&gt;&lt;b2
data=&quot;foo&quot;<span class="space"> </span>&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span><span class="space"> </span>/&gt;&lt;b2
data=&quot;foo&quot;<span class="space"> </span>&gt;&lt;/p&gt;
</code></pre>
</div>
<p>带有属性：</p>
<div class="example" id="example-507" data-section="原生 HTML">
<div class="examplenum"><a href="#example-507">Example 507</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;a<span class="space"> </span>foo=&quot;bar&quot;<span class="space"> </span>bam<span class="space"> </span>=<span class="space"> </span>'baz<span class="space"> </span>&lt;em&gt;&quot;&lt;/em&gt;'
_boolean<span class="space"> </span>zoop:33=zoop:33<span class="space"> </span>/&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>foo=&quot;bar&quot;<span class="space"> </span>bam<span class="space"> </span>=<span class="space"> </span>'baz<span class="space"> </span>&lt;em&gt;&quot;&lt;/em&gt;'
_boolean<span class="space"> </span>zoop:33=zoop:33<span class="space"> </span>/&gt;&lt;/p&gt;
</code></pre>
</div>
<p>无效标签名字不解析为 HTML：</p>
<div class="example" id="example-508" data-section="原生 HTML">
<div class="examplenum"><a href="#example-508">Example 508</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;33&gt;<span class="space"> </span>&lt;__&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&amp;lt;33&amp;gt;<span class="space"> </span>&amp;lt;__&amp;gt;&lt;/p&gt;
</code></pre>
</div>
<p>无效属性名字:</p>
<div class="example" id="example-509" data-section="原生 HTML">
<div class="examplenum"><a href="#example-509">Example 509</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;a<span class="space"> </span>h*#ref=&quot;hi&quot;&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&amp;lt;a<span class="space"> </span>h*#ref=&amp;quot;hi&amp;quot;&amp;gt;&lt;/p&gt;
</code></pre>
</div>
<p>无效属性值:</p>
<div class="example" id="example-510" data-section="原生 HTML">
<div class="examplenum"><a href="#example-510">Example 510</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;a<span class="space"> </span>href=&quot;hi'&gt;<span class="space"> </span>&lt;a<span class="space"> </span>href=hi'&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&amp;lt;a<span class="space"> </span>href=&amp;quot;hi'&amp;gt;<span class="space"> </span>&amp;lt;a<span class="space"> </span>href=hi'&amp;gt;&lt;/p&gt;
</code></pre>
</div>
<p>无效<a href="#whitespace">空白</a>:</p>
<div class="example" id="example-511" data-section="原生 HTML">
<div class="examplenum"><a href="#example-511">Example 511</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;<span class="space"> </span>a&gt;&lt;
foo&gt;&lt;bar/<span class="space"> </span>&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&amp;lt;<span class="space"> </span>a&amp;gt;&amp;lt;
foo&amp;gt;&amp;lt;bar/<span class="space"> </span>&amp;gt;&lt;/p&gt;
</code></pre>
</div>
<p>少了<a href="#whitespace">空白</a>:</p>
<div class="example" id="example-512" data-section="原生 HTML">
<div class="examplenum"><a href="#example-512">Example 512</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;a<span class="space"> </span>href='bar'title=title&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&amp;lt;a<span class="space"> </span>href='bar'title=title&amp;gt;&lt;/p&gt;
</code></pre>
</div>
<p>关闭标签:</p>
<div class="example" id="example-513" data-section="原生 HTML">
<div class="examplenum"><a href="#example-513">Example 513</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;/a&gt;
&lt;/foo<span class="space"> </span>&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;/a&gt;
&lt;/foo<span class="space"> </span>&gt;&lt;/p&gt;
</code></pre>
</div>
<p>关闭标签内属性无效：</p>
<div class="example" id="example-514" data-section="原生 HTML">
<div class="examplenum"><a href="#example-514">Example 514</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;/a<span class="space"> </span>href=&quot;foo&quot;&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&amp;lt;/a<span class="space"> </span>href=&amp;quot;foo&amp;quot;&amp;gt;&lt;/p&gt;
</code></pre>
</div>
<p>注释：</p>
<div class="example" id="example-515" data-section="原生 HTML">
<div class="examplenum"><a href="#example-515">Example 515</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo<span class="space"> </span>&lt;!--<span class="space"> </span>this<span class="space"> </span>is<span class="space"> </span>a
comment<span class="space"> </span>-<span class="space"> </span>with<span class="space"> </span>hyphen<span class="space"> </span>--&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo<span class="space"> </span>&lt;!--<span class="space"> </span>this<span class="space"> </span>is<span class="space"> </span>a
comment<span class="space"> </span>-<span class="space"> </span>with<span class="space"> </span>hyphen<span class="space"> </span>--&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-516" data-section="原生 HTML">
<div class="examplenum"><a href="#example-516">Example 516</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo<span class="space"> </span>&lt;!--<span class="space"> </span>not<span class="space"> </span>a<span class="space"> </span>comment<span class="space"> </span>--<span class="space"> </span>two<span class="space"> </span>hyphens<span class="space"> </span>--&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo<span class="space"> </span>&amp;lt;!--<span class="space"> </span>not<span class="space"> </span>a<span class="space"> </span>comment<span class="space"> </span>--<span class="space"> </span>two<span class="space"> </span>hyphens<span class="space"> </span>--&amp;gt;&lt;/p&gt;
</code></pre>
</div>
<p>不是注释：</p>
<div class="example" id="example-517" data-section="原生 HTML">
<div class="examplenum"><a href="#example-517">Example 517</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo<span class="space"> </span>&lt;!--&gt;<span class="space"> </span>foo<span class="space"> </span>--&gt;

foo<span class="space"> </span>&lt;!--<span class="space"> </span>foo---&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo<span class="space"> </span>&amp;lt;!--&amp;gt;<span class="space"> </span>foo<span class="space"> </span>--&amp;gt;&lt;/p&gt;
&lt;p&gt;foo<span class="space"> </span>&amp;lt;!--<span class="space"> </span>foo---&amp;gt;&lt;/p&gt;
</code></pre>
</div>
<p>处理指令：</p>
<div class="example" id="example-518" data-section="原生 HTML">
<div class="examplenum"><a href="#example-518">Example 518</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo<span class="space"> </span>&lt;?php<span class="space"> </span>echo<span class="space"> </span>$a;<span class="space"> </span>?&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo<span class="space"> </span>&lt;?php<span class="space"> </span>echo<span class="space"> </span>$a;<span class="space"> </span>?&gt;&lt;/p&gt;
</code></pre>
</div>
<p>声明：</p>
<div class="example" id="example-519" data-section="原生 HTML">
<div class="examplenum"><a href="#example-519">Example 519</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo<span class="space"> </span>&lt;!ELEMENT<span class="space"> </span>br<span class="space"> </span>EMPTY&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo<span class="space"> </span>&lt;!ELEMENT<span class="space"> </span>br<span class="space"> </span>EMPTY&gt;&lt;/p&gt;
</code></pre>
</div>
<p>CDATA：</p>
<div class="example" id="example-520" data-section="原生 HTML">
<div class="examplenum"><a href="#example-520">Example 520</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo<span class="space"> </span>&lt;![CDATA[&gt;&amp;&lt;]]&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo<span class="space"> </span>&lt;![CDATA[&gt;&amp;&lt;]]&gt;&lt;/p&gt;
</code></pre>
</div>
<p>在属性内的实体保留：</p>
<div class="example" id="example-521" data-section="原生 HTML">
<div class="examplenum"><a href="#example-521">Example 521</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;a<span class="space"> </span>href=&quot;&amp;ouml;&quot;&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;&amp;ouml;&quot;&gt;&lt;/p&gt;
</code></pre>
</div>
<p>在属性内不能用反斜杠转义：</p>
<div class="example" id="example-522" data-section="原生 HTML">
<div class="examplenum"><a href="#example-522">Example 522</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;a<span class="space"> </span>href=&quot;\*&quot;&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;\*&quot;&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-523" data-section="原生 HTML">
<div class="examplenum"><a href="#example-523">Example 523</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;a<span class="space"> </span>href=&quot;\&quot;&quot;&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&amp;lt;a<span class="space"> </span>href=&amp;quot;&amp;quot;&amp;quot;&amp;gt;&lt;/p&gt;
</code></pre>
</div>
<h2 id="硬换行">6.9 硬换行</h2>
<p>换行符不在内联代码或 HTML 标签内，前面有两个或多个的空格，并且不在块的末尾，
将解析为<a id="hard-line-break" href="#hard-line-break" class="definition">硬换行</a> ，渲染为 HTML 时是一个 <code>&lt;br /&gt;</code> 标签。</p>
<div class="example" id="example-524" data-section="硬换行">
<div class="examplenum"><a href="#example-524">Example 524</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo
baz
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo&lt;br<span class="space"> </span>/&gt;
baz&lt;/p&gt;
</code></pre>
</div>
<p>这种方案更明显，<a href="#line-ending">行结束符</a>前不放两个空格而是放一个反斜杠：</p>
<div class="example" id="example-525" data-section="硬换行">
<div class="examplenum"><a href="#example-525">Example 525</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo\
baz
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo&lt;br<span class="space"> </span>/&gt;
baz&lt;/p&gt;
</code></pre>
</div>
<p>两个以上空格也可：</p>
<div class="example" id="example-526" data-section="硬换行">
<div class="examplenum"><a href="#example-526">Example 526</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo
baz
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo&lt;br<span class="space"> </span>/&gt;
baz&lt;/p&gt;
</code></pre>
</div>
<p>下一行头部的空格忽略：</p>
<div class="example" id="example-527" data-section="硬换行">
<div class="examplenum"><a href="#example-527">Example 527</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo&lt;br<span class="space"> </span>/&gt;
bar&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-528" data-section="硬换行">
<div class="examplenum"><a href="#example-528">Example 528</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo\
<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>bar
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo&lt;br<span class="space"> </span>/&gt;
bar&lt;/p&gt;
</code></pre>
</div>
<p>换行符可以出现在强调、链接及其它可包含行内元素的结构中：</p>
<div class="example" id="example-529" data-section="硬换行">
<div class="examplenum"><a href="#example-529">Example 529</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo
bar*
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo&lt;br<span class="space"> </span>/&gt;
bar&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-530" data-section="硬换行">
<div class="examplenum"><a href="#example-530">Example 530</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">*foo\
bar*
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;em&gt;foo&lt;br<span class="space"> </span>/&gt;
bar&lt;/em&gt;&lt;/p&gt;
</code></pre>
</div>
<p>换行符不能出现在内联代码内：</p>
<div class="example" id="example-531" data-section="硬换行">
<div class="examplenum"><a href="#example-531">Example 531</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">`code
span`
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;code&gt;code<span class="space"> </span>span&lt;/code&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-532" data-section="硬换行">
<div class="examplenum"><a href="#example-532">Example 532</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">`code\
span`
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;code&gt;code\<span class="space"> </span>span&lt;/code&gt;&lt;/p&gt;
</code></pre>
</div>
<p>或 HTML 标签内：</p>
<div class="example" id="example-533" data-section="硬换行">
<div class="examplenum"><a href="#example-533">Example 533</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;a<span class="space"> </span>href=&quot;foo
bar&quot;&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;foo
bar&quot;&gt;&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-534" data-section="硬换行">
<div class="examplenum"><a href="#example-534">Example 534</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">&lt;a<span class="space"> </span>href=&quot;foo\
bar&quot;&gt;
</code></pre>
<pre><code class="language-html">&lt;p&gt;&lt;a<span class="space"> </span>href=&quot;foo\
bar&quot;&gt;&lt;/p&gt;
</code></pre>
</div>
<p>硬换行用于隔开块中的内联元素，不适用于段落或其它块的末尾：</p>
<div class="example" id="example-535" data-section="硬换行">
<div class="examplenum"><a href="#example-535">Example 535</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo\
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo\&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-536" data-section="硬换行">
<div class="examplenum"><a href="#example-536">Example 536</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-537" data-section="硬换行">
<div class="examplenum"><a href="#example-537">Example 537</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">###<span class="space"> </span>foo\
</code></pre>
<pre><code class="language-html">&lt;h3&gt;foo\&lt;/h3&gt;
</code></pre>
</div>
<div class="example" id="example-538" data-section="硬换行">
<div class="examplenum"><a href="#example-538">Example 538</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">###<span class="space"> </span>foo
</code></pre>
<pre><code class="language-html">&lt;h3&gt;foo&lt;/h3&gt;
</code></pre>
</div>
<h2 id="软换行">6.10 软换行</h2>
<p>换行符不在行内代码或 HTML 标签内，前面没有两个或以上的空格，将解析为
软换行。渲染为 HTML 时是一个<a href="#line-ending">行结束符</a>或空格。
结果跟浏览器一样。下面例子使用行结束符。</p>
<div class="example" id="example-539" data-section="软换行">
<div class="examplenum"><a href="#example-539">Example 539</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo
baz
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo
baz&lt;/p&gt;
</code></pre>
</div>
<p>在行尾及下一行头部的空格移除：</p>
<div class="example" id="example-540" data-section="软换行">
<div class="examplenum"><a href="#example-540">Example 540</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">foo
<span class="space"> </span>baz
</code></pre>
<pre><code class="language-html">&lt;p&gt;foo
baz&lt;/p&gt;
</code></pre>
</div>
<p>符合规范的解析器将软换行符在HTML 中渲染为一个换行符或空格。</p>
<p>解析器也可以提供选项将软换行按硬换行处理。</p>
<h2 id="文本内容">6.11 文本内容</h2>
<p>任何在上述规则之外的字符将按纯文本内容处理。</p>
<div class="example" id="example-541" data-section="文本内容">
<div class="examplenum"><a href="#example-541">Example 541</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">hello<span class="space"> </span>$.;'there
</code></pre>
<pre><code class="language-html">&lt;p&gt;hello<span class="space"> </span>$.;'there&lt;/p&gt;
</code></pre>
</div>
<div class="example" id="example-542" data-section="文本内容">
<div class="examplenum"><a href="#example-542">Example 542</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">Foo<span class="space"> </span>χρῆν
</code></pre>
<pre><code class="language-html">&lt;p&gt;Foo<span class="space"> </span>χρῆν&lt;/p&gt;
</code></pre>
</div>
<p>内部空格保持不变：</p>
<div class="example" id="example-543" data-section="文本内容">
<div class="examplenum"><a href="#example-543">Example 543</a>&nbsp;&nbsp;<a class="dingus" title="open in interactive dingus">(interact)</a></div>
<pre><code class="language-markdown">Multiple<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>spaces
</code></pre>
<pre><code class="language-html">&lt;p&gt;Multiple<span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span>spaces&lt;/p&gt;
</code></pre>
</div>
<!-- END TESTS -->
<h1 id="附录-a-解析策略">附录 A: 解析策略</h1>
<h2 id="概述">概述</h2>
<p>解析过程有两个阶段：</p>
<ol>
<li>
<p>第一阶段，从输入行构造文档的结构，分为段落，块引用，列表项等。
不解析这些块的文本。链接引用定义经解析生成链接表。</p>
</li>
<li>
<p>第二阶段，将段落与标题的原生文本解析为一序列行内元素，字符串、内联代码、
链接，强调等。链接引用使用第一阶段的链接表。</p>
</li>
</ol>
<h2 id="文档树">文档树</h2>
<p>在处理过程中，文档呈现为一个块树。树的根是 <code>document</code> 块。<code>document</code> 可
包含任意其它块作为它的子元素。块的最后一个子元素通常是开着的，后续输入行
能改变它的内容。例如，下面是一个文档树，箭头标记的块是开着的：</p>
<pre><code class="language-tree">-&gt; document
  -&gt; block_quote
       paragraph
         &quot;Lorem ipsum dolor\nsit amet.&quot;
    -&gt; list (type=bullet tight=true bullet_char=-)
         list_item
           paragraph
             &quot;Qui *quodsi iracundia*&quot;
      -&gt; list_item
        -&gt; paragraph
             &quot;aliquando id&quot;
</code></pre>
<h2 id="输入行怎样改变文档树">输入行怎样改变文档树</h2>
<p>输入行在解析时会影响文档树。根据行的内容分析行，将以下面一或数种方式
改变文档：</p>
<ol>
<li>一或多个开着的块被关闭。</li>
<li>一或多个新块被创建为最后开着的块的子元素。</li>
<li>文本添加给最后开着的块。</li>
</ol>
<p>一旦行合并到树中便可以抛弃，因此输入能以流的方式读取。</p>
<p>其中过程，让我们来看看下面四行 Markdown 如何生成上面的树：</p>
<pre><code class="language-markdown">&gt; Lorem ipsum dolor
sit amet.
&gt; - Qui *quodsi iracundia*
&gt; - aliquando id
</code></pre>
<p>在最外层，我们的文档模型仅仅是</p>
<pre><code class="language-tree">-&gt; document
</code></pre>
<p>第一行，</p>
<pre><code class="language-markdown">&gt; Lorem ipsum dolor
</code></pre>
<p>导致生成一个 <code>block_quote</code> 块，作为开着的 <code>document</code> 块的子元素。
并且一个 <code>paragraph</code> 块作为 <code>block_quote</code> 的子元素。
于是文本加到最后开着的块，<code>block_quote</code>：</p>
<pre><code class="language-tree">-&gt; document
  -&gt; block_quote
    -&gt; paragraph
         &quot;Lorem ipsum dolor&quot;
</code></pre>
<p>下一行，</p>
<pre><code class="language-markdown">sit amet.
</code></pre>
<p>是开着的 <code>paragraph</code> 的懒惰延续，所以添加到段落中：</p>
<pre><code class="language-tree">-&gt; document
  -&gt; block_quote
    -&gt; paragraph
         &quot;Lorem ipsum dolor\nsit amet.&quot;
</code></pre>
<p>第三行，</p>
<pre><code class="language-markdown">&gt; - Qui *quodsi iracundia*
</code></pre>
<p>导致 <code>paragraph</code> 块关闭。一个新的 <code>list</code> 块打开为 <code>list</code> 的子元素，
一个 <code>paragraph</code> 为 <code>list_item</code> 的子元素。于是文本添加到这个新的
<code>paragraph</code>：</p>
<pre><code class="language-tree">-&gt; document
  -&gt; block_quote
       paragraph
         &quot;Lorem ipsum dolor\nsit amet.&quot;
    -&gt; list (type=bullet tight=true bullet_char=-)
      -&gt; list_item
        -&gt; paragraph
             &quot;Qui *quodsi iracundia*&quot;
</code></pre>
<p>第四行，</p>
<pre><code class="language-markdown">&gt; - aliquando id
</code></pre>
<p>导致 <code>list_item</code> 及它的子元素 <code>paragraph</code> 关闭。一个新的 <code>list_item</code>
打开为 <code>list</code> 的子元素。一个 <code>paragraph</code> 添加为这个 <code>list_item</code> 的子
元素，以包含文本。于是我们得到最终的树：</p>
<pre><code class="language-tree">-&gt; document
  -&gt; block_quote
       paragraph
         &quot;Lorem ipsum dolor\nsit amet.&quot;
    -&gt; list (type=bullet tight=true bullet_char=-)
         list_item
           paragraph
             &quot;Qui *quodsi iracundia*&quot;
      -&gt; list_item
        -&gt; paragraph
             &quot;aliquando id&quot;
</code></pre>
<h2 id="从块结构到最终文档">从块结构到最终文档</h2>
<p>输入一旦解析完成，所有的开着的块将关闭。</p>
<p>然后遍历树，访问每个节点，解析段落与标题的原生内容为内联元素。这时我们
已能看到所有的链接引用定义，所以同时处理链接引用。</p>
<pre><code class="language-tree">document
  block_quote
    paragraph
      str &quot;Lorem ipsum dolor&quot;
      softbreak
      str &quot;sit amet.&quot;
    list (type=bullet tight=true bullet_char=-)
      list_item
        paragraph
          str &quot;Qui &quot;
          emph
            str &quot;quodsi iracundia&quot;
      list_item
        paragraph
          str &quot;aliquando id&quot;
</code></pre>
<p>注意第一个段落的<a href="#line-ending">行结束符</a>如何解析为软换行符。
第一个列表项中的星号变成了 <code>emph</code>。</p>
<p>根据渲染器，这个文档可渲染为 HTML 或其它格式。</p>

</body>
</html>
